from time import *
start = time()
import sys
from z3 import *
s = Solver()

#Declaring parameter variables

N = Int('N')
s.add(N >= 0)

#Adding the resilience condition

s.add(N > 1)

####################################################################################

#Creating constraints for a run between the 0th and 1th configurations

################Step 1#################


#Creating many copies of location variables

locNO_0 = Int('locNO_0')
locNO_1 = Int('locNO_1')
locNO_2 = Int('locNO_2')
locNO_3 = Int('locNO_3')
locNO_4 = Int('locNO_4')
locNO_5 = Int('locNO_5')
locNO_6 = Int('locNO_6')
locNO_7 = Int('locNO_7')
locNO_8 = Int('locNO_8')
locNO_9 = Int('locNO_9')
s.add(locNO_0 >= 0)
s.add(locNO_1 >= 0)
s.add(locNO_2 >= 0)
s.add(locNO_3 >= 0)
s.add(locNO_4 >= 0)
s.add(locNO_5 >= 0)
s.add(locNO_6 >= 0)
s.add(locNO_7 >= 0)
s.add(locNO_8 >= 0)
s.add(locNO_9 >= 0)

locYES_0 = Int('locYES_0')
locYES_1 = Int('locYES_1')
locYES_2 = Int('locYES_2')
locYES_3 = Int('locYES_3')
locYES_4 = Int('locYES_4')
locYES_5 = Int('locYES_5')
locYES_6 = Int('locYES_6')
locYES_7 = Int('locYES_7')
locYES_8 = Int('locYES_8')
locYES_9 = Int('locYES_9')
s.add(locYES_0 >= 0)
s.add(locYES_1 >= 0)
s.add(locYES_2 >= 0)
s.add(locYES_3 >= 0)
s.add(locYES_4 >= 0)
s.add(locYES_5 >= 0)
s.add(locYES_6 >= 0)
s.add(locYES_7 >= 0)
s.add(locYES_8 >= 0)
s.add(locYES_9 >= 0)

locSE_0 = Int('locSE_0')
locSE_1 = Int('locSE_1')
locSE_2 = Int('locSE_2')
locSE_3 = Int('locSE_3')
locSE_4 = Int('locSE_4')
locSE_5 = Int('locSE_5')
locSE_6 = Int('locSE_6')
locSE_7 = Int('locSE_7')
locSE_8 = Int('locSE_8')
locSE_9 = Int('locSE_9')
s.add(locSE_0 >= 0)
s.add(locSE_1 >= 0)
s.add(locSE_2 >= 0)
s.add(locSE_3 >= 0)
s.add(locSE_4 >= 0)
s.add(locSE_5 >= 0)
s.add(locSE_6 >= 0)
s.add(locSE_7 >= 0)
s.add(locSE_8 >= 0)
s.add(locSE_9 >= 0)

locFDSE_0 = Int('locFDSE_0')
locFDSE_1 = Int('locFDSE_1')
locFDSE_2 = Int('locFDSE_2')
locFDSE_3 = Int('locFDSE_3')
locFDSE_4 = Int('locFDSE_4')
locFDSE_5 = Int('locFDSE_5')
locFDSE_6 = Int('locFDSE_6')
locFDSE_7 = Int('locFDSE_7')
locFDSE_8 = Int('locFDSE_8')
locFDSE_9 = Int('locFDSE_9')
s.add(locFDSE_0 >= 0)
s.add(locFDSE_1 >= 0)
s.add(locFDSE_2 >= 0)
s.add(locFDSE_3 >= 0)
s.add(locFDSE_4 >= 0)
s.add(locFDSE_5 >= 0)
s.add(locFDSE_6 >= 0)
s.add(locFDSE_7 >= 0)
s.add(locFDSE_8 >= 0)
s.add(locFDSE_9 >= 0)

locCMT_0 = Int('locCMT_0')
locCMT_1 = Int('locCMT_1')
locCMT_2 = Int('locCMT_2')
locCMT_3 = Int('locCMT_3')
locCMT_4 = Int('locCMT_4')
locCMT_5 = Int('locCMT_5')
locCMT_6 = Int('locCMT_6')
locCMT_7 = Int('locCMT_7')
locCMT_8 = Int('locCMT_8')
locCMT_9 = Int('locCMT_9')
s.add(locCMT_0 >= 0)
s.add(locCMT_1 >= 0)
s.add(locCMT_2 >= 0)
s.add(locCMT_3 >= 0)
s.add(locCMT_4 >= 0)
s.add(locCMT_5 >= 0)
s.add(locCMT_6 >= 0)
s.add(locCMT_7 >= 0)
s.add(locCMT_8 >= 0)
s.add(locCMT_9 >= 0)

locABR_0 = Int('locABR_0')
locABR_1 = Int('locABR_1')
locABR_2 = Int('locABR_2')
locABR_3 = Int('locABR_3')
locABR_4 = Int('locABR_4')
locABR_5 = Int('locABR_5')
locABR_6 = Int('locABR_6')
locABR_7 = Int('locABR_7')
locABR_8 = Int('locABR_8')
locABR_9 = Int('locABR_9')
s.add(locABR_0 >= 0)
s.add(locABR_1 >= 0)
s.add(locABR_2 >= 0)
s.add(locABR_3 >= 0)
s.add(locABR_4 >= 0)
s.add(locABR_5 >= 0)
s.add(locABR_6 >= 0)
s.add(locABR_7 >= 0)
s.add(locABR_8 >= 0)
s.add(locABR_9 >= 0)

locCR_0 = Int('locCR_0')
locCR_1 = Int('locCR_1')
locCR_2 = Int('locCR_2')
locCR_3 = Int('locCR_3')
locCR_4 = Int('locCR_4')
locCR_5 = Int('locCR_5')
locCR_6 = Int('locCR_6')
locCR_7 = Int('locCR_7')
locCR_8 = Int('locCR_8')
locCR_9 = Int('locCR_9')
s.add(locCR_0 >= 0)
s.add(locCR_1 >= 0)
s.add(locCR_2 >= 0)
s.add(locCR_3 >= 0)
s.add(locCR_4 >= 0)
s.add(locCR_5 >= 0)
s.add(locCR_6 >= 0)
s.add(locCR_7 >= 0)
s.add(locCR_8 >= 0)
s.add(locCR_9 >= 0)


#Adding the constraint for the number of processes

s.add(locNO_0 + locYES_0 + locSE_0 + locFDSE_0 + locCMT_0 + locABR_0 + locCR_0 == N)
s.add(locNO_1 + locYES_1 + locSE_1 + locFDSE_1 + locCMT_1 + locABR_1 + locCR_1 == N)
s.add(locNO_2 + locYES_2 + locSE_2 + locFDSE_2 + locCMT_2 + locABR_2 + locCR_2 == N)
s.add(locNO_3 + locYES_3 + locSE_3 + locFDSE_3 + locCMT_3 + locABR_3 + locCR_3 == N)
s.add(locNO_4 + locYES_4 + locSE_4 + locFDSE_4 + locCMT_4 + locABR_4 + locCR_4 == N)
s.add(locNO_5 + locYES_5 + locSE_5 + locFDSE_5 + locCMT_5 + locABR_5 + locCR_5 == N)
s.add(locNO_6 + locYES_6 + locSE_6 + locFDSE_6 + locCMT_6 + locABR_6 + locCR_6 == N)
s.add(locNO_7 + locYES_7 + locSE_7 + locFDSE_7 + locCMT_7 + locABR_7 + locCR_7 == N)
s.add(locNO_8 + locYES_8 + locSE_8 + locFDSE_8 + locCMT_8 + locABR_8 + locCR_8 == N)
s.add(locNO_9 + locYES_9 + locSE_9 + locFDSE_9 + locCMT_9 + locABR_9 + locCR_9 == N)

#Creating many copies of shared variables

nsntNoCF_0 = Int('nsntNoCF_0')
nsntNoCF_1 = Int('nsntNoCF_1')
nsntNoCF_2 = Int('nsntNoCF_2')
nsntNoCF_3 = Int('nsntNoCF_3')
nsntNoCF_4 = Int('nsntNoCF_4')
nsntNoCF_5 = Int('nsntNoCF_5')
nsntNoCF_6 = Int('nsntNoCF_6')
nsntNoCF_7 = Int('nsntNoCF_7')
nsntNoCF_8 = Int('nsntNoCF_8')
nsntNoCF_9 = Int('nsntNoCF_9')
s.add(nsntNoCF_0 >= 0)
s.add(nsntNoCF_1 >= 0)
s.add(nsntNoCF_2 >= 0)
s.add(nsntNoCF_3 >= 0)
s.add(nsntNoCF_4 >= 0)
s.add(nsntNoCF_5 >= 0)
s.add(nsntNoCF_6 >= 0)
s.add(nsntNoCF_7 >= 0)
s.add(nsntNoCF_8 >= 0)
s.add(nsntNoCF_9 >= 0)

nsntYesCF_0 = Int('nsntYesCF_0')
nsntYesCF_1 = Int('nsntYesCF_1')
nsntYesCF_2 = Int('nsntYesCF_2')
nsntYesCF_3 = Int('nsntYesCF_3')
nsntYesCF_4 = Int('nsntYesCF_4')
nsntYesCF_5 = Int('nsntYesCF_5')
nsntYesCF_6 = Int('nsntYesCF_6')
nsntYesCF_7 = Int('nsntYesCF_7')
nsntYesCF_8 = Int('nsntYesCF_8')
nsntYesCF_9 = Int('nsntYesCF_9')
s.add(nsntYesCF_0 >= 0)
s.add(nsntYesCF_1 >= 0)
s.add(nsntYesCF_2 >= 0)
s.add(nsntYesCF_3 >= 0)
s.add(nsntYesCF_4 >= 0)
s.add(nsntYesCF_5 >= 0)
s.add(nsntYesCF_6 >= 0)
s.add(nsntYesCF_7 >= 0)
s.add(nsntYesCF_8 >= 0)
s.add(nsntYesCF_9 >= 0)


#Ensuring that the alternating indices have the same context

s.add((nsntYesCF_0 >= N ) == (nsntYesCF_1 >= N ))
s.add((nsntNoCF_0 < 1 ) == (nsntNoCF_1 < 1 ))
s.add((nsntNoCF_0 >= 1 ) == (nsntNoCF_1 >= 1 ))
s.add((nsntYesCF_2 >= N ) == (nsntYesCF_3 >= N ))
s.add((nsntNoCF_2 < 1 ) == (nsntNoCF_3 < 1 ))
s.add((nsntNoCF_2 >= 1 ) == (nsntNoCF_3 >= 1 ))
s.add((nsntYesCF_4 >= N ) == (nsntYesCF_5 >= N ))
s.add((nsntNoCF_4 < 1 ) == (nsntNoCF_5 < 1 ))
s.add((nsntNoCF_4 >= 1 ) == (nsntNoCF_5 >= 1 ))
s.add((nsntYesCF_6 >= N ) == (nsntYesCF_7 >= N ))
s.add((nsntNoCF_6 < 1 ) == (nsntNoCF_7 < 1 ))
s.add((nsntNoCF_6 >= 1 ) == (nsntNoCF_7 >= 1 ))
s.add((nsntYesCF_8 >= N ) == (nsntYesCF_9 >= N ))
s.add((nsntNoCF_8 < 1 ) == (nsntNoCF_9 < 1 ))
s.add((nsntNoCF_8 >= 1 ) == (nsntNoCF_9 >= 1 ))

#Creating many copies of variables for rules

x0_0 = Int('x0_0')
x0_1 = Int('x0_1')
x0_2 = Int('x0_2')
x0_3 = Int('x0_3')
x0_4 = Int('x0_4')
x0_5 = Int('x0_5')
x0_6 = Int('x0_6')
x0_7 = Int('x0_7')
x0_8 = Int('x0_8')
s.add(x0_0 >= 0)
s.add(x0_1 >= 0)
s.add(x0_2 >= 0)
s.add(x0_3 >= 0)
s.add(x0_4 >= 0)
s.add(x0_5 >= 0)
s.add(x0_6 >= 0)
s.add(x0_7 >= 0)
s.add(x0_8 >= 0)

x1_0 = Int('x1_0')
x1_1 = Int('x1_1')
x1_2 = Int('x1_2')
x1_3 = Int('x1_3')
x1_4 = Int('x1_4')
x1_5 = Int('x1_5')
x1_6 = Int('x1_6')
x1_7 = Int('x1_7')
x1_8 = Int('x1_8')
s.add(x1_0 >= 0)
s.add(x1_1 >= 0)
s.add(x1_2 >= 0)
s.add(x1_3 >= 0)
s.add(x1_4 >= 0)
s.add(x1_5 >= 0)
s.add(x1_6 >= 0)
s.add(x1_7 >= 0)
s.add(x1_8 >= 0)

x2_0 = Int('x2_0')
x2_1 = Int('x2_1')
x2_2 = Int('x2_2')
x2_3 = Int('x2_3')
x2_4 = Int('x2_4')
x2_5 = Int('x2_5')
x2_6 = Int('x2_6')
x2_7 = Int('x2_7')
x2_8 = Int('x2_8')
s.add(x2_0 >= 0)
s.add(x2_1 >= 0)
s.add(x2_2 >= 0)
s.add(x2_3 >= 0)
s.add(x2_4 >= 0)
s.add(x2_5 >= 0)
s.add(x2_6 >= 0)
s.add(x2_7 >= 0)
s.add(x2_8 >= 0)

x3_0 = Int('x3_0')
x3_1 = Int('x3_1')
x3_2 = Int('x3_2')
x3_3 = Int('x3_3')
x3_4 = Int('x3_4')
x3_5 = Int('x3_5')
x3_6 = Int('x3_6')
x3_7 = Int('x3_7')
x3_8 = Int('x3_8')
s.add(x3_0 >= 0)
s.add(x3_1 >= 0)
s.add(x3_2 >= 0)
s.add(x3_3 >= 0)
s.add(x3_4 >= 0)
s.add(x3_5 >= 0)
s.add(x3_6 >= 0)
s.add(x3_7 >= 0)
s.add(x3_8 >= 0)

x4_0 = Int('x4_0')
x4_1 = Int('x4_1')
x4_2 = Int('x4_2')
x4_3 = Int('x4_3')
x4_4 = Int('x4_4')
x4_5 = Int('x4_5')
x4_6 = Int('x4_6')
x4_7 = Int('x4_7')
x4_8 = Int('x4_8')
s.add(x4_0 >= 0)
s.add(x4_1 >= 0)
s.add(x4_2 >= 0)
s.add(x4_3 >= 0)
s.add(x4_4 >= 0)
s.add(x4_5 >= 0)
s.add(x4_6 >= 0)
s.add(x4_7 >= 0)
s.add(x4_8 >= 0)

x5_0 = Int('x5_0')
x5_1 = Int('x5_1')
x5_2 = Int('x5_2')
x5_3 = Int('x5_3')
x5_4 = Int('x5_4')
x5_5 = Int('x5_5')
x5_6 = Int('x5_6')
x5_7 = Int('x5_7')
x5_8 = Int('x5_8')
s.add(x5_0 >= 0)
s.add(x5_1 >= 0)
s.add(x5_2 >= 0)
s.add(x5_3 >= 0)
s.add(x5_4 >= 0)
s.add(x5_5 >= 0)
s.add(x5_6 >= 0)
s.add(x5_7 >= 0)
s.add(x5_8 >= 0)

x6_0 = Int('x6_0')
x6_1 = Int('x6_1')
x6_2 = Int('x6_2')
x6_3 = Int('x6_3')
x6_4 = Int('x6_4')
x6_5 = Int('x6_5')
x6_6 = Int('x6_6')
x6_7 = Int('x6_7')
x6_8 = Int('x6_8')
s.add(x6_0 >= 0)
s.add(x6_1 >= 0)
s.add(x6_2 >= 0)
s.add(x6_3 >= 0)
s.add(x6_4 >= 0)
s.add(x6_5 >= 0)
s.add(x6_6 >= 0)
s.add(x6_7 >= 0)
s.add(x6_8 >= 0)

x7_0 = Int('x7_0')
x7_1 = Int('x7_1')
x7_2 = Int('x7_2')
x7_3 = Int('x7_3')
x7_4 = Int('x7_4')
x7_5 = Int('x7_5')
x7_6 = Int('x7_6')
x7_7 = Int('x7_7')
x7_8 = Int('x7_8')
s.add(x7_0 >= 0)
s.add(x7_1 >= 0)
s.add(x7_2 >= 0)
s.add(x7_3 >= 0)
s.add(x7_4 >= 0)
s.add(x7_5 >= 0)
s.add(x7_6 >= 0)
s.add(x7_7 >= 0)
s.add(x7_8 >= 0)

x8_0 = Int('x8_0')
x8_1 = Int('x8_1')
x8_2 = Int('x8_2')
x8_3 = Int('x8_3')
x8_4 = Int('x8_4')
x8_5 = Int('x8_5')
x8_6 = Int('x8_6')
x8_7 = Int('x8_7')
x8_8 = Int('x8_8')
s.add(x8_0 >= 0)
s.add(x8_1 >= 0)
s.add(x8_2 >= 0)
s.add(x8_3 >= 0)
s.add(x8_4 >= 0)
s.add(x8_5 >= 0)
s.add(x8_6 >= 0)
s.add(x8_7 >= 0)
s.add(x8_8 >= 0)

x9_0 = Int('x9_0')
x9_1 = Int('x9_1')
x9_2 = Int('x9_2')
x9_3 = Int('x9_3')
x9_4 = Int('x9_4')
x9_5 = Int('x9_5')
x9_6 = Int('x9_6')
x9_7 = Int('x9_7')
x9_8 = Int('x9_8')
s.add(x9_0 >= 0)
s.add(x9_1 >= 0)
s.add(x9_2 >= 0)
s.add(x9_3 >= 0)
s.add(x9_4 >= 0)
s.add(x9_5 >= 0)
s.add(x9_6 >= 0)
s.add(x9_7 >= 0)
s.add(x9_8 >= 0)

x10_0 = Int('x10_0')
x10_1 = Int('x10_1')
x10_2 = Int('x10_2')
x10_3 = Int('x10_3')
x10_4 = Int('x10_4')
x10_5 = Int('x10_5')
x10_6 = Int('x10_6')
x10_7 = Int('x10_7')
x10_8 = Int('x10_8')
s.add(x10_0 >= 0)
s.add(x10_1 >= 0)
s.add(x10_2 >= 0)
s.add(x10_3 >= 0)
s.add(x10_4 >= 0)
s.add(x10_5 >= 0)
s.add(x10_6 >= 0)
s.add(x10_7 >= 0)
s.add(x10_8 >= 0)

x11_0 = Int('x11_0')
x11_1 = Int('x11_1')
x11_2 = Int('x11_2')
x11_3 = Int('x11_3')
x11_4 = Int('x11_4')
x11_5 = Int('x11_5')
x11_6 = Int('x11_6')
x11_7 = Int('x11_7')
x11_8 = Int('x11_8')
s.add(x11_0 >= 0)
s.add(x11_1 >= 0)
s.add(x11_2 >= 0)
s.add(x11_3 >= 0)
s.add(x11_4 >= 0)
s.add(x11_5 >= 0)
s.add(x11_6 >= 0)
s.add(x11_7 >= 0)
s.add(x11_8 >= 0)

x12_0 = Int('x12_0')
x12_1 = Int('x12_1')
x12_2 = Int('x12_2')
x12_3 = Int('x12_3')
x12_4 = Int('x12_4')
x12_5 = Int('x12_5')
x12_6 = Int('x12_6')
x12_7 = Int('x12_7')
x12_8 = Int('x12_8')
s.add(x12_0 >= 0)
s.add(x12_1 >= 0)
s.add(x12_2 >= 0)
s.add(x12_3 >= 0)
s.add(x12_4 >= 0)
s.add(x12_5 >= 0)
s.add(x12_6 >= 0)
s.add(x12_7 >= 0)
s.add(x12_8 >= 0)

x13_0 = Int('x13_0')
x13_1 = Int('x13_1')
x13_2 = Int('x13_2')
x13_3 = Int('x13_3')
x13_4 = Int('x13_4')
x13_5 = Int('x13_5')
x13_6 = Int('x13_6')
x13_7 = Int('x13_7')
x13_8 = Int('x13_8')
s.add(x13_0 >= 0)
s.add(x13_1 >= 0)
s.add(x13_2 >= 0)
s.add(x13_3 >= 0)
s.add(x13_4 >= 0)
s.add(x13_5 >= 0)
s.add(x13_6 >= 0)
s.add(x13_7 >= 0)
s.add(x13_8 >= 0)

x14_0 = Int('x14_0')
x14_1 = Int('x14_1')
x14_2 = Int('x14_2')
x14_3 = Int('x14_3')
x14_4 = Int('x14_4')
x14_5 = Int('x14_5')
x14_6 = Int('x14_6')
x14_7 = Int('x14_7')
x14_8 = Int('x14_8')
s.add(x14_0 >= 0)
s.add(x14_1 >= 0)
s.add(x14_2 >= 0)
s.add(x14_3 >= 0)
s.add(x14_4 >= 0)
s.add(x14_5 >= 0)
s.add(x14_6 >= 0)
s.add(x14_7 >= 0)
s.add(x14_8 >= 0)

x15_0 = Int('x15_0')
x15_1 = Int('x15_1')
x15_2 = Int('x15_2')
x15_3 = Int('x15_3')
x15_4 = Int('x15_4')
x15_5 = Int('x15_5')
x15_6 = Int('x15_6')
x15_7 = Int('x15_7')
x15_8 = Int('x15_8')
s.add(x15_0 >= 0)
s.add(x15_1 >= 0)
s.add(x15_2 >= 0)
s.add(x15_3 >= 0)
s.add(x15_4 >= 0)
s.add(x15_5 >= 0)
s.add(x15_6 >= 0)
s.add(x15_7 >= 0)
s.add(x15_8 >= 0)


#Ensuring that at most one rule is fired between alternating configurations

s.add(Or((x0_1 == 0), (x0_1 == 1)))
s.add(Or((x1_1 == 0), (x1_1 == 1)))
s.add(Or((x2_1 == 0), (x2_1 == 1)))
s.add(Or((x3_1 == 0), (x3_1 == 1)))
s.add(Or((x4_1 == 0), (x4_1 == 1)))
s.add(Or((x5_1 == 0), (x5_1 == 1)))
s.add(Or((x6_1 == 0), (x6_1 == 1)))
s.add(Or((x7_1 == 0), (x7_1 == 1)))
s.add(Or((x8_1 == 0), (x8_1 == 1)))
s.add(Or((x9_1 == 0), (x9_1 == 1)))
s.add(Or((x10_1 == 0), (x10_1 == 1)))
s.add(Or((x11_1 == 0), (x11_1 == 1)))
s.add(Or((x12_1 == 0), (x12_1 == 1)))
s.add(Or((x13_1 == 0), (x13_1 == 1)))
s.add(Or((x14_1 == 0), (x14_1 == 1)))
s.add(Or((x15_1 == 0), (x15_1 == 1)))
s.add(x0_1 + x1_1 + x2_1 + x3_1 + x4_1 + x5_1 + x6_1 + x7_1 + x8_1 + x9_1 + x10_1 + x11_1 + x12_1 + x13_1 + x14_1 + x15_1 <= 1)

s.add(Or((x0_3 == 0), (x0_3 == 1)))
s.add(Or((x1_3 == 0), (x1_3 == 1)))
s.add(Or((x2_3 == 0), (x2_3 == 1)))
s.add(Or((x3_3 == 0), (x3_3 == 1)))
s.add(Or((x4_3 == 0), (x4_3 == 1)))
s.add(Or((x5_3 == 0), (x5_3 == 1)))
s.add(Or((x6_3 == 0), (x6_3 == 1)))
s.add(Or((x7_3 == 0), (x7_3 == 1)))
s.add(Or((x8_3 == 0), (x8_3 == 1)))
s.add(Or((x9_3 == 0), (x9_3 == 1)))
s.add(Or((x10_3 == 0), (x10_3 == 1)))
s.add(Or((x11_3 == 0), (x11_3 == 1)))
s.add(Or((x12_3 == 0), (x12_3 == 1)))
s.add(Or((x13_3 == 0), (x13_3 == 1)))
s.add(Or((x14_3 == 0), (x14_3 == 1)))
s.add(Or((x15_3 == 0), (x15_3 == 1)))
s.add(x0_3 + x1_3 + x2_3 + x3_3 + x4_3 + x5_3 + x6_3 + x7_3 + x8_3 + x9_3 + x10_3 + x11_3 + x12_3 + x13_3 + x14_3 + x15_3 <= 1)

s.add(Or((x0_5 == 0), (x0_5 == 1)))
s.add(Or((x1_5 == 0), (x1_5 == 1)))
s.add(Or((x2_5 == 0), (x2_5 == 1)))
s.add(Or((x3_5 == 0), (x3_5 == 1)))
s.add(Or((x4_5 == 0), (x4_5 == 1)))
s.add(Or((x5_5 == 0), (x5_5 == 1)))
s.add(Or((x6_5 == 0), (x6_5 == 1)))
s.add(Or((x7_5 == 0), (x7_5 == 1)))
s.add(Or((x8_5 == 0), (x8_5 == 1)))
s.add(Or((x9_5 == 0), (x9_5 == 1)))
s.add(Or((x10_5 == 0), (x10_5 == 1)))
s.add(Or((x11_5 == 0), (x11_5 == 1)))
s.add(Or((x12_5 == 0), (x12_5 == 1)))
s.add(Or((x13_5 == 0), (x13_5 == 1)))
s.add(Or((x14_5 == 0), (x14_5 == 1)))
s.add(Or((x15_5 == 0), (x15_5 == 1)))
s.add(x0_5 + x1_5 + x2_5 + x3_5 + x4_5 + x5_5 + x6_5 + x7_5 + x8_5 + x9_5 + x10_5 + x11_5 + x12_5 + x13_5 + x14_5 + x15_5 <= 1)

s.add(Or((x0_7 == 0), (x0_7 == 1)))
s.add(Or((x1_7 == 0), (x1_7 == 1)))
s.add(Or((x2_7 == 0), (x2_7 == 1)))
s.add(Or((x3_7 == 0), (x3_7 == 1)))
s.add(Or((x4_7 == 0), (x4_7 == 1)))
s.add(Or((x5_7 == 0), (x5_7 == 1)))
s.add(Or((x6_7 == 0), (x6_7 == 1)))
s.add(Or((x7_7 == 0), (x7_7 == 1)))
s.add(Or((x8_7 == 0), (x8_7 == 1)))
s.add(Or((x9_7 == 0), (x9_7 == 1)))
s.add(Or((x10_7 == 0), (x10_7 == 1)))
s.add(Or((x11_7 == 0), (x11_7 == 1)))
s.add(Or((x12_7 == 0), (x12_7 == 1)))
s.add(Or((x13_7 == 0), (x13_7 == 1)))
s.add(Or((x14_7 == 0), (x14_7 == 1)))
s.add(Or((x15_7 == 0), (x15_7 == 1)))
s.add(x0_7 + x1_7 + x2_7 + x3_7 + x4_7 + x5_7 + x6_7 + x7_7 + x8_7 + x9_7 + x10_7 + x11_7 + x12_7 + x13_7 + x14_7 + x15_7 <= 1)


###################Step 2####################


#Flow equations for the locations

s.add( - x0_0 - x6_0 ==  locNO_1 - locNO_0)
s.add( - x1_0 - x7_0 ==  locYES_1 - locYES_0)
s.add( + x0_0 + x1_0 - x2_0 - x3_0 - x5_0 - x8_0 - x12_0 + x12_0 ==  locSE_1 - locSE_0)
s.add( + x2_0 - x4_0 - x9_0 - x13_0 + x13_0 ==  locFDSE_1 - locFDSE_0)
s.add( + x5_0 - x10_0 - x14_0 + x14_0 ==  locCMT_1 - locCMT_0)
s.add( + x3_0 + x4_0 - x11_0 - x15_0 + x15_0 ==  locABR_1 - locABR_0)
s.add( + x6_0 + x7_0 + x8_0 + x9_0 + x10_0 + x11_0 ==  locCR_1 - locCR_0)
s.add( - x0_1 - x6_1 ==  locNO_2 - locNO_1)
s.add( - x1_1 - x7_1 ==  locYES_2 - locYES_1)
s.add( + x0_1 + x1_1 - x2_1 - x3_1 - x5_1 - x8_1 - x12_1 + x12_1 ==  locSE_2 - locSE_1)
s.add( + x2_1 - x4_1 - x9_1 - x13_1 + x13_1 ==  locFDSE_2 - locFDSE_1)
s.add( + x5_1 - x10_1 - x14_1 + x14_1 ==  locCMT_2 - locCMT_1)
s.add( + x3_1 + x4_1 - x11_1 - x15_1 + x15_1 ==  locABR_2 - locABR_1)
s.add( + x6_1 + x7_1 + x8_1 + x9_1 + x10_1 + x11_1 ==  locCR_2 - locCR_1)
s.add( - x0_2 - x6_2 ==  locNO_3 - locNO_2)
s.add( - x1_2 - x7_2 ==  locYES_3 - locYES_2)
s.add( + x0_2 + x1_2 - x2_2 - x3_2 - x5_2 - x8_2 - x12_2 + x12_2 ==  locSE_3 - locSE_2)
s.add( + x2_2 - x4_2 - x9_2 - x13_2 + x13_2 ==  locFDSE_3 - locFDSE_2)
s.add( + x5_2 - x10_2 - x14_2 + x14_2 ==  locCMT_3 - locCMT_2)
s.add( + x3_2 + x4_2 - x11_2 - x15_2 + x15_2 ==  locABR_3 - locABR_2)
s.add( + x6_2 + x7_2 + x8_2 + x9_2 + x10_2 + x11_2 ==  locCR_3 - locCR_2)
s.add( - x0_3 - x6_3 ==  locNO_4 - locNO_3)
s.add( - x1_3 - x7_3 ==  locYES_4 - locYES_3)
s.add( + x0_3 + x1_3 - x2_3 - x3_3 - x5_3 - x8_3 - x12_3 + x12_3 ==  locSE_4 - locSE_3)
s.add( + x2_3 - x4_3 - x9_3 - x13_3 + x13_3 ==  locFDSE_4 - locFDSE_3)
s.add( + x5_3 - x10_3 - x14_3 + x14_3 ==  locCMT_4 - locCMT_3)
s.add( + x3_3 + x4_3 - x11_3 - x15_3 + x15_3 ==  locABR_4 - locABR_3)
s.add( + x6_3 + x7_3 + x8_3 + x9_3 + x10_3 + x11_3 ==  locCR_4 - locCR_3)
s.add( - x0_4 - x6_4 ==  locNO_5 - locNO_4)
s.add( - x1_4 - x7_4 ==  locYES_5 - locYES_4)
s.add( + x0_4 + x1_4 - x2_4 - x3_4 - x5_4 - x8_4 - x12_4 + x12_4 ==  locSE_5 - locSE_4)
s.add( + x2_4 - x4_4 - x9_4 - x13_4 + x13_4 ==  locFDSE_5 - locFDSE_4)
s.add( + x5_4 - x10_4 - x14_4 + x14_4 ==  locCMT_5 - locCMT_4)
s.add( + x3_4 + x4_4 - x11_4 - x15_4 + x15_4 ==  locABR_5 - locABR_4)
s.add( + x6_4 + x7_4 + x8_4 + x9_4 + x10_4 + x11_4 ==  locCR_5 - locCR_4)
s.add( - x0_5 - x6_5 ==  locNO_6 - locNO_5)
s.add( - x1_5 - x7_5 ==  locYES_6 - locYES_5)
s.add( + x0_5 + x1_5 - x2_5 - x3_5 - x5_5 - x8_5 - x12_5 + x12_5 ==  locSE_6 - locSE_5)
s.add( + x2_5 - x4_5 - x9_5 - x13_5 + x13_5 ==  locFDSE_6 - locFDSE_5)
s.add( + x5_5 - x10_5 - x14_5 + x14_5 ==  locCMT_6 - locCMT_5)
s.add( + x3_5 + x4_5 - x11_5 - x15_5 + x15_5 ==  locABR_6 - locABR_5)
s.add( + x6_5 + x7_5 + x8_5 + x9_5 + x10_5 + x11_5 ==  locCR_6 - locCR_5)
s.add( - x0_6 - x6_6 ==  locNO_7 - locNO_6)
s.add( - x1_6 - x7_6 ==  locYES_7 - locYES_6)
s.add( + x0_6 + x1_6 - x2_6 - x3_6 - x5_6 - x8_6 - x12_6 + x12_6 ==  locSE_7 - locSE_6)
s.add( + x2_6 - x4_6 - x9_6 - x13_6 + x13_6 ==  locFDSE_7 - locFDSE_6)
s.add( + x5_6 - x10_6 - x14_6 + x14_6 ==  locCMT_7 - locCMT_6)
s.add( + x3_6 + x4_6 - x11_6 - x15_6 + x15_6 ==  locABR_7 - locABR_6)
s.add( + x6_6 + x7_6 + x8_6 + x9_6 + x10_6 + x11_6 ==  locCR_7 - locCR_6)
s.add( - x0_7 - x6_7 ==  locNO_8 - locNO_7)
s.add( - x1_7 - x7_7 ==  locYES_8 - locYES_7)
s.add( + x0_7 + x1_7 - x2_7 - x3_7 - x5_7 - x8_7 - x12_7 + x12_7 ==  locSE_8 - locSE_7)
s.add( + x2_7 - x4_7 - x9_7 - x13_7 + x13_7 ==  locFDSE_8 - locFDSE_7)
s.add( + x5_7 - x10_7 - x14_7 + x14_7 ==  locCMT_8 - locCMT_7)
s.add( + x3_7 + x4_7 - x11_7 - x15_7 + x15_7 ==  locABR_8 - locABR_7)
s.add( + x6_7 + x7_7 + x8_7 + x9_7 + x10_7 + x11_7 ==  locCR_8 - locCR_7)
s.add( - x0_8 - x6_8 ==  locNO_9 - locNO_8)
s.add( - x1_8 - x7_8 ==  locYES_9 - locYES_8)
s.add( + x0_8 + x1_8 - x2_8 - x3_8 - x5_8 - x8_8 - x12_8 + x12_8 ==  locSE_9 - locSE_8)
s.add( + x2_8 - x4_8 - x9_8 - x13_8 + x13_8 ==  locFDSE_9 - locFDSE_8)
s.add( + x5_8 - x10_8 - x14_8 + x14_8 ==  locCMT_9 - locCMT_8)
s.add( + x3_8 + x4_8 - x11_8 - x15_8 + x15_8 ==  locABR_9 - locABR_8)
s.add( + x6_8 + x7_8 + x8_8 + x9_8 + x10_8 + x11_8 ==  locCR_9 - locCR_8)

##################Step 3########################


#Flow equations for the shared variables

s.add(0 + x0_0 * 1 == nsntNoCF_1 - nsntNoCF_0)
s.add(0 + x1_0 * 1 == nsntYesCF_1 - nsntYesCF_0)
s.add(0 + x0_1 * 1 == nsntNoCF_2 - nsntNoCF_1)
s.add(0 + x1_1 * 1 == nsntYesCF_2 - nsntYesCF_1)
s.add(0 + x0_2 * 1 == nsntNoCF_3 - nsntNoCF_2)
s.add(0 + x1_2 * 1 == nsntYesCF_3 - nsntYesCF_2)
s.add(0 + x0_3 * 1 == nsntNoCF_4 - nsntNoCF_3)
s.add(0 + x1_3 * 1 == nsntYesCF_4 - nsntYesCF_3)
s.add(0 + x0_4 * 1 == nsntNoCF_5 - nsntNoCF_4)
s.add(0 + x1_4 * 1 == nsntYesCF_5 - nsntYesCF_4)
s.add(0 + x0_5 * 1 == nsntNoCF_6 - nsntNoCF_5)
s.add(0 + x1_5 * 1 == nsntYesCF_6 - nsntYesCF_5)
s.add(0 + x0_6 * 1 == nsntNoCF_7 - nsntNoCF_6)
s.add(0 + x1_6 * 1 == nsntYesCF_7 - nsntYesCF_6)
s.add(0 + x0_7 * 1 == nsntNoCF_8 - nsntNoCF_7)
s.add(0 + x1_7 * 1 == nsntYesCF_8 - nsntYesCF_7)
s.add(0 + x0_8 * 1 == nsntNoCF_9 - nsntNoCF_8)
s.add(0 + x1_8 * 1 == nsntYesCF_9 - nsntYesCF_8)

####################Step 4########################


#Rule is fired implies rule is enabled

s.add(Implies( (x0_0 > 0), ((True) ) ))
s.add(Implies( (x0_1 > 0), ((True) ) ))
s.add(Implies( (x0_2 > 0), ((True) ) ))
s.add(Implies( (x0_3 > 0), ((True) ) ))
s.add(Implies( (x0_4 > 0), ((True) ) ))
s.add(Implies( (x0_5 > 0), ((True) ) ))
s.add(Implies( (x0_6 > 0), ((True) ) ))
s.add(Implies( (x0_7 > 0), ((True) ) ))
s.add(Implies( (x0_8 > 0), ((True) ) ))
s.add(Implies( (x1_0 > 0), ((True) ) ))
s.add(Implies( (x1_1 > 0), ((True) ) ))
s.add(Implies( (x1_2 > 0), ((True) ) ))
s.add(Implies( (x1_3 > 0), ((True) ) ))
s.add(Implies( (x1_4 > 0), ((True) ) ))
s.add(Implies( (x1_5 > 0), ((True) ) ))
s.add(Implies( (x1_6 > 0), ((True) ) ))
s.add(Implies( (x1_7 > 0), ((True) ) ))
s.add(Implies( (x1_8 > 0), ((True) ) ))
s.add(Implies( (x2_0 > 0), ((True) ) ))
s.add(Implies( (x2_1 > 0), ((True) ) ))
s.add(Implies( (x2_2 > 0), ((True) ) ))
s.add(Implies( (x2_3 > 0), ((True) ) ))
s.add(Implies( (x2_4 > 0), ((True) ) ))
s.add(Implies( (x2_5 > 0), ((True) ) ))
s.add(Implies( (x2_6 > 0), ((True) ) ))
s.add(Implies( (x2_7 > 0), ((True) ) ))
s.add(Implies( (x2_8 > 0), ((True) ) ))
s.add(Implies( (x3_0 > 0), ((nsntNoCF_0 >= 1) ) ))
s.add(Implies( (x3_1 > 0), ((nsntNoCF_1 >= 1) ) ))
s.add(Implies( (x3_2 > 0), ((nsntNoCF_2 >= 1) ) ))
s.add(Implies( (x3_3 > 0), ((nsntNoCF_3 >= 1) ) ))
s.add(Implies( (x3_4 > 0), ((nsntNoCF_4 >= 1) ) ))
s.add(Implies( (x3_5 > 0), ((nsntNoCF_5 >= 1) ) ))
s.add(Implies( (x3_6 > 0), ((nsntNoCF_6 >= 1) ) ))
s.add(Implies( (x3_7 > 0), ((nsntNoCF_7 >= 1) ) ))
s.add(Implies( (x3_8 > 0), ((nsntNoCF_8 >= 1) ) ))
s.add(Implies( (x4_0 > 0), ((True) ) ))
s.add(Implies( (x4_1 > 0), ((True) ) ))
s.add(Implies( (x4_2 > 0), ((True) ) ))
s.add(Implies( (x4_3 > 0), ((True) ) ))
s.add(Implies( (x4_4 > 0), ((True) ) ))
s.add(Implies( (x4_5 > 0), ((True) ) ))
s.add(Implies( (x4_6 > 0), ((True) ) ))
s.add(Implies( (x4_7 > 0), ((True) ) ))
s.add(Implies( (x4_8 > 0), ((True) ) ))
s.add(Implies( (x5_0 > 0), (And(nsntNoCF_0 < 1 , nsntYesCF_0 >= N) ) ))
s.add(Implies( (x5_1 > 0), (And(nsntNoCF_1 < 1 , nsntYesCF_1 >= N) ) ))
s.add(Implies( (x5_2 > 0), (And(nsntNoCF_2 < 1 , nsntYesCF_2 >= N) ) ))
s.add(Implies( (x5_3 > 0), (And(nsntNoCF_3 < 1 , nsntYesCF_3 >= N) ) ))
s.add(Implies( (x5_4 > 0), (And(nsntNoCF_4 < 1 , nsntYesCF_4 >= N) ) ))
s.add(Implies( (x5_5 > 0), (And(nsntNoCF_5 < 1 , nsntYesCF_5 >= N) ) ))
s.add(Implies( (x5_6 > 0), (And(nsntNoCF_6 < 1 , nsntYesCF_6 >= N) ) ))
s.add(Implies( (x5_7 > 0), (And(nsntNoCF_7 < 1 , nsntYesCF_7 >= N) ) ))
s.add(Implies( (x5_8 > 0), (And(nsntNoCF_8 < 1 , nsntYesCF_8 >= N) ) ))
s.add(Implies( (x6_0 > 0), ((True) ) ))
s.add(Implies( (x6_1 > 0), ((True) ) ))
s.add(Implies( (x6_2 > 0), ((True) ) ))
s.add(Implies( (x6_3 > 0), ((True) ) ))
s.add(Implies( (x6_4 > 0), ((True) ) ))
s.add(Implies( (x6_5 > 0), ((True) ) ))
s.add(Implies( (x6_6 > 0), ((True) ) ))
s.add(Implies( (x6_7 > 0), ((True) ) ))
s.add(Implies( (x6_8 > 0), ((True) ) ))
s.add(Implies( (x7_0 > 0), ((True) ) ))
s.add(Implies( (x7_1 > 0), ((True) ) ))
s.add(Implies( (x7_2 > 0), ((True) ) ))
s.add(Implies( (x7_3 > 0), ((True) ) ))
s.add(Implies( (x7_4 > 0), ((True) ) ))
s.add(Implies( (x7_5 > 0), ((True) ) ))
s.add(Implies( (x7_6 > 0), ((True) ) ))
s.add(Implies( (x7_7 > 0), ((True) ) ))
s.add(Implies( (x7_8 > 0), ((True) ) ))
s.add(Implies( (x8_0 > 0), ((True) ) ))
s.add(Implies( (x8_1 > 0), ((True) ) ))
s.add(Implies( (x8_2 > 0), ((True) ) ))
s.add(Implies( (x8_3 > 0), ((True) ) ))
s.add(Implies( (x8_4 > 0), ((True) ) ))
s.add(Implies( (x8_5 > 0), ((True) ) ))
s.add(Implies( (x8_6 > 0), ((True) ) ))
s.add(Implies( (x8_7 > 0), ((True) ) ))
s.add(Implies( (x8_8 > 0), ((True) ) ))
s.add(Implies( (x9_0 > 0), ((True) ) ))
s.add(Implies( (x9_1 > 0), ((True) ) ))
s.add(Implies( (x9_2 > 0), ((True) ) ))
s.add(Implies( (x9_3 > 0), ((True) ) ))
s.add(Implies( (x9_4 > 0), ((True) ) ))
s.add(Implies( (x9_5 > 0), ((True) ) ))
s.add(Implies( (x9_6 > 0), ((True) ) ))
s.add(Implies( (x9_7 > 0), ((True) ) ))
s.add(Implies( (x9_8 > 0), ((True) ) ))
s.add(Implies( (x10_0 > 0), ((True) ) ))
s.add(Implies( (x10_1 > 0), ((True) ) ))
s.add(Implies( (x10_2 > 0), ((True) ) ))
s.add(Implies( (x10_3 > 0), ((True) ) ))
s.add(Implies( (x10_4 > 0), ((True) ) ))
s.add(Implies( (x10_5 > 0), ((True) ) ))
s.add(Implies( (x10_6 > 0), ((True) ) ))
s.add(Implies( (x10_7 > 0), ((True) ) ))
s.add(Implies( (x10_8 > 0), ((True) ) ))
s.add(Implies( (x11_0 > 0), ((True) ) ))
s.add(Implies( (x11_1 > 0), ((True) ) ))
s.add(Implies( (x11_2 > 0), ((True) ) ))
s.add(Implies( (x11_3 > 0), ((True) ) ))
s.add(Implies( (x11_4 > 0), ((True) ) ))
s.add(Implies( (x11_5 > 0), ((True) ) ))
s.add(Implies( (x11_6 > 0), ((True) ) ))
s.add(Implies( (x11_7 > 0), ((True) ) ))
s.add(Implies( (x11_8 > 0), ((True) ) ))
s.add(Implies( (x12_0 > 0), ((True) ) ))
s.add(Implies( (x12_1 > 0), ((True) ) ))
s.add(Implies( (x12_2 > 0), ((True) ) ))
s.add(Implies( (x12_3 > 0), ((True) ) ))
s.add(Implies( (x12_4 > 0), ((True) ) ))
s.add(Implies( (x12_5 > 0), ((True) ) ))
s.add(Implies( (x12_6 > 0), ((True) ) ))
s.add(Implies( (x12_7 > 0), ((True) ) ))
s.add(Implies( (x12_8 > 0), ((True) ) ))
s.add(Implies( (x13_0 > 0), ((True) ) ))
s.add(Implies( (x13_1 > 0), ((True) ) ))
s.add(Implies( (x13_2 > 0), ((True) ) ))
s.add(Implies( (x13_3 > 0), ((True) ) ))
s.add(Implies( (x13_4 > 0), ((True) ) ))
s.add(Implies( (x13_5 > 0), ((True) ) ))
s.add(Implies( (x13_6 > 0), ((True) ) ))
s.add(Implies( (x13_7 > 0), ((True) ) ))
s.add(Implies( (x13_8 > 0), ((True) ) ))
s.add(Implies( (x14_0 > 0), ((True) ) ))
s.add(Implies( (x14_1 > 0), ((True) ) ))
s.add(Implies( (x14_2 > 0), ((True) ) ))
s.add(Implies( (x14_3 > 0), ((True) ) ))
s.add(Implies( (x14_4 > 0), ((True) ) ))
s.add(Implies( (x14_5 > 0), ((True) ) ))
s.add(Implies( (x14_6 > 0), ((True) ) ))
s.add(Implies( (x14_7 > 0), ((True) ) ))
s.add(Implies( (x14_8 > 0), ((True) ) ))
s.add(Implies( (x15_0 > 0), ((True) ) ))
s.add(Implies( (x15_1 > 0), ((True) ) ))
s.add(Implies( (x15_2 > 0), ((True) ) ))
s.add(Implies( (x15_3 > 0), ((True) ) ))
s.add(Implies( (x15_4 > 0), ((True) ) ))
s.add(Implies( (x15_5 > 0), ((True) ) ))
s.add(Implies( (x15_6 > 0), ((True) ) ))
s.add(Implies( (x15_7 > 0), ((True) ) ))
s.add(Implies( (x15_8 > 0), ((True) ) ))

######################Step 5#####################


#Constraints that the 0th configuration has to satisfy

s.add(locNO_0 != 0 )

#######################Step 5 1/2################


#Ensure that the constraints on the initial configuration are satisfied

s.add((locNO_0 + locYES_0) == N)
s.add(locSE_0 == 0)
s.add(locFDSE_0 == 0)
s.add(locCMT_0 == 0)
s.add(locABR_0 == 0)
s.add(locCR_0 == 0)
s.add(nsntNoCF_0 == 0)
s.add(nsntYesCF_0 == 0)

#####################Step 6########################


#Constraints that the path between the 0th and 1th configuration has to satisfy

s.add(True )
s.add(True )
s.add(True )
s.add(True )
s.add(True )
s.add(True )
s.add(True )
s.add(True )
s.add(True )
s.add(True )

#####################Step 7#########################


#In the inital part, we do not allow all the edges in a cycle to be fired as this is clearly wasteful, assuming the automaton is canonical


#Further, if an edge is a self-loop, we do not fire that as well

s.add(x12_0 == 0)
s.add(x12_1 == 0)
s.add(x12_2 == 0)
s.add(x12_3 == 0)
s.add(x12_4 == 0)
s.add(x12_5 == 0)
s.add(x12_6 == 0)
s.add(x12_7 == 0)
s.add(x12_8 == 0)
s.add(x13_0 == 0)
s.add(x13_1 == 0)
s.add(x13_2 == 0)
s.add(x13_3 == 0)
s.add(x13_4 == 0)
s.add(x13_5 == 0)
s.add(x13_6 == 0)
s.add(x13_7 == 0)
s.add(x13_8 == 0)
s.add(x14_0 == 0)
s.add(x14_1 == 0)
s.add(x14_2 == 0)
s.add(x14_3 == 0)
s.add(x14_4 == 0)
s.add(x14_5 == 0)
s.add(x14_6 == 0)
s.add(x14_7 == 0)
s.add(x14_8 == 0)
s.add(x15_0 == 0)
s.add(x15_1 == 0)
s.add(x15_2 == 0)
s.add(x15_3 == 0)
s.add(x15_4 == 0)
s.add(x15_5 == 0)
s.add(x15_6 == 0)
s.add(x15_7 == 0)
s.add(x15_8 == 0)

##########Closing path###########

s.add(locCMT_9 != 0 )

if s.check() == sat:

	print("Specification not satisfied")

	raise StopIteration("stop here")

s.reset()

#Declaring parameter variables

N = Int('N')
s.add(N >= 0)

#Adding the resilience condition

s.add(N > 1)

print("Specification satisfied")