from time import *
start = time()
import sys
from z3 import *
s = Solver()

#Declaring parameter variables

N = Int('N')
s.add(N >= 0)

#Adding the resilience condition

s.add(N > 1)

####################################################################################

#Creating constraints for a run between the 0th and 1th configurations

################Step 1#################


#Creating many copies of location variables

locNO_0 = Int('locNO_0')
locNO_1 = Int('locNO_1')
locNO_2 = Int('locNO_2')
locNO_3 = Int('locNO_3')
locNO_4 = Int('locNO_4')
locNO_5 = Int('locNO_5')
locNO_6 = Int('locNO_6')
locNO_7 = Int('locNO_7')
locNO_8 = Int('locNO_8')
locNO_9 = Int('locNO_9')
s.add(locNO_0 >= 0)
s.add(locNO_1 >= 0)
s.add(locNO_2 >= 0)
s.add(locNO_3 >= 0)
s.add(locNO_4 >= 0)
s.add(locNO_5 >= 0)
s.add(locNO_6 >= 0)
s.add(locNO_7 >= 0)
s.add(locNO_8 >= 0)
s.add(locNO_9 >= 0)

locYES_0 = Int('locYES_0')
locYES_1 = Int('locYES_1')
locYES_2 = Int('locYES_2')
locYES_3 = Int('locYES_3')
locYES_4 = Int('locYES_4')
locYES_5 = Int('locYES_5')
locYES_6 = Int('locYES_6')
locYES_7 = Int('locYES_7')
locYES_8 = Int('locYES_8')
locYES_9 = Int('locYES_9')
s.add(locYES_0 >= 0)
s.add(locYES_1 >= 0)
s.add(locYES_2 >= 0)
s.add(locYES_3 >= 0)
s.add(locYES_4 >= 0)
s.add(locYES_5 >= 0)
s.add(locYES_6 >= 0)
s.add(locYES_7 >= 0)
s.add(locYES_8 >= 0)
s.add(locYES_9 >= 0)

locSE_0 = Int('locSE_0')
locSE_1 = Int('locSE_1')
locSE_2 = Int('locSE_2')
locSE_3 = Int('locSE_3')
locSE_4 = Int('locSE_4')
locSE_5 = Int('locSE_5')
locSE_6 = Int('locSE_6')
locSE_7 = Int('locSE_7')
locSE_8 = Int('locSE_8')
locSE_9 = Int('locSE_9')
s.add(locSE_0 >= 0)
s.add(locSE_1 >= 0)
s.add(locSE_2 >= 0)
s.add(locSE_3 >= 0)
s.add(locSE_4 >= 0)
s.add(locSE_5 >= 0)
s.add(locSE_6 >= 0)
s.add(locSE_7 >= 0)
s.add(locSE_8 >= 0)
s.add(locSE_9 >= 0)

locFDSE_0 = Int('locFDSE_0')
locFDSE_1 = Int('locFDSE_1')
locFDSE_2 = Int('locFDSE_2')
locFDSE_3 = Int('locFDSE_3')
locFDSE_4 = Int('locFDSE_4')
locFDSE_5 = Int('locFDSE_5')
locFDSE_6 = Int('locFDSE_6')
locFDSE_7 = Int('locFDSE_7')
locFDSE_8 = Int('locFDSE_8')
locFDSE_9 = Int('locFDSE_9')
s.add(locFDSE_0 >= 0)
s.add(locFDSE_1 >= 0)
s.add(locFDSE_2 >= 0)
s.add(locFDSE_3 >= 0)
s.add(locFDSE_4 >= 0)
s.add(locFDSE_5 >= 0)
s.add(locFDSE_6 >= 0)
s.add(locFDSE_7 >= 0)
s.add(locFDSE_8 >= 0)
s.add(locFDSE_9 >= 0)

locCMT_0 = Int('locCMT_0')
locCMT_1 = Int('locCMT_1')
locCMT_2 = Int('locCMT_2')
locCMT_3 = Int('locCMT_3')
locCMT_4 = Int('locCMT_4')
locCMT_5 = Int('locCMT_5')
locCMT_6 = Int('locCMT_6')
locCMT_7 = Int('locCMT_7')
locCMT_8 = Int('locCMT_8')
locCMT_9 = Int('locCMT_9')
s.add(locCMT_0 >= 0)
s.add(locCMT_1 >= 0)
s.add(locCMT_2 >= 0)
s.add(locCMT_3 >= 0)
s.add(locCMT_4 >= 0)
s.add(locCMT_5 >= 0)
s.add(locCMT_6 >= 0)
s.add(locCMT_7 >= 0)
s.add(locCMT_8 >= 0)
s.add(locCMT_9 >= 0)

locABR_0 = Int('locABR_0')
locABR_1 = Int('locABR_1')
locABR_2 = Int('locABR_2')
locABR_3 = Int('locABR_3')
locABR_4 = Int('locABR_4')
locABR_5 = Int('locABR_5')
locABR_6 = Int('locABR_6')
locABR_7 = Int('locABR_7')
locABR_8 = Int('locABR_8')
locABR_9 = Int('locABR_9')
s.add(locABR_0 >= 0)
s.add(locABR_1 >= 0)
s.add(locABR_2 >= 0)
s.add(locABR_3 >= 0)
s.add(locABR_4 >= 0)
s.add(locABR_5 >= 0)
s.add(locABR_6 >= 0)
s.add(locABR_7 >= 0)
s.add(locABR_8 >= 0)
s.add(locABR_9 >= 0)

locCR_0 = Int('locCR_0')
locCR_1 = Int('locCR_1')
locCR_2 = Int('locCR_2')
locCR_3 = Int('locCR_3')
locCR_4 = Int('locCR_4')
locCR_5 = Int('locCR_5')
locCR_6 = Int('locCR_6')
locCR_7 = Int('locCR_7')
locCR_8 = Int('locCR_8')
locCR_9 = Int('locCR_9')
s.add(locCR_0 >= 0)
s.add(locCR_1 >= 0)
s.add(locCR_2 >= 0)
s.add(locCR_3 >= 0)
s.add(locCR_4 >= 0)
s.add(locCR_5 >= 0)
s.add(locCR_6 >= 0)
s.add(locCR_7 >= 0)
s.add(locCR_8 >= 0)
s.add(locCR_9 >= 0)


#Adding the constraint for the number of processes

s.add(locNO_0 + locYES_0 + locSE_0 + locFDSE_0 + locCMT_0 + locABR_0 + locCR_0 == N)
s.add(locNO_1 + locYES_1 + locSE_1 + locFDSE_1 + locCMT_1 + locABR_1 + locCR_1 == N)
s.add(locNO_2 + locYES_2 + locSE_2 + locFDSE_2 + locCMT_2 + locABR_2 + locCR_2 == N)
s.add(locNO_3 + locYES_3 + locSE_3 + locFDSE_3 + locCMT_3 + locABR_3 + locCR_3 == N)
s.add(locNO_4 + locYES_4 + locSE_4 + locFDSE_4 + locCMT_4 + locABR_4 + locCR_4 == N)
s.add(locNO_5 + locYES_5 + locSE_5 + locFDSE_5 + locCMT_5 + locABR_5 + locCR_5 == N)
s.add(locNO_6 + locYES_6 + locSE_6 + locFDSE_6 + locCMT_6 + locABR_6 + locCR_6 == N)
s.add(locNO_7 + locYES_7 + locSE_7 + locFDSE_7 + locCMT_7 + locABR_7 + locCR_7 == N)
s.add(locNO_8 + locYES_8 + locSE_8 + locFDSE_8 + locCMT_8 + locABR_8 + locCR_8 == N)
s.add(locNO_9 + locYES_9 + locSE_9 + locFDSE_9 + locCMT_9 + locABR_9 + locCR_9 == N)

#Creating many copies of shared variables

nsntNoCF_0 = Int('nsntNoCF_0')
nsntNoCF_1 = Int('nsntNoCF_1')
nsntNoCF_2 = Int('nsntNoCF_2')
nsntNoCF_3 = Int('nsntNoCF_3')
nsntNoCF_4 = Int('nsntNoCF_4')
nsntNoCF_5 = Int('nsntNoCF_5')
nsntNoCF_6 = Int('nsntNoCF_6')
nsntNoCF_7 = Int('nsntNoCF_7')
nsntNoCF_8 = Int('nsntNoCF_8')
nsntNoCF_9 = Int('nsntNoCF_9')
s.add(nsntNoCF_0 >= 0)
s.add(nsntNoCF_1 >= 0)
s.add(nsntNoCF_2 >= 0)
s.add(nsntNoCF_3 >= 0)
s.add(nsntNoCF_4 >= 0)
s.add(nsntNoCF_5 >= 0)
s.add(nsntNoCF_6 >= 0)
s.add(nsntNoCF_7 >= 0)
s.add(nsntNoCF_8 >= 0)
s.add(nsntNoCF_9 >= 0)

nsntYesCF_0 = Int('nsntYesCF_0')
nsntYesCF_1 = Int('nsntYesCF_1')
nsntYesCF_2 = Int('nsntYesCF_2')
nsntYesCF_3 = Int('nsntYesCF_3')
nsntYesCF_4 = Int('nsntYesCF_4')
nsntYesCF_5 = Int('nsntYesCF_5')
nsntYesCF_6 = Int('nsntYesCF_6')
nsntYesCF_7 = Int('nsntYesCF_7')
nsntYesCF_8 = Int('nsntYesCF_8')
nsntYesCF_9 = Int('nsntYesCF_9')
s.add(nsntYesCF_0 >= 0)
s.add(nsntYesCF_1 >= 0)
s.add(nsntYesCF_2 >= 0)
s.add(nsntYesCF_3 >= 0)
s.add(nsntYesCF_4 >= 0)
s.add(nsntYesCF_5 >= 0)
s.add(nsntYesCF_6 >= 0)
s.add(nsntYesCF_7 >= 0)
s.add(nsntYesCF_8 >= 0)
s.add(nsntYesCF_9 >= 0)


#Ensuring that the alternating indices have the same context

s.add((nsntYesCF_0 >= N ) == (nsntYesCF_1 >= N ))
s.add((nsntNoCF_0 < 1 ) == (nsntNoCF_1 < 1 ))
s.add((nsntNoCF_0 >= 1 ) == (nsntNoCF_1 >= 1 ))
s.add((nsntYesCF_2 >= N ) == (nsntYesCF_3 >= N ))
s.add((nsntNoCF_2 < 1 ) == (nsntNoCF_3 < 1 ))
s.add((nsntNoCF_2 >= 1 ) == (nsntNoCF_3 >= 1 ))
s.add((nsntYesCF_4 >= N ) == (nsntYesCF_5 >= N ))
s.add((nsntNoCF_4 < 1 ) == (nsntNoCF_5 < 1 ))
s.add((nsntNoCF_4 >= 1 ) == (nsntNoCF_5 >= 1 ))
s.add((nsntYesCF_6 >= N ) == (nsntYesCF_7 >= N ))
s.add((nsntNoCF_6 < 1 ) == (nsntNoCF_7 < 1 ))
s.add((nsntNoCF_6 >= 1 ) == (nsntNoCF_7 >= 1 ))
s.add((nsntYesCF_8 >= N ) == (nsntYesCF_9 >= N ))
s.add((nsntNoCF_8 < 1 ) == (nsntNoCF_9 < 1 ))
s.add((nsntNoCF_8 >= 1 ) == (nsntNoCF_9 >= 1 ))

#Creating many copies of variables for rules

x0_0 = Int('x0_0')
x0_1 = Int('x0_1')
x0_2 = Int('x0_2')
x0_3 = Int('x0_3')
x0_4 = Int('x0_4')
x0_5 = Int('x0_5')
x0_6 = Int('x0_6')
x0_7 = Int('x0_7')
x0_8 = Int('x0_8')
s.add(x0_0 >= 0)
s.add(x0_1 >= 0)
s.add(x0_2 >= 0)
s.add(x0_3 >= 0)
s.add(x0_4 >= 0)
s.add(x0_5 >= 0)
s.add(x0_6 >= 0)
s.add(x0_7 >= 0)
s.add(x0_8 >= 0)

x1_0 = Int('x1_0')
x1_1 = Int('x1_1')
x1_2 = Int('x1_2')
x1_3 = Int('x1_3')
x1_4 = Int('x1_4')
x1_5 = Int('x1_5')
x1_6 = Int('x1_6')
x1_7 = Int('x1_7')
x1_8 = Int('x1_8')
s.add(x1_0 >= 0)
s.add(x1_1 >= 0)
s.add(x1_2 >= 0)
s.add(x1_3 >= 0)
s.add(x1_4 >= 0)
s.add(x1_5 >= 0)
s.add(x1_6 >= 0)
s.add(x1_7 >= 0)
s.add(x1_8 >= 0)

x2_0 = Int('x2_0')
x2_1 = Int('x2_1')
x2_2 = Int('x2_2')
x2_3 = Int('x2_3')
x2_4 = Int('x2_4')
x2_5 = Int('x2_5')
x2_6 = Int('x2_6')
x2_7 = Int('x2_7')
x2_8 = Int('x2_8')
s.add(x2_0 >= 0)
s.add(x2_1 >= 0)
s.add(x2_2 >= 0)
s.add(x2_3 >= 0)
s.add(x2_4 >= 0)
s.add(x2_5 >= 0)
s.add(x2_6 >= 0)
s.add(x2_7 >= 0)
s.add(x2_8 >= 0)

x3_0 = Int('x3_0')
x3_1 = Int('x3_1')
x3_2 = Int('x3_2')
x3_3 = Int('x3_3')
x3_4 = Int('x3_4')
x3_5 = Int('x3_5')
x3_6 = Int('x3_6')
x3_7 = Int('x3_7')
x3_8 = Int('x3_8')
s.add(x3_0 >= 0)
s.add(x3_1 >= 0)
s.add(x3_2 >= 0)
s.add(x3_3 >= 0)
s.add(x3_4 >= 0)
s.add(x3_5 >= 0)
s.add(x3_6 >= 0)
s.add(x3_7 >= 0)
s.add(x3_8 >= 0)

x4_0 = Int('x4_0')
x4_1 = Int('x4_1')
x4_2 = Int('x4_2')
x4_3 = Int('x4_3')
x4_4 = Int('x4_4')
x4_5 = Int('x4_5')
x4_6 = Int('x4_6')
x4_7 = Int('x4_7')
x4_8 = Int('x4_8')
s.add(x4_0 >= 0)
s.add(x4_1 >= 0)
s.add(x4_2 >= 0)
s.add(x4_3 >= 0)
s.add(x4_4 >= 0)
s.add(x4_5 >= 0)
s.add(x4_6 >= 0)
s.add(x4_7 >= 0)
s.add(x4_8 >= 0)

x5_0 = Int('x5_0')
x5_1 = Int('x5_1')
x5_2 = Int('x5_2')
x5_3 = Int('x5_3')
x5_4 = Int('x5_4')
x5_5 = Int('x5_5')
x5_6 = Int('x5_6')
x5_7 = Int('x5_7')
x5_8 = Int('x5_8')
s.add(x5_0 >= 0)
s.add(x5_1 >= 0)
s.add(x5_2 >= 0)
s.add(x5_3 >= 0)
s.add(x5_4 >= 0)
s.add(x5_5 >= 0)
s.add(x5_6 >= 0)
s.add(x5_7 >= 0)
s.add(x5_8 >= 0)

x6_0 = Int('x6_0')
x6_1 = Int('x6_1')
x6_2 = Int('x6_2')
x6_3 = Int('x6_3')
x6_4 = Int('x6_4')
x6_5 = Int('x6_5')
x6_6 = Int('x6_6')
x6_7 = Int('x6_7')
x6_8 = Int('x6_8')
s.add(x6_0 >= 0)
s.add(x6_1 >= 0)
s.add(x6_2 >= 0)
s.add(x6_3 >= 0)
s.add(x6_4 >= 0)
s.add(x6_5 >= 0)
s.add(x6_6 >= 0)
s.add(x6_7 >= 0)
s.add(x6_8 >= 0)

x7_0 = Int('x7_0')
x7_1 = Int('x7_1')
x7_2 = Int('x7_2')
x7_3 = Int('x7_3')
x7_4 = Int('x7_4')
x7_5 = Int('x7_5')
x7_6 = Int('x7_6')
x7_7 = Int('x7_7')
x7_8 = Int('x7_8')
s.add(x7_0 >= 0)
s.add(x7_1 >= 0)
s.add(x7_2 >= 0)
s.add(x7_3 >= 0)
s.add(x7_4 >= 0)
s.add(x7_5 >= 0)
s.add(x7_6 >= 0)
s.add(x7_7 >= 0)
s.add(x7_8 >= 0)

x8_0 = Int('x8_0')
x8_1 = Int('x8_1')
x8_2 = Int('x8_2')
x8_3 = Int('x8_3')
x8_4 = Int('x8_4')
x8_5 = Int('x8_5')
x8_6 = Int('x8_6')
x8_7 = Int('x8_7')
x8_8 = Int('x8_8')
s.add(x8_0 >= 0)
s.add(x8_1 >= 0)
s.add(x8_2 >= 0)
s.add(x8_3 >= 0)
s.add(x8_4 >= 0)
s.add(x8_5 >= 0)
s.add(x8_6 >= 0)
s.add(x8_7 >= 0)
s.add(x8_8 >= 0)

x9_0 = Int('x9_0')
x9_1 = Int('x9_1')
x9_2 = Int('x9_2')
x9_3 = Int('x9_3')
x9_4 = Int('x9_4')
x9_5 = Int('x9_5')
x9_6 = Int('x9_6')
x9_7 = Int('x9_7')
x9_8 = Int('x9_8')
s.add(x9_0 >= 0)
s.add(x9_1 >= 0)
s.add(x9_2 >= 0)
s.add(x9_3 >= 0)
s.add(x9_4 >= 0)
s.add(x9_5 >= 0)
s.add(x9_6 >= 0)
s.add(x9_7 >= 0)
s.add(x9_8 >= 0)

x10_0 = Int('x10_0')
x10_1 = Int('x10_1')
x10_2 = Int('x10_2')
x10_3 = Int('x10_3')
x10_4 = Int('x10_4')
x10_5 = Int('x10_5')
x10_6 = Int('x10_6')
x10_7 = Int('x10_7')
x10_8 = Int('x10_8')
s.add(x10_0 >= 0)
s.add(x10_1 >= 0)
s.add(x10_2 >= 0)
s.add(x10_3 >= 0)
s.add(x10_4 >= 0)
s.add(x10_5 >= 0)
s.add(x10_6 >= 0)
s.add(x10_7 >= 0)
s.add(x10_8 >= 0)

x11_0 = Int('x11_0')
x11_1 = Int('x11_1')
x11_2 = Int('x11_2')
x11_3 = Int('x11_3')
x11_4 = Int('x11_4')
x11_5 = Int('x11_5')
x11_6 = Int('x11_6')
x11_7 = Int('x11_7')
x11_8 = Int('x11_8')
s.add(x11_0 >= 0)
s.add(x11_1 >= 0)
s.add(x11_2 >= 0)
s.add(x11_3 >= 0)
s.add(x11_4 >= 0)
s.add(x11_5 >= 0)
s.add(x11_6 >= 0)
s.add(x11_7 >= 0)
s.add(x11_8 >= 0)

x12_0 = Int('x12_0')
x12_1 = Int('x12_1')
x12_2 = Int('x12_2')
x12_3 = Int('x12_3')
x12_4 = Int('x12_4')
x12_5 = Int('x12_5')
x12_6 = Int('x12_6')
x12_7 = Int('x12_7')
x12_8 = Int('x12_8')
s.add(x12_0 >= 0)
s.add(x12_1 >= 0)
s.add(x12_2 >= 0)
s.add(x12_3 >= 0)
s.add(x12_4 >= 0)
s.add(x12_5 >= 0)
s.add(x12_6 >= 0)
s.add(x12_7 >= 0)
s.add(x12_8 >= 0)

x13_0 = Int('x13_0')
x13_1 = Int('x13_1')
x13_2 = Int('x13_2')
x13_3 = Int('x13_3')
x13_4 = Int('x13_4')
x13_5 = Int('x13_5')
x13_6 = Int('x13_6')
x13_7 = Int('x13_7')
x13_8 = Int('x13_8')
s.add(x13_0 >= 0)
s.add(x13_1 >= 0)
s.add(x13_2 >= 0)
s.add(x13_3 >= 0)
s.add(x13_4 >= 0)
s.add(x13_5 >= 0)
s.add(x13_6 >= 0)
s.add(x13_7 >= 0)
s.add(x13_8 >= 0)

x14_0 = Int('x14_0')
x14_1 = Int('x14_1')
x14_2 = Int('x14_2')
x14_3 = Int('x14_3')
x14_4 = Int('x14_4')
x14_5 = Int('x14_5')
x14_6 = Int('x14_6')
x14_7 = Int('x14_7')
x14_8 = Int('x14_8')
s.add(x14_0 >= 0)
s.add(x14_1 >= 0)
s.add(x14_2 >= 0)
s.add(x14_3 >= 0)
s.add(x14_4 >= 0)
s.add(x14_5 >= 0)
s.add(x14_6 >= 0)
s.add(x14_7 >= 0)
s.add(x14_8 >= 0)

x15_0 = Int('x15_0')
x15_1 = Int('x15_1')
x15_2 = Int('x15_2')
x15_3 = Int('x15_3')
x15_4 = Int('x15_4')
x15_5 = Int('x15_5')
x15_6 = Int('x15_6')
x15_7 = Int('x15_7')
x15_8 = Int('x15_8')
s.add(x15_0 >= 0)
s.add(x15_1 >= 0)
s.add(x15_2 >= 0)
s.add(x15_3 >= 0)
s.add(x15_4 >= 0)
s.add(x15_5 >= 0)
s.add(x15_6 >= 0)
s.add(x15_7 >= 0)
s.add(x15_8 >= 0)


#Ensuring that at most one rule is fired between alternating configurations

s.add(Or((x0_1 == 0), (x0_1 == 1)))
s.add(Or((x1_1 == 0), (x1_1 == 1)))
s.add(Or((x2_1 == 0), (x2_1 == 1)))
s.add(Or((x3_1 == 0), (x3_1 == 1)))
s.add(Or((x4_1 == 0), (x4_1 == 1)))
s.add(Or((x5_1 == 0), (x5_1 == 1)))
s.add(Or((x6_1 == 0), (x6_1 == 1)))
s.add(Or((x7_1 == 0), (x7_1 == 1)))
s.add(Or((x8_1 == 0), (x8_1 == 1)))
s.add(Or((x9_1 == 0), (x9_1 == 1)))
s.add(Or((x10_1 == 0), (x10_1 == 1)))
s.add(Or((x11_1 == 0), (x11_1 == 1)))
s.add(Or((x12_1 == 0), (x12_1 == 1)))
s.add(Or((x13_1 == 0), (x13_1 == 1)))
s.add(Or((x14_1 == 0), (x14_1 == 1)))
s.add(Or((x15_1 == 0), (x15_1 == 1)))
s.add(x0_1 + x1_1 + x2_1 + x3_1 + x4_1 + x5_1 + x6_1 + x7_1 + x8_1 + x9_1 + x10_1 + x11_1 + x12_1 + x13_1 + x14_1 + x15_1 <= 1)

s.add(Or((x0_3 == 0), (x0_3 == 1)))
s.add(Or((x1_3 == 0), (x1_3 == 1)))
s.add(Or((x2_3 == 0), (x2_3 == 1)))
s.add(Or((x3_3 == 0), (x3_3 == 1)))
s.add(Or((x4_3 == 0), (x4_3 == 1)))
s.add(Or((x5_3 == 0), (x5_3 == 1)))
s.add(Or((x6_3 == 0), (x6_3 == 1)))
s.add(Or((x7_3 == 0), (x7_3 == 1)))
s.add(Or((x8_3 == 0), (x8_3 == 1)))
s.add(Or((x9_3 == 0), (x9_3 == 1)))
s.add(Or((x10_3 == 0), (x10_3 == 1)))
s.add(Or((x11_3 == 0), (x11_3 == 1)))
s.add(Or((x12_3 == 0), (x12_3 == 1)))
s.add(Or((x13_3 == 0), (x13_3 == 1)))
s.add(Or((x14_3 == 0), (x14_3 == 1)))
s.add(Or((x15_3 == 0), (x15_3 == 1)))
s.add(x0_3 + x1_3 + x2_3 + x3_3 + x4_3 + x5_3 + x6_3 + x7_3 + x8_3 + x9_3 + x10_3 + x11_3 + x12_3 + x13_3 + x14_3 + x15_3 <= 1)

s.add(Or((x0_5 == 0), (x0_5 == 1)))
s.add(Or((x1_5 == 0), (x1_5 == 1)))
s.add(Or((x2_5 == 0), (x2_5 == 1)))
s.add(Or((x3_5 == 0), (x3_5 == 1)))
s.add(Or((x4_5 == 0), (x4_5 == 1)))
s.add(Or((x5_5 == 0), (x5_5 == 1)))
s.add(Or((x6_5 == 0), (x6_5 == 1)))
s.add(Or((x7_5 == 0), (x7_5 == 1)))
s.add(Or((x8_5 == 0), (x8_5 == 1)))
s.add(Or((x9_5 == 0), (x9_5 == 1)))
s.add(Or((x10_5 == 0), (x10_5 == 1)))
s.add(Or((x11_5 == 0), (x11_5 == 1)))
s.add(Or((x12_5 == 0), (x12_5 == 1)))
s.add(Or((x13_5 == 0), (x13_5 == 1)))
s.add(Or((x14_5 == 0), (x14_5 == 1)))
s.add(Or((x15_5 == 0), (x15_5 == 1)))
s.add(x0_5 + x1_5 + x2_5 + x3_5 + x4_5 + x5_5 + x6_5 + x7_5 + x8_5 + x9_5 + x10_5 + x11_5 + x12_5 + x13_5 + x14_5 + x15_5 <= 1)

s.add(Or((x0_7 == 0), (x0_7 == 1)))
s.add(Or((x1_7 == 0), (x1_7 == 1)))
s.add(Or((x2_7 == 0), (x2_7 == 1)))
s.add(Or((x3_7 == 0), (x3_7 == 1)))
s.add(Or((x4_7 == 0), (x4_7 == 1)))
s.add(Or((x5_7 == 0), (x5_7 == 1)))
s.add(Or((x6_7 == 0), (x6_7 == 1)))
s.add(Or((x7_7 == 0), (x7_7 == 1)))
s.add(Or((x8_7 == 0), (x8_7 == 1)))
s.add(Or((x9_7 == 0), (x9_7 == 1)))
s.add(Or((x10_7 == 0), (x10_7 == 1)))
s.add(Or((x11_7 == 0), (x11_7 == 1)))
s.add(Or((x12_7 == 0), (x12_7 == 1)))
s.add(Or((x13_7 == 0), (x13_7 == 1)))
s.add(Or((x14_7 == 0), (x14_7 == 1)))
s.add(Or((x15_7 == 0), (x15_7 == 1)))
s.add(x0_7 + x1_7 + x2_7 + x3_7 + x4_7 + x5_7 + x6_7 + x7_7 + x8_7 + x9_7 + x10_7 + x11_7 + x12_7 + x13_7 + x14_7 + x15_7 <= 1)


###################Step 2####################


#Flow equations for the locations

s.add( - x0_0 - x6_0 ==  locNO_1 - locNO_0)
s.add( - x1_0 - x7_0 ==  locYES_1 - locYES_0)
s.add( + x0_0 + x1_0 - x2_0 - x3_0 - x5_0 - x8_0 - x12_0 + x12_0 ==  locSE_1 - locSE_0)
s.add( + x2_0 - x4_0 - x9_0 - x13_0 + x13_0 ==  locFDSE_1 - locFDSE_0)
s.add( + x5_0 - x10_0 - x14_0 + x14_0 ==  locCMT_1 - locCMT_0)
s.add( + x3_0 + x4_0 - x11_0 - x15_0 + x15_0 ==  locABR_1 - locABR_0)
s.add( + x6_0 + x7_0 + x8_0 + x9_0 + x10_0 + x11_0 ==  locCR_1 - locCR_0)
s.add( - x0_1 - x6_1 ==  locNO_2 - locNO_1)
s.add( - x1_1 - x7_1 ==  locYES_2 - locYES_1)
s.add( + x0_1 + x1_1 - x2_1 - x3_1 - x5_1 - x8_1 - x12_1 + x12_1 ==  locSE_2 - locSE_1)
s.add( + x2_1 - x4_1 - x9_1 - x13_1 + x13_1 ==  locFDSE_2 - locFDSE_1)
s.add( + x5_1 - x10_1 - x14_1 + x14_1 ==  locCMT_2 - locCMT_1)
s.add( + x3_1 + x4_1 - x11_1 - x15_1 + x15_1 ==  locABR_2 - locABR_1)
s.add( + x6_1 + x7_1 + x8_1 + x9_1 + x10_1 + x11_1 ==  locCR_2 - locCR_1)
s.add( - x0_2 - x6_2 ==  locNO_3 - locNO_2)
s.add( - x1_2 - x7_2 ==  locYES_3 - locYES_2)
s.add( + x0_2 + x1_2 - x2_2 - x3_2 - x5_2 - x8_2 - x12_2 + x12_2 ==  locSE_3 - locSE_2)
s.add( + x2_2 - x4_2 - x9_2 - x13_2 + x13_2 ==  locFDSE_3 - locFDSE_2)
s.add( + x5_2 - x10_2 - x14_2 + x14_2 ==  locCMT_3 - locCMT_2)
s.add( + x3_2 + x4_2 - x11_2 - x15_2 + x15_2 ==  locABR_3 - locABR_2)
s.add( + x6_2 + x7_2 + x8_2 + x9_2 + x10_2 + x11_2 ==  locCR_3 - locCR_2)
s.add( - x0_3 - x6_3 ==  locNO_4 - locNO_3)
s.add( - x1_3 - x7_3 ==  locYES_4 - locYES_3)
s.add( + x0_3 + x1_3 - x2_3 - x3_3 - x5_3 - x8_3 - x12_3 + x12_3 ==  locSE_4 - locSE_3)
s.add( + x2_3 - x4_3 - x9_3 - x13_3 + x13_3 ==  locFDSE_4 - locFDSE_3)
s.add( + x5_3 - x10_3 - x14_3 + x14_3 ==  locCMT_4 - locCMT_3)
s.add( + x3_3 + x4_3 - x11_3 - x15_3 + x15_3 ==  locABR_4 - locABR_3)
s.add( + x6_3 + x7_3 + x8_3 + x9_3 + x10_3 + x11_3 ==  locCR_4 - locCR_3)
s.add( - x0_4 - x6_4 ==  locNO_5 - locNO_4)
s.add( - x1_4 - x7_4 ==  locYES_5 - locYES_4)
s.add( + x0_4 + x1_4 - x2_4 - x3_4 - x5_4 - x8_4 - x12_4 + x12_4 ==  locSE_5 - locSE_4)
s.add( + x2_4 - x4_4 - x9_4 - x13_4 + x13_4 ==  locFDSE_5 - locFDSE_4)
s.add( + x5_4 - x10_4 - x14_4 + x14_4 ==  locCMT_5 - locCMT_4)
s.add( + x3_4 + x4_4 - x11_4 - x15_4 + x15_4 ==  locABR_5 - locABR_4)
s.add( + x6_4 + x7_4 + x8_4 + x9_4 + x10_4 + x11_4 ==  locCR_5 - locCR_4)
s.add( - x0_5 - x6_5 ==  locNO_6 - locNO_5)
s.add( - x1_5 - x7_5 ==  locYES_6 - locYES_5)
s.add( + x0_5 + x1_5 - x2_5 - x3_5 - x5_5 - x8_5 - x12_5 + x12_5 ==  locSE_6 - locSE_5)
s.add( + x2_5 - x4_5 - x9_5 - x13_5 + x13_5 ==  locFDSE_6 - locFDSE_5)
s.add( + x5_5 - x10_5 - x14_5 + x14_5 ==  locCMT_6 - locCMT_5)
s.add( + x3_5 + x4_5 - x11_5 - x15_5 + x15_5 ==  locABR_6 - locABR_5)
s.add( + x6_5 + x7_5 + x8_5 + x9_5 + x10_5 + x11_5 ==  locCR_6 - locCR_5)
s.add( - x0_6 - x6_6 ==  locNO_7 - locNO_6)
s.add( - x1_6 - x7_6 ==  locYES_7 - locYES_6)
s.add( + x0_6 + x1_6 - x2_6 - x3_6 - x5_6 - x8_6 - x12_6 + x12_6 ==  locSE_7 - locSE_6)
s.add( + x2_6 - x4_6 - x9_6 - x13_6 + x13_6 ==  locFDSE_7 - locFDSE_6)
s.add( + x5_6 - x10_6 - x14_6 + x14_6 ==  locCMT_7 - locCMT_6)
s.add( + x3_6 + x4_6 - x11_6 - x15_6 + x15_6 ==  locABR_7 - locABR_6)
s.add( + x6_6 + x7_6 + x8_6 + x9_6 + x10_6 + x11_6 ==  locCR_7 - locCR_6)
s.add( - x0_7 - x6_7 ==  locNO_8 - locNO_7)
s.add( - x1_7 - x7_7 ==  locYES_8 - locYES_7)
s.add( + x0_7 + x1_7 - x2_7 - x3_7 - x5_7 - x8_7 - x12_7 + x12_7 ==  locSE_8 - locSE_7)
s.add( + x2_7 - x4_7 - x9_7 - x13_7 + x13_7 ==  locFDSE_8 - locFDSE_7)
s.add( + x5_7 - x10_7 - x14_7 + x14_7 ==  locCMT_8 - locCMT_7)
s.add( + x3_7 + x4_7 - x11_7 - x15_7 + x15_7 ==  locABR_8 - locABR_7)
s.add( + x6_7 + x7_7 + x8_7 + x9_7 + x10_7 + x11_7 ==  locCR_8 - locCR_7)
s.add( - x0_8 - x6_8 ==  locNO_9 - locNO_8)
s.add( - x1_8 - x7_8 ==  locYES_9 - locYES_8)
s.add( + x0_8 + x1_8 - x2_8 - x3_8 - x5_8 - x8_8 - x12_8 + x12_8 ==  locSE_9 - locSE_8)
s.add( + x2_8 - x4_8 - x9_8 - x13_8 + x13_8 ==  locFDSE_9 - locFDSE_8)
s.add( + x5_8 - x10_8 - x14_8 + x14_8 ==  locCMT_9 - locCMT_8)
s.add( + x3_8 + x4_8 - x11_8 - x15_8 + x15_8 ==  locABR_9 - locABR_8)
s.add( + x6_8 + x7_8 + x8_8 + x9_8 + x10_8 + x11_8 ==  locCR_9 - locCR_8)

##################Step 3########################


#Flow equations for the shared variables

s.add(0 + x0_0 * 1 == nsntNoCF_1 - nsntNoCF_0)
s.add(0 + x1_0 * 1 == nsntYesCF_1 - nsntYesCF_0)
s.add(0 + x0_1 * 1 == nsntNoCF_2 - nsntNoCF_1)
s.add(0 + x1_1 * 1 == nsntYesCF_2 - nsntYesCF_1)
s.add(0 + x0_2 * 1 == nsntNoCF_3 - nsntNoCF_2)
s.add(0 + x1_2 * 1 == nsntYesCF_3 - nsntYesCF_2)
s.add(0 + x0_3 * 1 == nsntNoCF_4 - nsntNoCF_3)
s.add(0 + x1_3 * 1 == nsntYesCF_4 - nsntYesCF_3)
s.add(0 + x0_4 * 1 == nsntNoCF_5 - nsntNoCF_4)
s.add(0 + x1_4 * 1 == nsntYesCF_5 - nsntYesCF_4)
s.add(0 + x0_5 * 1 == nsntNoCF_6 - nsntNoCF_5)
s.add(0 + x1_5 * 1 == nsntYesCF_6 - nsntYesCF_5)
s.add(0 + x0_6 * 1 == nsntNoCF_7 - nsntNoCF_6)
s.add(0 + x1_6 * 1 == nsntYesCF_7 - nsntYesCF_6)
s.add(0 + x0_7 * 1 == nsntNoCF_8 - nsntNoCF_7)
s.add(0 + x1_7 * 1 == nsntYesCF_8 - nsntYesCF_7)
s.add(0 + x0_8 * 1 == nsntNoCF_9 - nsntNoCF_8)
s.add(0 + x1_8 * 1 == nsntYesCF_9 - nsntYesCF_8)

####################Step 4########################


#Rule is fired implies rule is enabled

s.add(Implies( (x0_0 > 0), ((True) ) ))
s.add(Implies( (x0_1 > 0), ((True) ) ))
s.add(Implies( (x0_2 > 0), ((True) ) ))
s.add(Implies( (x0_3 > 0), ((True) ) ))
s.add(Implies( (x0_4 > 0), ((True) ) ))
s.add(Implies( (x0_5 > 0), ((True) ) ))
s.add(Implies( (x0_6 > 0), ((True) ) ))
s.add(Implies( (x0_7 > 0), ((True) ) ))
s.add(Implies( (x0_8 > 0), ((True) ) ))
s.add(Implies( (x1_0 > 0), ((True) ) ))
s.add(Implies( (x1_1 > 0), ((True) ) ))
s.add(Implies( (x1_2 > 0), ((True) ) ))
s.add(Implies( (x1_3 > 0), ((True) ) ))
s.add(Implies( (x1_4 > 0), ((True) ) ))
s.add(Implies( (x1_5 > 0), ((True) ) ))
s.add(Implies( (x1_6 > 0), ((True) ) ))
s.add(Implies( (x1_7 > 0), ((True) ) ))
s.add(Implies( (x1_8 > 0), ((True) ) ))
s.add(Implies( (x2_0 > 0), ((True) ) ))
s.add(Implies( (x2_1 > 0), ((True) ) ))
s.add(Implies( (x2_2 > 0), ((True) ) ))
s.add(Implies( (x2_3 > 0), ((True) ) ))
s.add(Implies( (x2_4 > 0), ((True) ) ))
s.add(Implies( (x2_5 > 0), ((True) ) ))
s.add(Implies( (x2_6 > 0), ((True) ) ))
s.add(Implies( (x2_7 > 0), ((True) ) ))
s.add(Implies( (x2_8 > 0), ((True) ) ))
s.add(Implies( (x3_0 > 0), ((nsntNoCF_0 >= 1) ) ))
s.add(Implies( (x3_1 > 0), ((nsntNoCF_1 >= 1) ) ))
s.add(Implies( (x3_2 > 0), ((nsntNoCF_2 >= 1) ) ))
s.add(Implies( (x3_3 > 0), ((nsntNoCF_3 >= 1) ) ))
s.add(Implies( (x3_4 > 0), ((nsntNoCF_4 >= 1) ) ))
s.add(Implies( (x3_5 > 0), ((nsntNoCF_5 >= 1) ) ))
s.add(Implies( (x3_6 > 0), ((nsntNoCF_6 >= 1) ) ))
s.add(Implies( (x3_7 > 0), ((nsntNoCF_7 >= 1) ) ))
s.add(Implies( (x3_8 > 0), ((nsntNoCF_8 >= 1) ) ))
s.add(Implies( (x4_0 > 0), ((True) ) ))
s.add(Implies( (x4_1 > 0), ((True) ) ))
s.add(Implies( (x4_2 > 0), ((True) ) ))
s.add(Implies( (x4_3 > 0), ((True) ) ))
s.add(Implies( (x4_4 > 0), ((True) ) ))
s.add(Implies( (x4_5 > 0), ((True) ) ))
s.add(Implies( (x4_6 > 0), ((True) ) ))
s.add(Implies( (x4_7 > 0), ((True) ) ))
s.add(Implies( (x4_8 > 0), ((True) ) ))
s.add(Implies( (x5_0 > 0), (And(nsntNoCF_0 < 1 , nsntYesCF_0 >= N) ) ))
s.add(Implies( (x5_1 > 0), (And(nsntNoCF_1 < 1 , nsntYesCF_1 >= N) ) ))
s.add(Implies( (x5_2 > 0), (And(nsntNoCF_2 < 1 , nsntYesCF_2 >= N) ) ))
s.add(Implies( (x5_3 > 0), (And(nsntNoCF_3 < 1 , nsntYesCF_3 >= N) ) ))
s.add(Implies( (x5_4 > 0), (And(nsntNoCF_4 < 1 , nsntYesCF_4 >= N) ) ))
s.add(Implies( (x5_5 > 0), (And(nsntNoCF_5 < 1 , nsntYesCF_5 >= N) ) ))
s.add(Implies( (x5_6 > 0), (And(nsntNoCF_6 < 1 , nsntYesCF_6 >= N) ) ))
s.add(Implies( (x5_7 > 0), (And(nsntNoCF_7 < 1 , nsntYesCF_7 >= N) ) ))
s.add(Implies( (x5_8 > 0), (And(nsntNoCF_8 < 1 , nsntYesCF_8 >= N) ) ))
s.add(Implies( (x6_0 > 0), ((True) ) ))
s.add(Implies( (x6_1 > 0), ((True) ) ))
s.add(Implies( (x6_2 > 0), ((True) ) ))
s.add(Implies( (x6_3 > 0), ((True) ) ))
s.add(Implies( (x6_4 > 0), ((True) ) ))
s.add(Implies( (x6_5 > 0), ((True) ) ))
s.add(Implies( (x6_6 > 0), ((True) ) ))
s.add(Implies( (x6_7 > 0), ((True) ) ))
s.add(Implies( (x6_8 > 0), ((True) ) ))
s.add(Implies( (x7_0 > 0), ((True) ) ))
s.add(Implies( (x7_1 > 0), ((True) ) ))
s.add(Implies( (x7_2 > 0), ((True) ) ))
s.add(Implies( (x7_3 > 0), ((True) ) ))
s.add(Implies( (x7_4 > 0), ((True) ) ))
s.add(Implies( (x7_5 > 0), ((True) ) ))
s.add(Implies( (x7_6 > 0), ((True) ) ))
s.add(Implies( (x7_7 > 0), ((True) ) ))
s.add(Implies( (x7_8 > 0), ((True) ) ))
s.add(Implies( (x8_0 > 0), ((True) ) ))
s.add(Implies( (x8_1 > 0), ((True) ) ))
s.add(Implies( (x8_2 > 0), ((True) ) ))
s.add(Implies( (x8_3 > 0), ((True) ) ))
s.add(Implies( (x8_4 > 0), ((True) ) ))
s.add(Implies( (x8_5 > 0), ((True) ) ))
s.add(Implies( (x8_6 > 0), ((True) ) ))
s.add(Implies( (x8_7 > 0), ((True) ) ))
s.add(Implies( (x8_8 > 0), ((True) ) ))
s.add(Implies( (x9_0 > 0), ((True) ) ))
s.add(Implies( (x9_1 > 0), ((True) ) ))
s.add(Implies( (x9_2 > 0), ((True) ) ))
s.add(Implies( (x9_3 > 0), ((True) ) ))
s.add(Implies( (x9_4 > 0), ((True) ) ))
s.add(Implies( (x9_5 > 0), ((True) ) ))
s.add(Implies( (x9_6 > 0), ((True) ) ))
s.add(Implies( (x9_7 > 0), ((True) ) ))
s.add(Implies( (x9_8 > 0), ((True) ) ))
s.add(Implies( (x10_0 > 0), ((True) ) ))
s.add(Implies( (x10_1 > 0), ((True) ) ))
s.add(Implies( (x10_2 > 0), ((True) ) ))
s.add(Implies( (x10_3 > 0), ((True) ) ))
s.add(Implies( (x10_4 > 0), ((True) ) ))
s.add(Implies( (x10_5 > 0), ((True) ) ))
s.add(Implies( (x10_6 > 0), ((True) ) ))
s.add(Implies( (x10_7 > 0), ((True) ) ))
s.add(Implies( (x10_8 > 0), ((True) ) ))
s.add(Implies( (x11_0 > 0), ((True) ) ))
s.add(Implies( (x11_1 > 0), ((True) ) ))
s.add(Implies( (x11_2 > 0), ((True) ) ))
s.add(Implies( (x11_3 > 0), ((True) ) ))
s.add(Implies( (x11_4 > 0), ((True) ) ))
s.add(Implies( (x11_5 > 0), ((True) ) ))
s.add(Implies( (x11_6 > 0), ((True) ) ))
s.add(Implies( (x11_7 > 0), ((True) ) ))
s.add(Implies( (x11_8 > 0), ((True) ) ))
s.add(Implies( (x12_0 > 0), ((True) ) ))
s.add(Implies( (x12_1 > 0), ((True) ) ))
s.add(Implies( (x12_2 > 0), ((True) ) ))
s.add(Implies( (x12_3 > 0), ((True) ) ))
s.add(Implies( (x12_4 > 0), ((True) ) ))
s.add(Implies( (x12_5 > 0), ((True) ) ))
s.add(Implies( (x12_6 > 0), ((True) ) ))
s.add(Implies( (x12_7 > 0), ((True) ) ))
s.add(Implies( (x12_8 > 0), ((True) ) ))
s.add(Implies( (x13_0 > 0), ((True) ) ))
s.add(Implies( (x13_1 > 0), ((True) ) ))
s.add(Implies( (x13_2 > 0), ((True) ) ))
s.add(Implies( (x13_3 > 0), ((True) ) ))
s.add(Implies( (x13_4 > 0), ((True) ) ))
s.add(Implies( (x13_5 > 0), ((True) ) ))
s.add(Implies( (x13_6 > 0), ((True) ) ))
s.add(Implies( (x13_7 > 0), ((True) ) ))
s.add(Implies( (x13_8 > 0), ((True) ) ))
s.add(Implies( (x14_0 > 0), ((True) ) ))
s.add(Implies( (x14_1 > 0), ((True) ) ))
s.add(Implies( (x14_2 > 0), ((True) ) ))
s.add(Implies( (x14_3 > 0), ((True) ) ))
s.add(Implies( (x14_4 > 0), ((True) ) ))
s.add(Implies( (x14_5 > 0), ((True) ) ))
s.add(Implies( (x14_6 > 0), ((True) ) ))
s.add(Implies( (x14_7 > 0), ((True) ) ))
s.add(Implies( (x14_8 > 0), ((True) ) ))
s.add(Implies( (x15_0 > 0), ((True) ) ))
s.add(Implies( (x15_1 > 0), ((True) ) ))
s.add(Implies( (x15_2 > 0), ((True) ) ))
s.add(Implies( (x15_3 > 0), ((True) ) ))
s.add(Implies( (x15_4 > 0), ((True) ) ))
s.add(Implies( (x15_5 > 0), ((True) ) ))
s.add(Implies( (x15_6 > 0), ((True) ) ))
s.add(Implies( (x15_7 > 0), ((True) ) ))
s.add(Implies( (x15_8 > 0), ((True) ) ))

######################Step 5#####################


#Constraints that the 0th configuration has to satisfy

s.add(True )

#######################Step 5 1/2################


#Ensure that the constraints on the initial configuration are satisfied

s.add((locNO_0 + locYES_0) == N)
s.add(locSE_0 == 0)
s.add(locFDSE_0 == 0)
s.add(locCMT_0 == 0)
s.add(locABR_0 == 0)
s.add(locCR_0 == 0)
s.add(nsntNoCF_0 == 0)
s.add(nsntYesCF_0 == 0)

#####################Step 6########################


#Constraints that the path between the 0th and 1th configuration has to satisfy

s.add(And(And(locCR_0 == 0, x6_0 == 0, x7_0 == 0, x8_0 == 0, x9_0 == 0, x10_0 == 0, x11_0 == 0, ), Or(locNO_0 != 0, locYES_0 != 0, locSE_0 != 0, locFDSE_0 != 0)) )
s.add(And(And(locCR_1 == 0, x6_1 == 0, x7_1 == 0, x8_1 == 0, x9_1 == 0, x10_1 == 0, x11_1 == 0, ), Or(locNO_1 != 0, locYES_1 != 0, locSE_1 != 0, locFDSE_1 != 0)) )
s.add(And(And(locCR_2 == 0, x6_2 == 0, x7_2 == 0, x8_2 == 0, x9_2 == 0, x10_2 == 0, x11_2 == 0, ), Or(locNO_2 != 0, locYES_2 != 0, locSE_2 != 0, locFDSE_2 != 0)) )
s.add(And(And(locCR_3 == 0, x6_3 == 0, x7_3 == 0, x8_3 == 0, x9_3 == 0, x10_3 == 0, x11_3 == 0, ), Or(locNO_3 != 0, locYES_3 != 0, locSE_3 != 0, locFDSE_3 != 0)) )
s.add(And(And(locCR_4 == 0, x6_4 == 0, x7_4 == 0, x8_4 == 0, x9_4 == 0, x10_4 == 0, x11_4 == 0, ), Or(locNO_4 != 0, locYES_4 != 0, locSE_4 != 0, locFDSE_4 != 0)) )
s.add(And(And(locCR_5 == 0, x6_5 == 0, x7_5 == 0, x8_5 == 0, x9_5 == 0, x10_5 == 0, x11_5 == 0, ), Or(locNO_5 != 0, locYES_5 != 0, locSE_5 != 0, locFDSE_5 != 0)) )
s.add(And(And(locCR_6 == 0, x6_6 == 0, x7_6 == 0, x8_6 == 0, x9_6 == 0, x10_6 == 0, x11_6 == 0, ), Or(locNO_6 != 0, locYES_6 != 0, locSE_6 != 0, locFDSE_6 != 0)) )
s.add(And(And(locCR_7 == 0, x6_7 == 0, x7_7 == 0, x8_7 == 0, x9_7 == 0, x10_7 == 0, x11_7 == 0, ), Or(locNO_7 != 0, locYES_7 != 0, locSE_7 != 0, locFDSE_7 != 0)) )
s.add(And(And(locCR_8 == 0, x6_8 == 0, x7_8 == 0, x8_8 == 0, x9_8 == 0, x10_8 == 0, x11_8 == 0, ), Or(locNO_8 != 0, locYES_8 != 0, locSE_8 != 0, locFDSE_8 != 0)) )
s.add(And(locCR_9 == 0, Or(locNO_9 != 0, locYES_9 != 0, locSE_9 != 0, locFDSE_9 != 0)) )

#####################Step 7#########################


#In the inital part, we do not allow all the edges in a cycle to be fired as this is clearly wasteful, assuming the automaton is canonical


#Further, if an edge is a self-loop, we do not fire that as well

s.add(x12_0 == 0)
s.add(x12_1 == 0)
s.add(x12_2 == 0)
s.add(x12_3 == 0)
s.add(x12_4 == 0)
s.add(x12_5 == 0)
s.add(x12_6 == 0)
s.add(x12_7 == 0)
s.add(x12_8 == 0)
s.add(x13_0 == 0)
s.add(x13_1 == 0)
s.add(x13_2 == 0)
s.add(x13_3 == 0)
s.add(x13_4 == 0)
s.add(x13_5 == 0)
s.add(x13_6 == 0)
s.add(x13_7 == 0)
s.add(x13_8 == 0)
s.add(x14_0 == 0)
s.add(x14_1 == 0)
s.add(x14_2 == 0)
s.add(x14_3 == 0)
s.add(x14_4 == 0)
s.add(x14_5 == 0)
s.add(x14_6 == 0)
s.add(x14_7 == 0)
s.add(x14_8 == 0)
s.add(x15_0 == 0)
s.add(x15_1 == 0)
s.add(x15_2 == 0)
s.add(x15_3 == 0)
s.add(x15_4 == 0)
s.add(x15_5 == 0)
s.add(x15_6 == 0)
s.add(x15_7 == 0)
s.add(x15_8 == 0)

####################################################################################

#Creating constraints for a run between the 1th and 2th configurations

################Step 1#################


#Creating many copies of location variables

locNO_10 = Int('locNO_10')
locNO_11 = Int('locNO_11')
locNO_12 = Int('locNO_12')
locNO_13 = Int('locNO_13')
locNO_14 = Int('locNO_14')
locNO_15 = Int('locNO_15')
locNO_16 = Int('locNO_16')
locNO_17 = Int('locNO_17')
locNO_18 = Int('locNO_18')
s.add(locNO_10 >= 0)
s.add(locNO_11 >= 0)
s.add(locNO_12 >= 0)
s.add(locNO_13 >= 0)
s.add(locNO_14 >= 0)
s.add(locNO_15 >= 0)
s.add(locNO_16 >= 0)
s.add(locNO_17 >= 0)
s.add(locNO_18 >= 0)

locYES_10 = Int('locYES_10')
locYES_11 = Int('locYES_11')
locYES_12 = Int('locYES_12')
locYES_13 = Int('locYES_13')
locYES_14 = Int('locYES_14')
locYES_15 = Int('locYES_15')
locYES_16 = Int('locYES_16')
locYES_17 = Int('locYES_17')
locYES_18 = Int('locYES_18')
s.add(locYES_10 >= 0)
s.add(locYES_11 >= 0)
s.add(locYES_12 >= 0)
s.add(locYES_13 >= 0)
s.add(locYES_14 >= 0)
s.add(locYES_15 >= 0)
s.add(locYES_16 >= 0)
s.add(locYES_17 >= 0)
s.add(locYES_18 >= 0)

locSE_10 = Int('locSE_10')
locSE_11 = Int('locSE_11')
locSE_12 = Int('locSE_12')
locSE_13 = Int('locSE_13')
locSE_14 = Int('locSE_14')
locSE_15 = Int('locSE_15')
locSE_16 = Int('locSE_16')
locSE_17 = Int('locSE_17')
locSE_18 = Int('locSE_18')
s.add(locSE_10 >= 0)
s.add(locSE_11 >= 0)
s.add(locSE_12 >= 0)
s.add(locSE_13 >= 0)
s.add(locSE_14 >= 0)
s.add(locSE_15 >= 0)
s.add(locSE_16 >= 0)
s.add(locSE_17 >= 0)
s.add(locSE_18 >= 0)

locFDSE_10 = Int('locFDSE_10')
locFDSE_11 = Int('locFDSE_11')
locFDSE_12 = Int('locFDSE_12')
locFDSE_13 = Int('locFDSE_13')
locFDSE_14 = Int('locFDSE_14')
locFDSE_15 = Int('locFDSE_15')
locFDSE_16 = Int('locFDSE_16')
locFDSE_17 = Int('locFDSE_17')
locFDSE_18 = Int('locFDSE_18')
s.add(locFDSE_10 >= 0)
s.add(locFDSE_11 >= 0)
s.add(locFDSE_12 >= 0)
s.add(locFDSE_13 >= 0)
s.add(locFDSE_14 >= 0)
s.add(locFDSE_15 >= 0)
s.add(locFDSE_16 >= 0)
s.add(locFDSE_17 >= 0)
s.add(locFDSE_18 >= 0)

locCMT_10 = Int('locCMT_10')
locCMT_11 = Int('locCMT_11')
locCMT_12 = Int('locCMT_12')
locCMT_13 = Int('locCMT_13')
locCMT_14 = Int('locCMT_14')
locCMT_15 = Int('locCMT_15')
locCMT_16 = Int('locCMT_16')
locCMT_17 = Int('locCMT_17')
locCMT_18 = Int('locCMT_18')
s.add(locCMT_10 >= 0)
s.add(locCMT_11 >= 0)
s.add(locCMT_12 >= 0)
s.add(locCMT_13 >= 0)
s.add(locCMT_14 >= 0)
s.add(locCMT_15 >= 0)
s.add(locCMT_16 >= 0)
s.add(locCMT_17 >= 0)
s.add(locCMT_18 >= 0)

locABR_10 = Int('locABR_10')
locABR_11 = Int('locABR_11')
locABR_12 = Int('locABR_12')
locABR_13 = Int('locABR_13')
locABR_14 = Int('locABR_14')
locABR_15 = Int('locABR_15')
locABR_16 = Int('locABR_16')
locABR_17 = Int('locABR_17')
locABR_18 = Int('locABR_18')
s.add(locABR_10 >= 0)
s.add(locABR_11 >= 0)
s.add(locABR_12 >= 0)
s.add(locABR_13 >= 0)
s.add(locABR_14 >= 0)
s.add(locABR_15 >= 0)
s.add(locABR_16 >= 0)
s.add(locABR_17 >= 0)
s.add(locABR_18 >= 0)

locCR_10 = Int('locCR_10')
locCR_11 = Int('locCR_11')
locCR_12 = Int('locCR_12')
locCR_13 = Int('locCR_13')
locCR_14 = Int('locCR_14')
locCR_15 = Int('locCR_15')
locCR_16 = Int('locCR_16')
locCR_17 = Int('locCR_17')
locCR_18 = Int('locCR_18')
s.add(locCR_10 >= 0)
s.add(locCR_11 >= 0)
s.add(locCR_12 >= 0)
s.add(locCR_13 >= 0)
s.add(locCR_14 >= 0)
s.add(locCR_15 >= 0)
s.add(locCR_16 >= 0)
s.add(locCR_17 >= 0)
s.add(locCR_18 >= 0)


#Adding the constraint for the number of processes

s.add(locNO_10 + locYES_10 + locSE_10 + locFDSE_10 + locCMT_10 + locABR_10 + locCR_10 == N)
s.add(locNO_11 + locYES_11 + locSE_11 + locFDSE_11 + locCMT_11 + locABR_11 + locCR_11 == N)
s.add(locNO_12 + locYES_12 + locSE_12 + locFDSE_12 + locCMT_12 + locABR_12 + locCR_12 == N)
s.add(locNO_13 + locYES_13 + locSE_13 + locFDSE_13 + locCMT_13 + locABR_13 + locCR_13 == N)
s.add(locNO_14 + locYES_14 + locSE_14 + locFDSE_14 + locCMT_14 + locABR_14 + locCR_14 == N)
s.add(locNO_15 + locYES_15 + locSE_15 + locFDSE_15 + locCMT_15 + locABR_15 + locCR_15 == N)
s.add(locNO_16 + locYES_16 + locSE_16 + locFDSE_16 + locCMT_16 + locABR_16 + locCR_16 == N)
s.add(locNO_17 + locYES_17 + locSE_17 + locFDSE_17 + locCMT_17 + locABR_17 + locCR_17 == N)
s.add(locNO_18 + locYES_18 + locSE_18 + locFDSE_18 + locCMT_18 + locABR_18 + locCR_18 == N)

#Creating many copies of shared variables

nsntNoCF_10 = Int('nsntNoCF_10')
nsntNoCF_11 = Int('nsntNoCF_11')
nsntNoCF_12 = Int('nsntNoCF_12')
nsntNoCF_13 = Int('nsntNoCF_13')
nsntNoCF_14 = Int('nsntNoCF_14')
nsntNoCF_15 = Int('nsntNoCF_15')
nsntNoCF_16 = Int('nsntNoCF_16')
nsntNoCF_17 = Int('nsntNoCF_17')
nsntNoCF_18 = Int('nsntNoCF_18')
s.add(nsntNoCF_10 >= 0)
s.add(nsntNoCF_11 >= 0)
s.add(nsntNoCF_12 >= 0)
s.add(nsntNoCF_13 >= 0)
s.add(nsntNoCF_14 >= 0)
s.add(nsntNoCF_15 >= 0)
s.add(nsntNoCF_16 >= 0)
s.add(nsntNoCF_17 >= 0)
s.add(nsntNoCF_18 >= 0)

nsntYesCF_10 = Int('nsntYesCF_10')
nsntYesCF_11 = Int('nsntYesCF_11')
nsntYesCF_12 = Int('nsntYesCF_12')
nsntYesCF_13 = Int('nsntYesCF_13')
nsntYesCF_14 = Int('nsntYesCF_14')
nsntYesCF_15 = Int('nsntYesCF_15')
nsntYesCF_16 = Int('nsntYesCF_16')
nsntYesCF_17 = Int('nsntYesCF_17')
nsntYesCF_18 = Int('nsntYesCF_18')
s.add(nsntYesCF_10 >= 0)
s.add(nsntYesCF_11 >= 0)
s.add(nsntYesCF_12 >= 0)
s.add(nsntYesCF_13 >= 0)
s.add(nsntYesCF_14 >= 0)
s.add(nsntYesCF_15 >= 0)
s.add(nsntYesCF_16 >= 0)
s.add(nsntYesCF_17 >= 0)
s.add(nsntYesCF_18 >= 0)


#Ensuring that the alternating indices have the same context

s.add((nsntYesCF_9 >= N ) == (nsntYesCF_10 >= N ))
s.add((nsntNoCF_9 < 1 ) == (nsntNoCF_10 < 1 ))
s.add((nsntNoCF_9 >= 1 ) == (nsntNoCF_10 >= 1 ))
s.add((nsntYesCF_11 >= N ) == (nsntYesCF_12 >= N ))
s.add((nsntNoCF_11 < 1 ) == (nsntNoCF_12 < 1 ))
s.add((nsntNoCF_11 >= 1 ) == (nsntNoCF_12 >= 1 ))
s.add((nsntYesCF_13 >= N ) == (nsntYesCF_14 >= N ))
s.add((nsntNoCF_13 < 1 ) == (nsntNoCF_14 < 1 ))
s.add((nsntNoCF_13 >= 1 ) == (nsntNoCF_14 >= 1 ))
s.add((nsntYesCF_15 >= N ) == (nsntYesCF_16 >= N ))
s.add((nsntNoCF_15 < 1 ) == (nsntNoCF_16 < 1 ))
s.add((nsntNoCF_15 >= 1 ) == (nsntNoCF_16 >= 1 ))
s.add((nsntYesCF_17 >= N ) == (nsntYesCF_18 >= N ))
s.add((nsntNoCF_17 < 1 ) == (nsntNoCF_18 < 1 ))
s.add((nsntNoCF_17 >= 1 ) == (nsntNoCF_18 >= 1 ))

#Creating many copies of variables for rules

x0_9 = Int('x0_9')
x0_10 = Int('x0_10')
x0_11 = Int('x0_11')
x0_12 = Int('x0_12')
x0_13 = Int('x0_13')
x0_14 = Int('x0_14')
x0_15 = Int('x0_15')
x0_16 = Int('x0_16')
x0_17 = Int('x0_17')
s.add(x0_9 >= 0)
s.add(x0_10 >= 0)
s.add(x0_11 >= 0)
s.add(x0_12 >= 0)
s.add(x0_13 >= 0)
s.add(x0_14 >= 0)
s.add(x0_15 >= 0)
s.add(x0_16 >= 0)
s.add(x0_17 >= 0)

x1_9 = Int('x1_9')
x1_10 = Int('x1_10')
x1_11 = Int('x1_11')
x1_12 = Int('x1_12')
x1_13 = Int('x1_13')
x1_14 = Int('x1_14')
x1_15 = Int('x1_15')
x1_16 = Int('x1_16')
x1_17 = Int('x1_17')
s.add(x1_9 >= 0)
s.add(x1_10 >= 0)
s.add(x1_11 >= 0)
s.add(x1_12 >= 0)
s.add(x1_13 >= 0)
s.add(x1_14 >= 0)
s.add(x1_15 >= 0)
s.add(x1_16 >= 0)
s.add(x1_17 >= 0)

x2_9 = Int('x2_9')
x2_10 = Int('x2_10')
x2_11 = Int('x2_11')
x2_12 = Int('x2_12')
x2_13 = Int('x2_13')
x2_14 = Int('x2_14')
x2_15 = Int('x2_15')
x2_16 = Int('x2_16')
x2_17 = Int('x2_17')
s.add(x2_9 >= 0)
s.add(x2_10 >= 0)
s.add(x2_11 >= 0)
s.add(x2_12 >= 0)
s.add(x2_13 >= 0)
s.add(x2_14 >= 0)
s.add(x2_15 >= 0)
s.add(x2_16 >= 0)
s.add(x2_17 >= 0)

x3_9 = Int('x3_9')
x3_10 = Int('x3_10')
x3_11 = Int('x3_11')
x3_12 = Int('x3_12')
x3_13 = Int('x3_13')
x3_14 = Int('x3_14')
x3_15 = Int('x3_15')
x3_16 = Int('x3_16')
x3_17 = Int('x3_17')
s.add(x3_9 >= 0)
s.add(x3_10 >= 0)
s.add(x3_11 >= 0)
s.add(x3_12 >= 0)
s.add(x3_13 >= 0)
s.add(x3_14 >= 0)
s.add(x3_15 >= 0)
s.add(x3_16 >= 0)
s.add(x3_17 >= 0)

x4_9 = Int('x4_9')
x4_10 = Int('x4_10')
x4_11 = Int('x4_11')
x4_12 = Int('x4_12')
x4_13 = Int('x4_13')
x4_14 = Int('x4_14')
x4_15 = Int('x4_15')
x4_16 = Int('x4_16')
x4_17 = Int('x4_17')
s.add(x4_9 >= 0)
s.add(x4_10 >= 0)
s.add(x4_11 >= 0)
s.add(x4_12 >= 0)
s.add(x4_13 >= 0)
s.add(x4_14 >= 0)
s.add(x4_15 >= 0)
s.add(x4_16 >= 0)
s.add(x4_17 >= 0)

x5_9 = Int('x5_9')
x5_10 = Int('x5_10')
x5_11 = Int('x5_11')
x5_12 = Int('x5_12')
x5_13 = Int('x5_13')
x5_14 = Int('x5_14')
x5_15 = Int('x5_15')
x5_16 = Int('x5_16')
x5_17 = Int('x5_17')
s.add(x5_9 >= 0)
s.add(x5_10 >= 0)
s.add(x5_11 >= 0)
s.add(x5_12 >= 0)
s.add(x5_13 >= 0)
s.add(x5_14 >= 0)
s.add(x5_15 >= 0)
s.add(x5_16 >= 0)
s.add(x5_17 >= 0)

x6_9 = Int('x6_9')
x6_10 = Int('x6_10')
x6_11 = Int('x6_11')
x6_12 = Int('x6_12')
x6_13 = Int('x6_13')
x6_14 = Int('x6_14')
x6_15 = Int('x6_15')
x6_16 = Int('x6_16')
x6_17 = Int('x6_17')
s.add(x6_9 >= 0)
s.add(x6_10 >= 0)
s.add(x6_11 >= 0)
s.add(x6_12 >= 0)
s.add(x6_13 >= 0)
s.add(x6_14 >= 0)
s.add(x6_15 >= 0)
s.add(x6_16 >= 0)
s.add(x6_17 >= 0)

x7_9 = Int('x7_9')
x7_10 = Int('x7_10')
x7_11 = Int('x7_11')
x7_12 = Int('x7_12')
x7_13 = Int('x7_13')
x7_14 = Int('x7_14')
x7_15 = Int('x7_15')
x7_16 = Int('x7_16')
x7_17 = Int('x7_17')
s.add(x7_9 >= 0)
s.add(x7_10 >= 0)
s.add(x7_11 >= 0)
s.add(x7_12 >= 0)
s.add(x7_13 >= 0)
s.add(x7_14 >= 0)
s.add(x7_15 >= 0)
s.add(x7_16 >= 0)
s.add(x7_17 >= 0)

x8_9 = Int('x8_9')
x8_10 = Int('x8_10')
x8_11 = Int('x8_11')
x8_12 = Int('x8_12')
x8_13 = Int('x8_13')
x8_14 = Int('x8_14')
x8_15 = Int('x8_15')
x8_16 = Int('x8_16')
x8_17 = Int('x8_17')
s.add(x8_9 >= 0)
s.add(x8_10 >= 0)
s.add(x8_11 >= 0)
s.add(x8_12 >= 0)
s.add(x8_13 >= 0)
s.add(x8_14 >= 0)
s.add(x8_15 >= 0)
s.add(x8_16 >= 0)
s.add(x8_17 >= 0)

x9_9 = Int('x9_9')
x9_10 = Int('x9_10')
x9_11 = Int('x9_11')
x9_12 = Int('x9_12')
x9_13 = Int('x9_13')
x9_14 = Int('x9_14')
x9_15 = Int('x9_15')
x9_16 = Int('x9_16')
x9_17 = Int('x9_17')
s.add(x9_9 >= 0)
s.add(x9_10 >= 0)
s.add(x9_11 >= 0)
s.add(x9_12 >= 0)
s.add(x9_13 >= 0)
s.add(x9_14 >= 0)
s.add(x9_15 >= 0)
s.add(x9_16 >= 0)
s.add(x9_17 >= 0)

x10_9 = Int('x10_9')
x10_10 = Int('x10_10')
x10_11 = Int('x10_11')
x10_12 = Int('x10_12')
x10_13 = Int('x10_13')
x10_14 = Int('x10_14')
x10_15 = Int('x10_15')
x10_16 = Int('x10_16')
x10_17 = Int('x10_17')
s.add(x10_9 >= 0)
s.add(x10_10 >= 0)
s.add(x10_11 >= 0)
s.add(x10_12 >= 0)
s.add(x10_13 >= 0)
s.add(x10_14 >= 0)
s.add(x10_15 >= 0)
s.add(x10_16 >= 0)
s.add(x10_17 >= 0)

x11_9 = Int('x11_9')
x11_10 = Int('x11_10')
x11_11 = Int('x11_11')
x11_12 = Int('x11_12')
x11_13 = Int('x11_13')
x11_14 = Int('x11_14')
x11_15 = Int('x11_15')
x11_16 = Int('x11_16')
x11_17 = Int('x11_17')
s.add(x11_9 >= 0)
s.add(x11_10 >= 0)
s.add(x11_11 >= 0)
s.add(x11_12 >= 0)
s.add(x11_13 >= 0)
s.add(x11_14 >= 0)
s.add(x11_15 >= 0)
s.add(x11_16 >= 0)
s.add(x11_17 >= 0)

x12_9 = Int('x12_9')
x12_10 = Int('x12_10')
x12_11 = Int('x12_11')
x12_12 = Int('x12_12')
x12_13 = Int('x12_13')
x12_14 = Int('x12_14')
x12_15 = Int('x12_15')
x12_16 = Int('x12_16')
x12_17 = Int('x12_17')
s.add(x12_9 >= 0)
s.add(x12_10 >= 0)
s.add(x12_11 >= 0)
s.add(x12_12 >= 0)
s.add(x12_13 >= 0)
s.add(x12_14 >= 0)
s.add(x12_15 >= 0)
s.add(x12_16 >= 0)
s.add(x12_17 >= 0)

x13_9 = Int('x13_9')
x13_10 = Int('x13_10')
x13_11 = Int('x13_11')
x13_12 = Int('x13_12')
x13_13 = Int('x13_13')
x13_14 = Int('x13_14')
x13_15 = Int('x13_15')
x13_16 = Int('x13_16')
x13_17 = Int('x13_17')
s.add(x13_9 >= 0)
s.add(x13_10 >= 0)
s.add(x13_11 >= 0)
s.add(x13_12 >= 0)
s.add(x13_13 >= 0)
s.add(x13_14 >= 0)
s.add(x13_15 >= 0)
s.add(x13_16 >= 0)
s.add(x13_17 >= 0)

x14_9 = Int('x14_9')
x14_10 = Int('x14_10')
x14_11 = Int('x14_11')
x14_12 = Int('x14_12')
x14_13 = Int('x14_13')
x14_14 = Int('x14_14')
x14_15 = Int('x14_15')
x14_16 = Int('x14_16')
x14_17 = Int('x14_17')
s.add(x14_9 >= 0)
s.add(x14_10 >= 0)
s.add(x14_11 >= 0)
s.add(x14_12 >= 0)
s.add(x14_13 >= 0)
s.add(x14_14 >= 0)
s.add(x14_15 >= 0)
s.add(x14_16 >= 0)
s.add(x14_17 >= 0)

x15_9 = Int('x15_9')
x15_10 = Int('x15_10')
x15_11 = Int('x15_11')
x15_12 = Int('x15_12')
x15_13 = Int('x15_13')
x15_14 = Int('x15_14')
x15_15 = Int('x15_15')
x15_16 = Int('x15_16')
x15_17 = Int('x15_17')
s.add(x15_9 >= 0)
s.add(x15_10 >= 0)
s.add(x15_11 >= 0)
s.add(x15_12 >= 0)
s.add(x15_13 >= 0)
s.add(x15_14 >= 0)
s.add(x15_15 >= 0)
s.add(x15_16 >= 0)
s.add(x15_17 >= 0)


#Ensuring that at most one rule is fired between alternating configurations

s.add(Or((x0_10 == 0), (x0_10 == 1)))
s.add(Or((x1_10 == 0), (x1_10 == 1)))
s.add(Or((x2_10 == 0), (x2_10 == 1)))
s.add(Or((x3_10 == 0), (x3_10 == 1)))
s.add(Or((x4_10 == 0), (x4_10 == 1)))
s.add(Or((x5_10 == 0), (x5_10 == 1)))
s.add(Or((x6_10 == 0), (x6_10 == 1)))
s.add(Or((x7_10 == 0), (x7_10 == 1)))
s.add(Or((x8_10 == 0), (x8_10 == 1)))
s.add(Or((x9_10 == 0), (x9_10 == 1)))
s.add(Or((x10_10 == 0), (x10_10 == 1)))
s.add(Or((x11_10 == 0), (x11_10 == 1)))
s.add(Or((x12_10 == 0), (x12_10 == 1)))
s.add(Or((x13_10 == 0), (x13_10 == 1)))
s.add(Or((x14_10 == 0), (x14_10 == 1)))
s.add(Or((x15_10 == 0), (x15_10 == 1)))
s.add(x0_10 + x1_10 + x2_10 + x3_10 + x4_10 + x5_10 + x6_10 + x7_10 + x8_10 + x9_10 + x10_10 + x11_10 + x12_10 + x13_10 + x14_10 + x15_10 <= 1)

s.add(Or((x0_12 == 0), (x0_12 == 1)))
s.add(Or((x1_12 == 0), (x1_12 == 1)))
s.add(Or((x2_12 == 0), (x2_12 == 1)))
s.add(Or((x3_12 == 0), (x3_12 == 1)))
s.add(Or((x4_12 == 0), (x4_12 == 1)))
s.add(Or((x5_12 == 0), (x5_12 == 1)))
s.add(Or((x6_12 == 0), (x6_12 == 1)))
s.add(Or((x7_12 == 0), (x7_12 == 1)))
s.add(Or((x8_12 == 0), (x8_12 == 1)))
s.add(Or((x9_12 == 0), (x9_12 == 1)))
s.add(Or((x10_12 == 0), (x10_12 == 1)))
s.add(Or((x11_12 == 0), (x11_12 == 1)))
s.add(Or((x12_12 == 0), (x12_12 == 1)))
s.add(Or((x13_12 == 0), (x13_12 == 1)))
s.add(Or((x14_12 == 0), (x14_12 == 1)))
s.add(Or((x15_12 == 0), (x15_12 == 1)))
s.add(x0_12 + x1_12 + x2_12 + x3_12 + x4_12 + x5_12 + x6_12 + x7_12 + x8_12 + x9_12 + x10_12 + x11_12 + x12_12 + x13_12 + x14_12 + x15_12 <= 1)

s.add(Or((x0_14 == 0), (x0_14 == 1)))
s.add(Or((x1_14 == 0), (x1_14 == 1)))
s.add(Or((x2_14 == 0), (x2_14 == 1)))
s.add(Or((x3_14 == 0), (x3_14 == 1)))
s.add(Or((x4_14 == 0), (x4_14 == 1)))
s.add(Or((x5_14 == 0), (x5_14 == 1)))
s.add(Or((x6_14 == 0), (x6_14 == 1)))
s.add(Or((x7_14 == 0), (x7_14 == 1)))
s.add(Or((x8_14 == 0), (x8_14 == 1)))
s.add(Or((x9_14 == 0), (x9_14 == 1)))
s.add(Or((x10_14 == 0), (x10_14 == 1)))
s.add(Or((x11_14 == 0), (x11_14 == 1)))
s.add(Or((x12_14 == 0), (x12_14 == 1)))
s.add(Or((x13_14 == 0), (x13_14 == 1)))
s.add(Or((x14_14 == 0), (x14_14 == 1)))
s.add(Or((x15_14 == 0), (x15_14 == 1)))
s.add(x0_14 + x1_14 + x2_14 + x3_14 + x4_14 + x5_14 + x6_14 + x7_14 + x8_14 + x9_14 + x10_14 + x11_14 + x12_14 + x13_14 + x14_14 + x15_14 <= 1)

s.add(Or((x0_16 == 0), (x0_16 == 1)))
s.add(Or((x1_16 == 0), (x1_16 == 1)))
s.add(Or((x2_16 == 0), (x2_16 == 1)))
s.add(Or((x3_16 == 0), (x3_16 == 1)))
s.add(Or((x4_16 == 0), (x4_16 == 1)))
s.add(Or((x5_16 == 0), (x5_16 == 1)))
s.add(Or((x6_16 == 0), (x6_16 == 1)))
s.add(Or((x7_16 == 0), (x7_16 == 1)))
s.add(Or((x8_16 == 0), (x8_16 == 1)))
s.add(Or((x9_16 == 0), (x9_16 == 1)))
s.add(Or((x10_16 == 0), (x10_16 == 1)))
s.add(Or((x11_16 == 0), (x11_16 == 1)))
s.add(Or((x12_16 == 0), (x12_16 == 1)))
s.add(Or((x13_16 == 0), (x13_16 == 1)))
s.add(Or((x14_16 == 0), (x14_16 == 1)))
s.add(Or((x15_16 == 0), (x15_16 == 1)))
s.add(x0_16 + x1_16 + x2_16 + x3_16 + x4_16 + x5_16 + x6_16 + x7_16 + x8_16 + x9_16 + x10_16 + x11_16 + x12_16 + x13_16 + x14_16 + x15_16 <= 1)


###################Step 2####################


#Flow equations for the locations

s.add( - x0_9 - x6_9 ==  locNO_10 - locNO_9)
s.add( - x1_9 - x7_9 ==  locYES_10 - locYES_9)
s.add( + x0_9 + x1_9 - x2_9 - x3_9 - x5_9 - x8_9 - x12_9 + x12_9 ==  locSE_10 - locSE_9)
s.add( + x2_9 - x4_9 - x9_9 - x13_9 + x13_9 ==  locFDSE_10 - locFDSE_9)
s.add( + x5_9 - x10_9 - x14_9 + x14_9 ==  locCMT_10 - locCMT_9)
s.add( + x3_9 + x4_9 - x11_9 - x15_9 + x15_9 ==  locABR_10 - locABR_9)
s.add( + x6_9 + x7_9 + x8_9 + x9_9 + x10_9 + x11_9 ==  locCR_10 - locCR_9)
s.add( - x0_10 - x6_10 ==  locNO_11 - locNO_10)
s.add( - x1_10 - x7_10 ==  locYES_11 - locYES_10)
s.add( + x0_10 + x1_10 - x2_10 - x3_10 - x5_10 - x8_10 - x12_10 + x12_10 ==  locSE_11 - locSE_10)
s.add( + x2_10 - x4_10 - x9_10 - x13_10 + x13_10 ==  locFDSE_11 - locFDSE_10)
s.add( + x5_10 - x10_10 - x14_10 + x14_10 ==  locCMT_11 - locCMT_10)
s.add( + x3_10 + x4_10 - x11_10 - x15_10 + x15_10 ==  locABR_11 - locABR_10)
s.add( + x6_10 + x7_10 + x8_10 + x9_10 + x10_10 + x11_10 ==  locCR_11 - locCR_10)
s.add( - x0_11 - x6_11 ==  locNO_12 - locNO_11)
s.add( - x1_11 - x7_11 ==  locYES_12 - locYES_11)
s.add( + x0_11 + x1_11 - x2_11 - x3_11 - x5_11 - x8_11 - x12_11 + x12_11 ==  locSE_12 - locSE_11)
s.add( + x2_11 - x4_11 - x9_11 - x13_11 + x13_11 ==  locFDSE_12 - locFDSE_11)
s.add( + x5_11 - x10_11 - x14_11 + x14_11 ==  locCMT_12 - locCMT_11)
s.add( + x3_11 + x4_11 - x11_11 - x15_11 + x15_11 ==  locABR_12 - locABR_11)
s.add( + x6_11 + x7_11 + x8_11 + x9_11 + x10_11 + x11_11 ==  locCR_12 - locCR_11)
s.add( - x0_12 - x6_12 ==  locNO_13 - locNO_12)
s.add( - x1_12 - x7_12 ==  locYES_13 - locYES_12)
s.add( + x0_12 + x1_12 - x2_12 - x3_12 - x5_12 - x8_12 - x12_12 + x12_12 ==  locSE_13 - locSE_12)
s.add( + x2_12 - x4_12 - x9_12 - x13_12 + x13_12 ==  locFDSE_13 - locFDSE_12)
s.add( + x5_12 - x10_12 - x14_12 + x14_12 ==  locCMT_13 - locCMT_12)
s.add( + x3_12 + x4_12 - x11_12 - x15_12 + x15_12 ==  locABR_13 - locABR_12)
s.add( + x6_12 + x7_12 + x8_12 + x9_12 + x10_12 + x11_12 ==  locCR_13 - locCR_12)
s.add( - x0_13 - x6_13 ==  locNO_14 - locNO_13)
s.add( - x1_13 - x7_13 ==  locYES_14 - locYES_13)
s.add( + x0_13 + x1_13 - x2_13 - x3_13 - x5_13 - x8_13 - x12_13 + x12_13 ==  locSE_14 - locSE_13)
s.add( + x2_13 - x4_13 - x9_13 - x13_13 + x13_13 ==  locFDSE_14 - locFDSE_13)
s.add( + x5_13 - x10_13 - x14_13 + x14_13 ==  locCMT_14 - locCMT_13)
s.add( + x3_13 + x4_13 - x11_13 - x15_13 + x15_13 ==  locABR_14 - locABR_13)
s.add( + x6_13 + x7_13 + x8_13 + x9_13 + x10_13 + x11_13 ==  locCR_14 - locCR_13)
s.add( - x0_14 - x6_14 ==  locNO_15 - locNO_14)
s.add( - x1_14 - x7_14 ==  locYES_15 - locYES_14)
s.add( + x0_14 + x1_14 - x2_14 - x3_14 - x5_14 - x8_14 - x12_14 + x12_14 ==  locSE_15 - locSE_14)
s.add( + x2_14 - x4_14 - x9_14 - x13_14 + x13_14 ==  locFDSE_15 - locFDSE_14)
s.add( + x5_14 - x10_14 - x14_14 + x14_14 ==  locCMT_15 - locCMT_14)
s.add( + x3_14 + x4_14 - x11_14 - x15_14 + x15_14 ==  locABR_15 - locABR_14)
s.add( + x6_14 + x7_14 + x8_14 + x9_14 + x10_14 + x11_14 ==  locCR_15 - locCR_14)
s.add( - x0_15 - x6_15 ==  locNO_16 - locNO_15)
s.add( - x1_15 - x7_15 ==  locYES_16 - locYES_15)
s.add( + x0_15 + x1_15 - x2_15 - x3_15 - x5_15 - x8_15 - x12_15 + x12_15 ==  locSE_16 - locSE_15)
s.add( + x2_15 - x4_15 - x9_15 - x13_15 + x13_15 ==  locFDSE_16 - locFDSE_15)
s.add( + x5_15 - x10_15 - x14_15 + x14_15 ==  locCMT_16 - locCMT_15)
s.add( + x3_15 + x4_15 - x11_15 - x15_15 + x15_15 ==  locABR_16 - locABR_15)
s.add( + x6_15 + x7_15 + x8_15 + x9_15 + x10_15 + x11_15 ==  locCR_16 - locCR_15)
s.add( - x0_16 - x6_16 ==  locNO_17 - locNO_16)
s.add( - x1_16 - x7_16 ==  locYES_17 - locYES_16)
s.add( + x0_16 + x1_16 - x2_16 - x3_16 - x5_16 - x8_16 - x12_16 + x12_16 ==  locSE_17 - locSE_16)
s.add( + x2_16 - x4_16 - x9_16 - x13_16 + x13_16 ==  locFDSE_17 - locFDSE_16)
s.add( + x5_16 - x10_16 - x14_16 + x14_16 ==  locCMT_17 - locCMT_16)
s.add( + x3_16 + x4_16 - x11_16 - x15_16 + x15_16 ==  locABR_17 - locABR_16)
s.add( + x6_16 + x7_16 + x8_16 + x9_16 + x10_16 + x11_16 ==  locCR_17 - locCR_16)
s.add( - x0_17 - x6_17 ==  locNO_18 - locNO_17)
s.add( - x1_17 - x7_17 ==  locYES_18 - locYES_17)
s.add( + x0_17 + x1_17 - x2_17 - x3_17 - x5_17 - x8_17 - x12_17 + x12_17 ==  locSE_18 - locSE_17)
s.add( + x2_17 - x4_17 - x9_17 - x13_17 + x13_17 ==  locFDSE_18 - locFDSE_17)
s.add( + x5_17 - x10_17 - x14_17 + x14_17 ==  locCMT_18 - locCMT_17)
s.add( + x3_17 + x4_17 - x11_17 - x15_17 + x15_17 ==  locABR_18 - locABR_17)
s.add( + x6_17 + x7_17 + x8_17 + x9_17 + x10_17 + x11_17 ==  locCR_18 - locCR_17)

##################Step 3########################


#Flow equations for the shared variables

s.add(0 + x0_9 * 1 == nsntNoCF_10 - nsntNoCF_9)
s.add(0 + x1_9 * 1 == nsntYesCF_10 - nsntYesCF_9)
s.add(0 + x0_10 * 1 == nsntNoCF_11 - nsntNoCF_10)
s.add(0 + x1_10 * 1 == nsntYesCF_11 - nsntYesCF_10)
s.add(0 + x0_11 * 1 == nsntNoCF_12 - nsntNoCF_11)
s.add(0 + x1_11 * 1 == nsntYesCF_12 - nsntYesCF_11)
s.add(0 + x0_12 * 1 == nsntNoCF_13 - nsntNoCF_12)
s.add(0 + x1_12 * 1 == nsntYesCF_13 - nsntYesCF_12)
s.add(0 + x0_13 * 1 == nsntNoCF_14 - nsntNoCF_13)
s.add(0 + x1_13 * 1 == nsntYesCF_14 - nsntYesCF_13)
s.add(0 + x0_14 * 1 == nsntNoCF_15 - nsntNoCF_14)
s.add(0 + x1_14 * 1 == nsntYesCF_15 - nsntYesCF_14)
s.add(0 + x0_15 * 1 == nsntNoCF_16 - nsntNoCF_15)
s.add(0 + x1_15 * 1 == nsntYesCF_16 - nsntYesCF_15)
s.add(0 + x0_16 * 1 == nsntNoCF_17 - nsntNoCF_16)
s.add(0 + x1_16 * 1 == nsntYesCF_17 - nsntYesCF_16)
s.add(0 + x0_17 * 1 == nsntNoCF_18 - nsntNoCF_17)
s.add(0 + x1_17 * 1 == nsntYesCF_18 - nsntYesCF_17)

####################Step 4########################


#Rule is fired implies rule is enabled

s.add(Implies( (x0_9 > 0), ((True) ) ))
s.add(Implies( (x0_10 > 0), ((True) ) ))
s.add(Implies( (x0_11 > 0), ((True) ) ))
s.add(Implies( (x0_12 > 0), ((True) ) ))
s.add(Implies( (x0_13 > 0), ((True) ) ))
s.add(Implies( (x0_14 > 0), ((True) ) ))
s.add(Implies( (x0_15 > 0), ((True) ) ))
s.add(Implies( (x0_16 > 0), ((True) ) ))
s.add(Implies( (x0_17 > 0), ((True) ) ))
s.add(Implies( (x1_9 > 0), ((True) ) ))
s.add(Implies( (x1_10 > 0), ((True) ) ))
s.add(Implies( (x1_11 > 0), ((True) ) ))
s.add(Implies( (x1_12 > 0), ((True) ) ))
s.add(Implies( (x1_13 > 0), ((True) ) ))
s.add(Implies( (x1_14 > 0), ((True) ) ))
s.add(Implies( (x1_15 > 0), ((True) ) ))
s.add(Implies( (x1_16 > 0), ((True) ) ))
s.add(Implies( (x1_17 > 0), ((True) ) ))
s.add(Implies( (x2_9 > 0), ((True) ) ))
s.add(Implies( (x2_10 > 0), ((True) ) ))
s.add(Implies( (x2_11 > 0), ((True) ) ))
s.add(Implies( (x2_12 > 0), ((True) ) ))
s.add(Implies( (x2_13 > 0), ((True) ) ))
s.add(Implies( (x2_14 > 0), ((True) ) ))
s.add(Implies( (x2_15 > 0), ((True) ) ))
s.add(Implies( (x2_16 > 0), ((True) ) ))
s.add(Implies( (x2_17 > 0), ((True) ) ))
s.add(Implies( (x3_9 > 0), ((nsntNoCF_9 >= 1) ) ))
s.add(Implies( (x3_10 > 0), ((nsntNoCF_10 >= 1) ) ))
s.add(Implies( (x3_11 > 0), ((nsntNoCF_11 >= 1) ) ))
s.add(Implies( (x3_12 > 0), ((nsntNoCF_12 >= 1) ) ))
s.add(Implies( (x3_13 > 0), ((nsntNoCF_13 >= 1) ) ))
s.add(Implies( (x3_14 > 0), ((nsntNoCF_14 >= 1) ) ))
s.add(Implies( (x3_15 > 0), ((nsntNoCF_15 >= 1) ) ))
s.add(Implies( (x3_16 > 0), ((nsntNoCF_16 >= 1) ) ))
s.add(Implies( (x3_17 > 0), ((nsntNoCF_17 >= 1) ) ))
s.add(Implies( (x4_9 > 0), ((True) ) ))
s.add(Implies( (x4_10 > 0), ((True) ) ))
s.add(Implies( (x4_11 > 0), ((True) ) ))
s.add(Implies( (x4_12 > 0), ((True) ) ))
s.add(Implies( (x4_13 > 0), ((True) ) ))
s.add(Implies( (x4_14 > 0), ((True) ) ))
s.add(Implies( (x4_15 > 0), ((True) ) ))
s.add(Implies( (x4_16 > 0), ((True) ) ))
s.add(Implies( (x4_17 > 0), ((True) ) ))
s.add(Implies( (x5_9 > 0), (And(nsntNoCF_9 < 1 , nsntYesCF_9 >= N) ) ))
s.add(Implies( (x5_10 > 0), (And(nsntNoCF_10 < 1 , nsntYesCF_10 >= N) ) ))
s.add(Implies( (x5_11 > 0), (And(nsntNoCF_11 < 1 , nsntYesCF_11 >= N) ) ))
s.add(Implies( (x5_12 > 0), (And(nsntNoCF_12 < 1 , nsntYesCF_12 >= N) ) ))
s.add(Implies( (x5_13 > 0), (And(nsntNoCF_13 < 1 , nsntYesCF_13 >= N) ) ))
s.add(Implies( (x5_14 > 0), (And(nsntNoCF_14 < 1 , nsntYesCF_14 >= N) ) ))
s.add(Implies( (x5_15 > 0), (And(nsntNoCF_15 < 1 , nsntYesCF_15 >= N) ) ))
s.add(Implies( (x5_16 > 0), (And(nsntNoCF_16 < 1 , nsntYesCF_16 >= N) ) ))
s.add(Implies( (x5_17 > 0), (And(nsntNoCF_17 < 1 , nsntYesCF_17 >= N) ) ))
s.add(Implies( (x6_9 > 0), ((True) ) ))
s.add(Implies( (x6_10 > 0), ((True) ) ))
s.add(Implies( (x6_11 > 0), ((True) ) ))
s.add(Implies( (x6_12 > 0), ((True) ) ))
s.add(Implies( (x6_13 > 0), ((True) ) ))
s.add(Implies( (x6_14 > 0), ((True) ) ))
s.add(Implies( (x6_15 > 0), ((True) ) ))
s.add(Implies( (x6_16 > 0), ((True) ) ))
s.add(Implies( (x6_17 > 0), ((True) ) ))
s.add(Implies( (x7_9 > 0), ((True) ) ))
s.add(Implies( (x7_10 > 0), ((True) ) ))
s.add(Implies( (x7_11 > 0), ((True) ) ))
s.add(Implies( (x7_12 > 0), ((True) ) ))
s.add(Implies( (x7_13 > 0), ((True) ) ))
s.add(Implies( (x7_14 > 0), ((True) ) ))
s.add(Implies( (x7_15 > 0), ((True) ) ))
s.add(Implies( (x7_16 > 0), ((True) ) ))
s.add(Implies( (x7_17 > 0), ((True) ) ))
s.add(Implies( (x8_9 > 0), ((True) ) ))
s.add(Implies( (x8_10 > 0), ((True) ) ))
s.add(Implies( (x8_11 > 0), ((True) ) ))
s.add(Implies( (x8_12 > 0), ((True) ) ))
s.add(Implies( (x8_13 > 0), ((True) ) ))
s.add(Implies( (x8_14 > 0), ((True) ) ))
s.add(Implies( (x8_15 > 0), ((True) ) ))
s.add(Implies( (x8_16 > 0), ((True) ) ))
s.add(Implies( (x8_17 > 0), ((True) ) ))
s.add(Implies( (x9_9 > 0), ((True) ) ))
s.add(Implies( (x9_10 > 0), ((True) ) ))
s.add(Implies( (x9_11 > 0), ((True) ) ))
s.add(Implies( (x9_12 > 0), ((True) ) ))
s.add(Implies( (x9_13 > 0), ((True) ) ))
s.add(Implies( (x9_14 > 0), ((True) ) ))
s.add(Implies( (x9_15 > 0), ((True) ) ))
s.add(Implies( (x9_16 > 0), ((True) ) ))
s.add(Implies( (x9_17 > 0), ((True) ) ))
s.add(Implies( (x10_9 > 0), ((True) ) ))
s.add(Implies( (x10_10 > 0), ((True) ) ))
s.add(Implies( (x10_11 > 0), ((True) ) ))
s.add(Implies( (x10_12 > 0), ((True) ) ))
s.add(Implies( (x10_13 > 0), ((True) ) ))
s.add(Implies( (x10_14 > 0), ((True) ) ))
s.add(Implies( (x10_15 > 0), ((True) ) ))
s.add(Implies( (x10_16 > 0), ((True) ) ))
s.add(Implies( (x10_17 > 0), ((True) ) ))
s.add(Implies( (x11_9 > 0), ((True) ) ))
s.add(Implies( (x11_10 > 0), ((True) ) ))
s.add(Implies( (x11_11 > 0), ((True) ) ))
s.add(Implies( (x11_12 > 0), ((True) ) ))
s.add(Implies( (x11_13 > 0), ((True) ) ))
s.add(Implies( (x11_14 > 0), ((True) ) ))
s.add(Implies( (x11_15 > 0), ((True) ) ))
s.add(Implies( (x11_16 > 0), ((True) ) ))
s.add(Implies( (x11_17 > 0), ((True) ) ))
s.add(Implies( (x12_9 > 0), ((True) ) ))
s.add(Implies( (x12_10 > 0), ((True) ) ))
s.add(Implies( (x12_11 > 0), ((True) ) ))
s.add(Implies( (x12_12 > 0), ((True) ) ))
s.add(Implies( (x12_13 > 0), ((True) ) ))
s.add(Implies( (x12_14 > 0), ((True) ) ))
s.add(Implies( (x12_15 > 0), ((True) ) ))
s.add(Implies( (x12_16 > 0), ((True) ) ))
s.add(Implies( (x12_17 > 0), ((True) ) ))
s.add(Implies( (x13_9 > 0), ((True) ) ))
s.add(Implies( (x13_10 > 0), ((True) ) ))
s.add(Implies( (x13_11 > 0), ((True) ) ))
s.add(Implies( (x13_12 > 0), ((True) ) ))
s.add(Implies( (x13_13 > 0), ((True) ) ))
s.add(Implies( (x13_14 > 0), ((True) ) ))
s.add(Implies( (x13_15 > 0), ((True) ) ))
s.add(Implies( (x13_16 > 0), ((True) ) ))
s.add(Implies( (x13_17 > 0), ((True) ) ))
s.add(Implies( (x14_9 > 0), ((True) ) ))
s.add(Implies( (x14_10 > 0), ((True) ) ))
s.add(Implies( (x14_11 > 0), ((True) ) ))
s.add(Implies( (x14_12 > 0), ((True) ) ))
s.add(Implies( (x14_13 > 0), ((True) ) ))
s.add(Implies( (x14_14 > 0), ((True) ) ))
s.add(Implies( (x14_15 > 0), ((True) ) ))
s.add(Implies( (x14_16 > 0), ((True) ) ))
s.add(Implies( (x14_17 > 0), ((True) ) ))
s.add(Implies( (x15_9 > 0), ((True) ) ))
s.add(Implies( (x15_10 > 0), ((True) ) ))
s.add(Implies( (x15_11 > 0), ((True) ) ))
s.add(Implies( (x15_12 > 0), ((True) ) ))
s.add(Implies( (x15_13 > 0), ((True) ) ))
s.add(Implies( (x15_14 > 0), ((True) ) ))
s.add(Implies( (x15_15 > 0), ((True) ) ))
s.add(Implies( (x15_16 > 0), ((True) ) ))
s.add(Implies( (x15_17 > 0), ((True) ) ))

######################Step 5#####################


#Constraints that the 1th configuration has to satisfy

s.add(True )

#####################Step 6########################


#Constraints that the path between the 1th and 2th configuration has to satisfy

s.add(And(And(locCR_9 == 0, x6_9 == 0, x7_9 == 0, x8_9 == 0, x9_9 == 0, x10_9 == 0, x11_9 == 0, ), Or(locNO_9 != 0, locYES_9 != 0, locSE_9 != 0, locFDSE_9 != 0)) )
s.add(And(And(locCR_10 == 0, x6_10 == 0, x7_10 == 0, x8_10 == 0, x9_10 == 0, x10_10 == 0, x11_10 == 0, ), Or(locNO_10 != 0, locYES_10 != 0, locSE_10 != 0, locFDSE_10 != 0)) )
s.add(And(And(locCR_11 == 0, x6_11 == 0, x7_11 == 0, x8_11 == 0, x9_11 == 0, x10_11 == 0, x11_11 == 0, ), Or(locNO_11 != 0, locYES_11 != 0, locSE_11 != 0, locFDSE_11 != 0)) )
s.add(And(And(locCR_12 == 0, x6_12 == 0, x7_12 == 0, x8_12 == 0, x9_12 == 0, x10_12 == 0, x11_12 == 0, ), Or(locNO_12 != 0, locYES_12 != 0, locSE_12 != 0, locFDSE_12 != 0)) )
s.add(And(And(locCR_13 == 0, x6_13 == 0, x7_13 == 0, x8_13 == 0, x9_13 == 0, x10_13 == 0, x11_13 == 0, ), Or(locNO_13 != 0, locYES_13 != 0, locSE_13 != 0, locFDSE_13 != 0)) )
s.add(And(And(locCR_14 == 0, x6_14 == 0, x7_14 == 0, x8_14 == 0, x9_14 == 0, x10_14 == 0, x11_14 == 0, ), Or(locNO_14 != 0, locYES_14 != 0, locSE_14 != 0, locFDSE_14 != 0)) )
s.add(And(And(locCR_15 == 0, x6_15 == 0, x7_15 == 0, x8_15 == 0, x9_15 == 0, x10_15 == 0, x11_15 == 0, ), Or(locNO_15 != 0, locYES_15 != 0, locSE_15 != 0, locFDSE_15 != 0)) )
s.add(And(And(locCR_16 == 0, x6_16 == 0, x7_16 == 0, x8_16 == 0, x9_16 == 0, x10_16 == 0, x11_16 == 0, ), Or(locNO_16 != 0, locYES_16 != 0, locSE_16 != 0, locFDSE_16 != 0)) )
s.add(And(And(locCR_17 == 0, x6_17 == 0, x7_17 == 0, x8_17 == 0, x9_17 == 0, x10_17 == 0, x11_17 == 0, ), Or(locNO_17 != 0, locYES_17 != 0, locSE_17 != 0, locFDSE_17 != 0)) )
s.add(And(locCR_18 == 0, Or(locNO_18 != 0, locYES_18 != 0, locSE_18 != 0, locFDSE_18 != 0)) )
s.add(And(And(locNO_9 == 0, ), And(locYES_9 == 0, ), And(locFDSE_9 == 0, x2_9 == 0, x13_9 == 0, ), Or(nsntNoCF_9 < 1, And(locSE_9 == 0, x0_9 == 0, x1_9 == 0, x12_9 == 0, )), Or(nsntYesCF_9 < N, nsntNoCF_9 >= 1, And(locSE_9 == 0, x0_9 == 0, x1_9 == 0, x12_9 == 0, ))) )
s.add(And(And(locNO_10 == 0, ), And(locYES_10 == 0, ), And(locFDSE_10 == 0, x2_10 == 0, x13_10 == 0, ), Or(nsntNoCF_10 < 1, And(locSE_10 == 0, x0_10 == 0, x1_10 == 0, x12_10 == 0, )), Or(nsntYesCF_10 < N, nsntNoCF_10 >= 1, And(locSE_10 == 0, x0_10 == 0, x1_10 == 0, x12_10 == 0, ))) )
s.add(And(And(locNO_11 == 0, ), And(locYES_11 == 0, ), And(locFDSE_11 == 0, x2_11 == 0, x13_11 == 0, ), Or(nsntNoCF_11 < 1, And(locSE_11 == 0, x0_11 == 0, x1_11 == 0, x12_11 == 0, )), Or(nsntYesCF_11 < N, nsntNoCF_11 >= 1, And(locSE_11 == 0, x0_11 == 0, x1_11 == 0, x12_11 == 0, ))) )
s.add(And(And(locNO_12 == 0, ), And(locYES_12 == 0, ), And(locFDSE_12 == 0, x2_12 == 0, x13_12 == 0, ), Or(nsntNoCF_12 < 1, And(locSE_12 == 0, x0_12 == 0, x1_12 == 0, x12_12 == 0, )), Or(nsntYesCF_12 < N, nsntNoCF_12 >= 1, And(locSE_12 == 0, x0_12 == 0, x1_12 == 0, x12_12 == 0, ))) )
s.add(And(And(locNO_13 == 0, ), And(locYES_13 == 0, ), And(locFDSE_13 == 0, x2_13 == 0, x13_13 == 0, ), Or(nsntNoCF_13 < 1, And(locSE_13 == 0, x0_13 == 0, x1_13 == 0, x12_13 == 0, )), Or(nsntYesCF_13 < N, nsntNoCF_13 >= 1, And(locSE_13 == 0, x0_13 == 0, x1_13 == 0, x12_13 == 0, ))) )
s.add(And(And(locNO_14 == 0, ), And(locYES_14 == 0, ), And(locFDSE_14 == 0, x2_14 == 0, x13_14 == 0, ), Or(nsntNoCF_14 < 1, And(locSE_14 == 0, x0_14 == 0, x1_14 == 0, x12_14 == 0, )), Or(nsntYesCF_14 < N, nsntNoCF_14 >= 1, And(locSE_14 == 0, x0_14 == 0, x1_14 == 0, x12_14 == 0, ))) )
s.add(And(And(locNO_15 == 0, ), And(locYES_15 == 0, ), And(locFDSE_15 == 0, x2_15 == 0, x13_15 == 0, ), Or(nsntNoCF_15 < 1, And(locSE_15 == 0, x0_15 == 0, x1_15 == 0, x12_15 == 0, )), Or(nsntYesCF_15 < N, nsntNoCF_15 >= 1, And(locSE_15 == 0, x0_15 == 0, x1_15 == 0, x12_15 == 0, ))) )
s.add(And(And(locNO_16 == 0, ), And(locYES_16 == 0, ), And(locFDSE_16 == 0, x2_16 == 0, x13_16 == 0, ), Or(nsntNoCF_16 < 1, And(locSE_16 == 0, x0_16 == 0, x1_16 == 0, x12_16 == 0, )), Or(nsntYesCF_16 < N, nsntNoCF_16 >= 1, And(locSE_16 == 0, x0_16 == 0, x1_16 == 0, x12_16 == 0, ))) )
s.add(And(And(locNO_17 == 0, ), And(locYES_17 == 0, ), And(locFDSE_17 == 0, x2_17 == 0, x13_17 == 0, ), Or(nsntNoCF_17 < 1, And(locSE_17 == 0, x0_17 == 0, x1_17 == 0, x12_17 == 0, )), Or(nsntYesCF_17 < N, nsntNoCF_17 >= 1, And(locSE_17 == 0, x0_17 == 0, x1_17 == 0, x12_17 == 0, ))) )
s.add(And(locNO_18 == 0, locYES_18 == 0, locFDSE_18 == 0, Or(nsntNoCF_18 < 1, locSE_18 == 0), Or(nsntYesCF_18 < N, nsntNoCF_18 >= 1, locSE_18 == 0)) )

#####################Step 7#########################


#In the inital part, we do not allow all the edges in a cycle to be fired as this is clearly wasteful, assuming the automaton is canonical


#Further, if an edge is a self-loop, we do not fire that as well

s.add(x12_9 == 0)
s.add(x12_10 == 0)
s.add(x12_11 == 0)
s.add(x12_12 == 0)
s.add(x12_13 == 0)
s.add(x12_14 == 0)
s.add(x12_15 == 0)
s.add(x12_16 == 0)
s.add(x12_17 == 0)
s.add(x13_9 == 0)
s.add(x13_10 == 0)
s.add(x13_11 == 0)
s.add(x13_12 == 0)
s.add(x13_13 == 0)
s.add(x13_14 == 0)
s.add(x13_15 == 0)
s.add(x13_16 == 0)
s.add(x13_17 == 0)
s.add(x14_9 == 0)
s.add(x14_10 == 0)
s.add(x14_11 == 0)
s.add(x14_12 == 0)
s.add(x14_13 == 0)
s.add(x14_14 == 0)
s.add(x14_15 == 0)
s.add(x14_16 == 0)
s.add(x14_17 == 0)
s.add(x15_9 == 0)
s.add(x15_10 == 0)
s.add(x15_11 == 0)
s.add(x15_12 == 0)
s.add(x15_13 == 0)
s.add(x15_14 == 0)
s.add(x15_15 == 0)
s.add(x15_16 == 0)
s.add(x15_17 == 0)

####################################################################################

#Creating constraints for a run between the 2th and 3th configurations

################Step 1#################


#Creating many copies of location variables

locNO_19 = Int('locNO_19')
locNO_20 = Int('locNO_20')
locNO_21 = Int('locNO_21')
locNO_22 = Int('locNO_22')
locNO_23 = Int('locNO_23')
locNO_24 = Int('locNO_24')
locNO_25 = Int('locNO_25')
locNO_26 = Int('locNO_26')
locNO_27 = Int('locNO_27')
s.add(locNO_19 >= 0)
s.add(locNO_20 >= 0)
s.add(locNO_21 >= 0)
s.add(locNO_22 >= 0)
s.add(locNO_23 >= 0)
s.add(locNO_24 >= 0)
s.add(locNO_25 >= 0)
s.add(locNO_26 >= 0)
s.add(locNO_27 >= 0)

locYES_19 = Int('locYES_19')
locYES_20 = Int('locYES_20')
locYES_21 = Int('locYES_21')
locYES_22 = Int('locYES_22')
locYES_23 = Int('locYES_23')
locYES_24 = Int('locYES_24')
locYES_25 = Int('locYES_25')
locYES_26 = Int('locYES_26')
locYES_27 = Int('locYES_27')
s.add(locYES_19 >= 0)
s.add(locYES_20 >= 0)
s.add(locYES_21 >= 0)
s.add(locYES_22 >= 0)
s.add(locYES_23 >= 0)
s.add(locYES_24 >= 0)
s.add(locYES_25 >= 0)
s.add(locYES_26 >= 0)
s.add(locYES_27 >= 0)

locSE_19 = Int('locSE_19')
locSE_20 = Int('locSE_20')
locSE_21 = Int('locSE_21')
locSE_22 = Int('locSE_22')
locSE_23 = Int('locSE_23')
locSE_24 = Int('locSE_24')
locSE_25 = Int('locSE_25')
locSE_26 = Int('locSE_26')
locSE_27 = Int('locSE_27')
s.add(locSE_19 >= 0)
s.add(locSE_20 >= 0)
s.add(locSE_21 >= 0)
s.add(locSE_22 >= 0)
s.add(locSE_23 >= 0)
s.add(locSE_24 >= 0)
s.add(locSE_25 >= 0)
s.add(locSE_26 >= 0)
s.add(locSE_27 >= 0)

locFDSE_19 = Int('locFDSE_19')
locFDSE_20 = Int('locFDSE_20')
locFDSE_21 = Int('locFDSE_21')
locFDSE_22 = Int('locFDSE_22')
locFDSE_23 = Int('locFDSE_23')
locFDSE_24 = Int('locFDSE_24')
locFDSE_25 = Int('locFDSE_25')
locFDSE_26 = Int('locFDSE_26')
locFDSE_27 = Int('locFDSE_27')
s.add(locFDSE_19 >= 0)
s.add(locFDSE_20 >= 0)
s.add(locFDSE_21 >= 0)
s.add(locFDSE_22 >= 0)
s.add(locFDSE_23 >= 0)
s.add(locFDSE_24 >= 0)
s.add(locFDSE_25 >= 0)
s.add(locFDSE_26 >= 0)
s.add(locFDSE_27 >= 0)

locCMT_19 = Int('locCMT_19')
locCMT_20 = Int('locCMT_20')
locCMT_21 = Int('locCMT_21')
locCMT_22 = Int('locCMT_22')
locCMT_23 = Int('locCMT_23')
locCMT_24 = Int('locCMT_24')
locCMT_25 = Int('locCMT_25')
locCMT_26 = Int('locCMT_26')
locCMT_27 = Int('locCMT_27')
s.add(locCMT_19 >= 0)
s.add(locCMT_20 >= 0)
s.add(locCMT_21 >= 0)
s.add(locCMT_22 >= 0)
s.add(locCMT_23 >= 0)
s.add(locCMT_24 >= 0)
s.add(locCMT_25 >= 0)
s.add(locCMT_26 >= 0)
s.add(locCMT_27 >= 0)

locABR_19 = Int('locABR_19')
locABR_20 = Int('locABR_20')
locABR_21 = Int('locABR_21')
locABR_22 = Int('locABR_22')
locABR_23 = Int('locABR_23')
locABR_24 = Int('locABR_24')
locABR_25 = Int('locABR_25')
locABR_26 = Int('locABR_26')
locABR_27 = Int('locABR_27')
s.add(locABR_19 >= 0)
s.add(locABR_20 >= 0)
s.add(locABR_21 >= 0)
s.add(locABR_22 >= 0)
s.add(locABR_23 >= 0)
s.add(locABR_24 >= 0)
s.add(locABR_25 >= 0)
s.add(locABR_26 >= 0)
s.add(locABR_27 >= 0)

locCR_19 = Int('locCR_19')
locCR_20 = Int('locCR_20')
locCR_21 = Int('locCR_21')
locCR_22 = Int('locCR_22')
locCR_23 = Int('locCR_23')
locCR_24 = Int('locCR_24')
locCR_25 = Int('locCR_25')
locCR_26 = Int('locCR_26')
locCR_27 = Int('locCR_27')
s.add(locCR_19 >= 0)
s.add(locCR_20 >= 0)
s.add(locCR_21 >= 0)
s.add(locCR_22 >= 0)
s.add(locCR_23 >= 0)
s.add(locCR_24 >= 0)
s.add(locCR_25 >= 0)
s.add(locCR_26 >= 0)
s.add(locCR_27 >= 0)


#Adding the constraint for the number of processes

s.add(locNO_19 + locYES_19 + locSE_19 + locFDSE_19 + locCMT_19 + locABR_19 + locCR_19 == N)
s.add(locNO_20 + locYES_20 + locSE_20 + locFDSE_20 + locCMT_20 + locABR_20 + locCR_20 == N)
s.add(locNO_21 + locYES_21 + locSE_21 + locFDSE_21 + locCMT_21 + locABR_21 + locCR_21 == N)
s.add(locNO_22 + locYES_22 + locSE_22 + locFDSE_22 + locCMT_22 + locABR_22 + locCR_22 == N)
s.add(locNO_23 + locYES_23 + locSE_23 + locFDSE_23 + locCMT_23 + locABR_23 + locCR_23 == N)
s.add(locNO_24 + locYES_24 + locSE_24 + locFDSE_24 + locCMT_24 + locABR_24 + locCR_24 == N)
s.add(locNO_25 + locYES_25 + locSE_25 + locFDSE_25 + locCMT_25 + locABR_25 + locCR_25 == N)
s.add(locNO_26 + locYES_26 + locSE_26 + locFDSE_26 + locCMT_26 + locABR_26 + locCR_26 == N)
s.add(locNO_27 + locYES_27 + locSE_27 + locFDSE_27 + locCMT_27 + locABR_27 + locCR_27 == N)

#Creating many copies of shared variables

nsntNoCF_19 = Int('nsntNoCF_19')
nsntNoCF_20 = Int('nsntNoCF_20')
nsntNoCF_21 = Int('nsntNoCF_21')
nsntNoCF_22 = Int('nsntNoCF_22')
nsntNoCF_23 = Int('nsntNoCF_23')
nsntNoCF_24 = Int('nsntNoCF_24')
nsntNoCF_25 = Int('nsntNoCF_25')
nsntNoCF_26 = Int('nsntNoCF_26')
nsntNoCF_27 = Int('nsntNoCF_27')
s.add(nsntNoCF_19 >= 0)
s.add(nsntNoCF_20 >= 0)
s.add(nsntNoCF_21 >= 0)
s.add(nsntNoCF_22 >= 0)
s.add(nsntNoCF_23 >= 0)
s.add(nsntNoCF_24 >= 0)
s.add(nsntNoCF_25 >= 0)
s.add(nsntNoCF_26 >= 0)
s.add(nsntNoCF_27 >= 0)

nsntYesCF_19 = Int('nsntYesCF_19')
nsntYesCF_20 = Int('nsntYesCF_20')
nsntYesCF_21 = Int('nsntYesCF_21')
nsntYesCF_22 = Int('nsntYesCF_22')
nsntYesCF_23 = Int('nsntYesCF_23')
nsntYesCF_24 = Int('nsntYesCF_24')
nsntYesCF_25 = Int('nsntYesCF_25')
nsntYesCF_26 = Int('nsntYesCF_26')
nsntYesCF_27 = Int('nsntYesCF_27')
s.add(nsntYesCF_19 >= 0)
s.add(nsntYesCF_20 >= 0)
s.add(nsntYesCF_21 >= 0)
s.add(nsntYesCF_22 >= 0)
s.add(nsntYesCF_23 >= 0)
s.add(nsntYesCF_24 >= 0)
s.add(nsntYesCF_25 >= 0)
s.add(nsntYesCF_26 >= 0)
s.add(nsntYesCF_27 >= 0)


#Ensuring that the alternating indices have the same context

s.add((nsntYesCF_18 >= N ) == (nsntYesCF_19 >= N ))
s.add((nsntNoCF_18 < 1 ) == (nsntNoCF_19 < 1 ))
s.add((nsntNoCF_18 >= 1 ) == (nsntNoCF_19 >= 1 ))
s.add((nsntYesCF_20 >= N ) == (nsntYesCF_21 >= N ))
s.add((nsntNoCF_20 < 1 ) == (nsntNoCF_21 < 1 ))
s.add((nsntNoCF_20 >= 1 ) == (nsntNoCF_21 >= 1 ))
s.add((nsntYesCF_22 >= N ) == (nsntYesCF_23 >= N ))
s.add((nsntNoCF_22 < 1 ) == (nsntNoCF_23 < 1 ))
s.add((nsntNoCF_22 >= 1 ) == (nsntNoCF_23 >= 1 ))
s.add((nsntYesCF_24 >= N ) == (nsntYesCF_25 >= N ))
s.add((nsntNoCF_24 < 1 ) == (nsntNoCF_25 < 1 ))
s.add((nsntNoCF_24 >= 1 ) == (nsntNoCF_25 >= 1 ))
s.add((nsntYesCF_26 >= N ) == (nsntYesCF_27 >= N ))
s.add((nsntNoCF_26 < 1 ) == (nsntNoCF_27 < 1 ))
s.add((nsntNoCF_26 >= 1 ) == (nsntNoCF_27 >= 1 ))

#Creating many copies of variables for rules

x0_18 = Int('x0_18')
x0_19 = Int('x0_19')
x0_20 = Int('x0_20')
x0_21 = Int('x0_21')
x0_22 = Int('x0_22')
x0_23 = Int('x0_23')
x0_24 = Int('x0_24')
x0_25 = Int('x0_25')
x0_26 = Int('x0_26')
s.add(x0_18 >= 0)
s.add(x0_19 >= 0)
s.add(x0_20 >= 0)
s.add(x0_21 >= 0)
s.add(x0_22 >= 0)
s.add(x0_23 >= 0)
s.add(x0_24 >= 0)
s.add(x0_25 >= 0)
s.add(x0_26 >= 0)

x1_18 = Int('x1_18')
x1_19 = Int('x1_19')
x1_20 = Int('x1_20')
x1_21 = Int('x1_21')
x1_22 = Int('x1_22')
x1_23 = Int('x1_23')
x1_24 = Int('x1_24')
x1_25 = Int('x1_25')
x1_26 = Int('x1_26')
s.add(x1_18 >= 0)
s.add(x1_19 >= 0)
s.add(x1_20 >= 0)
s.add(x1_21 >= 0)
s.add(x1_22 >= 0)
s.add(x1_23 >= 0)
s.add(x1_24 >= 0)
s.add(x1_25 >= 0)
s.add(x1_26 >= 0)

x2_18 = Int('x2_18')
x2_19 = Int('x2_19')
x2_20 = Int('x2_20')
x2_21 = Int('x2_21')
x2_22 = Int('x2_22')
x2_23 = Int('x2_23')
x2_24 = Int('x2_24')
x2_25 = Int('x2_25')
x2_26 = Int('x2_26')
s.add(x2_18 >= 0)
s.add(x2_19 >= 0)
s.add(x2_20 >= 0)
s.add(x2_21 >= 0)
s.add(x2_22 >= 0)
s.add(x2_23 >= 0)
s.add(x2_24 >= 0)
s.add(x2_25 >= 0)
s.add(x2_26 >= 0)

x3_18 = Int('x3_18')
x3_19 = Int('x3_19')
x3_20 = Int('x3_20')
x3_21 = Int('x3_21')
x3_22 = Int('x3_22')
x3_23 = Int('x3_23')
x3_24 = Int('x3_24')
x3_25 = Int('x3_25')
x3_26 = Int('x3_26')
s.add(x3_18 >= 0)
s.add(x3_19 >= 0)
s.add(x3_20 >= 0)
s.add(x3_21 >= 0)
s.add(x3_22 >= 0)
s.add(x3_23 >= 0)
s.add(x3_24 >= 0)
s.add(x3_25 >= 0)
s.add(x3_26 >= 0)

x4_18 = Int('x4_18')
x4_19 = Int('x4_19')
x4_20 = Int('x4_20')
x4_21 = Int('x4_21')
x4_22 = Int('x4_22')
x4_23 = Int('x4_23')
x4_24 = Int('x4_24')
x4_25 = Int('x4_25')
x4_26 = Int('x4_26')
s.add(x4_18 >= 0)
s.add(x4_19 >= 0)
s.add(x4_20 >= 0)
s.add(x4_21 >= 0)
s.add(x4_22 >= 0)
s.add(x4_23 >= 0)
s.add(x4_24 >= 0)
s.add(x4_25 >= 0)
s.add(x4_26 >= 0)

x5_18 = Int('x5_18')
x5_19 = Int('x5_19')
x5_20 = Int('x5_20')
x5_21 = Int('x5_21')
x5_22 = Int('x5_22')
x5_23 = Int('x5_23')
x5_24 = Int('x5_24')
x5_25 = Int('x5_25')
x5_26 = Int('x5_26')
s.add(x5_18 >= 0)
s.add(x5_19 >= 0)
s.add(x5_20 >= 0)
s.add(x5_21 >= 0)
s.add(x5_22 >= 0)
s.add(x5_23 >= 0)
s.add(x5_24 >= 0)
s.add(x5_25 >= 0)
s.add(x5_26 >= 0)

x6_18 = Int('x6_18')
x6_19 = Int('x6_19')
x6_20 = Int('x6_20')
x6_21 = Int('x6_21')
x6_22 = Int('x6_22')
x6_23 = Int('x6_23')
x6_24 = Int('x6_24')
x6_25 = Int('x6_25')
x6_26 = Int('x6_26')
s.add(x6_18 >= 0)
s.add(x6_19 >= 0)
s.add(x6_20 >= 0)
s.add(x6_21 >= 0)
s.add(x6_22 >= 0)
s.add(x6_23 >= 0)
s.add(x6_24 >= 0)
s.add(x6_25 >= 0)
s.add(x6_26 >= 0)

x7_18 = Int('x7_18')
x7_19 = Int('x7_19')
x7_20 = Int('x7_20')
x7_21 = Int('x7_21')
x7_22 = Int('x7_22')
x7_23 = Int('x7_23')
x7_24 = Int('x7_24')
x7_25 = Int('x7_25')
x7_26 = Int('x7_26')
s.add(x7_18 >= 0)
s.add(x7_19 >= 0)
s.add(x7_20 >= 0)
s.add(x7_21 >= 0)
s.add(x7_22 >= 0)
s.add(x7_23 >= 0)
s.add(x7_24 >= 0)
s.add(x7_25 >= 0)
s.add(x7_26 >= 0)

x8_18 = Int('x8_18')
x8_19 = Int('x8_19')
x8_20 = Int('x8_20')
x8_21 = Int('x8_21')
x8_22 = Int('x8_22')
x8_23 = Int('x8_23')
x8_24 = Int('x8_24')
x8_25 = Int('x8_25')
x8_26 = Int('x8_26')
s.add(x8_18 >= 0)
s.add(x8_19 >= 0)
s.add(x8_20 >= 0)
s.add(x8_21 >= 0)
s.add(x8_22 >= 0)
s.add(x8_23 >= 0)
s.add(x8_24 >= 0)
s.add(x8_25 >= 0)
s.add(x8_26 >= 0)

x9_18 = Int('x9_18')
x9_19 = Int('x9_19')
x9_20 = Int('x9_20')
x9_21 = Int('x9_21')
x9_22 = Int('x9_22')
x9_23 = Int('x9_23')
x9_24 = Int('x9_24')
x9_25 = Int('x9_25')
x9_26 = Int('x9_26')
s.add(x9_18 >= 0)
s.add(x9_19 >= 0)
s.add(x9_20 >= 0)
s.add(x9_21 >= 0)
s.add(x9_22 >= 0)
s.add(x9_23 >= 0)
s.add(x9_24 >= 0)
s.add(x9_25 >= 0)
s.add(x9_26 >= 0)

x10_18 = Int('x10_18')
x10_19 = Int('x10_19')
x10_20 = Int('x10_20')
x10_21 = Int('x10_21')
x10_22 = Int('x10_22')
x10_23 = Int('x10_23')
x10_24 = Int('x10_24')
x10_25 = Int('x10_25')
x10_26 = Int('x10_26')
s.add(x10_18 >= 0)
s.add(x10_19 >= 0)
s.add(x10_20 >= 0)
s.add(x10_21 >= 0)
s.add(x10_22 >= 0)
s.add(x10_23 >= 0)
s.add(x10_24 >= 0)
s.add(x10_25 >= 0)
s.add(x10_26 >= 0)

x11_18 = Int('x11_18')
x11_19 = Int('x11_19')
x11_20 = Int('x11_20')
x11_21 = Int('x11_21')
x11_22 = Int('x11_22')
x11_23 = Int('x11_23')
x11_24 = Int('x11_24')
x11_25 = Int('x11_25')
x11_26 = Int('x11_26')
s.add(x11_18 >= 0)
s.add(x11_19 >= 0)
s.add(x11_20 >= 0)
s.add(x11_21 >= 0)
s.add(x11_22 >= 0)
s.add(x11_23 >= 0)
s.add(x11_24 >= 0)
s.add(x11_25 >= 0)
s.add(x11_26 >= 0)

x12_18 = Int('x12_18')
x12_19 = Int('x12_19')
x12_20 = Int('x12_20')
x12_21 = Int('x12_21')
x12_22 = Int('x12_22')
x12_23 = Int('x12_23')
x12_24 = Int('x12_24')
x12_25 = Int('x12_25')
x12_26 = Int('x12_26')
s.add(x12_18 >= 0)
s.add(x12_19 >= 0)
s.add(x12_20 >= 0)
s.add(x12_21 >= 0)
s.add(x12_22 >= 0)
s.add(x12_23 >= 0)
s.add(x12_24 >= 0)
s.add(x12_25 >= 0)
s.add(x12_26 >= 0)

x13_18 = Int('x13_18')
x13_19 = Int('x13_19')
x13_20 = Int('x13_20')
x13_21 = Int('x13_21')
x13_22 = Int('x13_22')
x13_23 = Int('x13_23')
x13_24 = Int('x13_24')
x13_25 = Int('x13_25')
x13_26 = Int('x13_26')
s.add(x13_18 >= 0)
s.add(x13_19 >= 0)
s.add(x13_20 >= 0)
s.add(x13_21 >= 0)
s.add(x13_22 >= 0)
s.add(x13_23 >= 0)
s.add(x13_24 >= 0)
s.add(x13_25 >= 0)
s.add(x13_26 >= 0)

x14_18 = Int('x14_18')
x14_19 = Int('x14_19')
x14_20 = Int('x14_20')
x14_21 = Int('x14_21')
x14_22 = Int('x14_22')
x14_23 = Int('x14_23')
x14_24 = Int('x14_24')
x14_25 = Int('x14_25')
x14_26 = Int('x14_26')
s.add(x14_18 >= 0)
s.add(x14_19 >= 0)
s.add(x14_20 >= 0)
s.add(x14_21 >= 0)
s.add(x14_22 >= 0)
s.add(x14_23 >= 0)
s.add(x14_24 >= 0)
s.add(x14_25 >= 0)
s.add(x14_26 >= 0)

x15_18 = Int('x15_18')
x15_19 = Int('x15_19')
x15_20 = Int('x15_20')
x15_21 = Int('x15_21')
x15_22 = Int('x15_22')
x15_23 = Int('x15_23')
x15_24 = Int('x15_24')
x15_25 = Int('x15_25')
x15_26 = Int('x15_26')
s.add(x15_18 >= 0)
s.add(x15_19 >= 0)
s.add(x15_20 >= 0)
s.add(x15_21 >= 0)
s.add(x15_22 >= 0)
s.add(x15_23 >= 0)
s.add(x15_24 >= 0)
s.add(x15_25 >= 0)
s.add(x15_26 >= 0)


#Ensuring that at most one rule is fired between alternating configurations

s.add(Or((x0_19 == 0), (x0_19 == 1)))
s.add(Or((x1_19 == 0), (x1_19 == 1)))
s.add(Or((x2_19 == 0), (x2_19 == 1)))
s.add(Or((x3_19 == 0), (x3_19 == 1)))
s.add(Or((x4_19 == 0), (x4_19 == 1)))
s.add(Or((x5_19 == 0), (x5_19 == 1)))
s.add(Or((x6_19 == 0), (x6_19 == 1)))
s.add(Or((x7_19 == 0), (x7_19 == 1)))
s.add(Or((x8_19 == 0), (x8_19 == 1)))
s.add(Or((x9_19 == 0), (x9_19 == 1)))
s.add(Or((x10_19 == 0), (x10_19 == 1)))
s.add(Or((x11_19 == 0), (x11_19 == 1)))
s.add(Or((x12_19 == 0), (x12_19 == 1)))
s.add(Or((x13_19 == 0), (x13_19 == 1)))
s.add(Or((x14_19 == 0), (x14_19 == 1)))
s.add(Or((x15_19 == 0), (x15_19 == 1)))
s.add(x0_19 + x1_19 + x2_19 + x3_19 + x4_19 + x5_19 + x6_19 + x7_19 + x8_19 + x9_19 + x10_19 + x11_19 + x12_19 + x13_19 + x14_19 + x15_19 <= 1)

s.add(Or((x0_21 == 0), (x0_21 == 1)))
s.add(Or((x1_21 == 0), (x1_21 == 1)))
s.add(Or((x2_21 == 0), (x2_21 == 1)))
s.add(Or((x3_21 == 0), (x3_21 == 1)))
s.add(Or((x4_21 == 0), (x4_21 == 1)))
s.add(Or((x5_21 == 0), (x5_21 == 1)))
s.add(Or((x6_21 == 0), (x6_21 == 1)))
s.add(Or((x7_21 == 0), (x7_21 == 1)))
s.add(Or((x8_21 == 0), (x8_21 == 1)))
s.add(Or((x9_21 == 0), (x9_21 == 1)))
s.add(Or((x10_21 == 0), (x10_21 == 1)))
s.add(Or((x11_21 == 0), (x11_21 == 1)))
s.add(Or((x12_21 == 0), (x12_21 == 1)))
s.add(Or((x13_21 == 0), (x13_21 == 1)))
s.add(Or((x14_21 == 0), (x14_21 == 1)))
s.add(Or((x15_21 == 0), (x15_21 == 1)))
s.add(x0_21 + x1_21 + x2_21 + x3_21 + x4_21 + x5_21 + x6_21 + x7_21 + x8_21 + x9_21 + x10_21 + x11_21 + x12_21 + x13_21 + x14_21 + x15_21 <= 1)

s.add(Or((x0_23 == 0), (x0_23 == 1)))
s.add(Or((x1_23 == 0), (x1_23 == 1)))
s.add(Or((x2_23 == 0), (x2_23 == 1)))
s.add(Or((x3_23 == 0), (x3_23 == 1)))
s.add(Or((x4_23 == 0), (x4_23 == 1)))
s.add(Or((x5_23 == 0), (x5_23 == 1)))
s.add(Or((x6_23 == 0), (x6_23 == 1)))
s.add(Or((x7_23 == 0), (x7_23 == 1)))
s.add(Or((x8_23 == 0), (x8_23 == 1)))
s.add(Or((x9_23 == 0), (x9_23 == 1)))
s.add(Or((x10_23 == 0), (x10_23 == 1)))
s.add(Or((x11_23 == 0), (x11_23 == 1)))
s.add(Or((x12_23 == 0), (x12_23 == 1)))
s.add(Or((x13_23 == 0), (x13_23 == 1)))
s.add(Or((x14_23 == 0), (x14_23 == 1)))
s.add(Or((x15_23 == 0), (x15_23 == 1)))
s.add(x0_23 + x1_23 + x2_23 + x3_23 + x4_23 + x5_23 + x6_23 + x7_23 + x8_23 + x9_23 + x10_23 + x11_23 + x12_23 + x13_23 + x14_23 + x15_23 <= 1)

s.add(Or((x0_25 == 0), (x0_25 == 1)))
s.add(Or((x1_25 == 0), (x1_25 == 1)))
s.add(Or((x2_25 == 0), (x2_25 == 1)))
s.add(Or((x3_25 == 0), (x3_25 == 1)))
s.add(Or((x4_25 == 0), (x4_25 == 1)))
s.add(Or((x5_25 == 0), (x5_25 == 1)))
s.add(Or((x6_25 == 0), (x6_25 == 1)))
s.add(Or((x7_25 == 0), (x7_25 == 1)))
s.add(Or((x8_25 == 0), (x8_25 == 1)))
s.add(Or((x9_25 == 0), (x9_25 == 1)))
s.add(Or((x10_25 == 0), (x10_25 == 1)))
s.add(Or((x11_25 == 0), (x11_25 == 1)))
s.add(Or((x12_25 == 0), (x12_25 == 1)))
s.add(Or((x13_25 == 0), (x13_25 == 1)))
s.add(Or((x14_25 == 0), (x14_25 == 1)))
s.add(Or((x15_25 == 0), (x15_25 == 1)))
s.add(x0_25 + x1_25 + x2_25 + x3_25 + x4_25 + x5_25 + x6_25 + x7_25 + x8_25 + x9_25 + x10_25 + x11_25 + x12_25 + x13_25 + x14_25 + x15_25 <= 1)


###################Step 2####################


#Flow equations for the locations

s.add( - x0_18 - x6_18 ==  locNO_19 - locNO_18)
s.add( - x1_18 - x7_18 ==  locYES_19 - locYES_18)
s.add( + x0_18 + x1_18 - x2_18 - x3_18 - x5_18 - x8_18 - x12_18 + x12_18 ==  locSE_19 - locSE_18)
s.add( + x2_18 - x4_18 - x9_18 - x13_18 + x13_18 ==  locFDSE_19 - locFDSE_18)
s.add( + x5_18 - x10_18 - x14_18 + x14_18 ==  locCMT_19 - locCMT_18)
s.add( + x3_18 + x4_18 - x11_18 - x15_18 + x15_18 ==  locABR_19 - locABR_18)
s.add( + x6_18 + x7_18 + x8_18 + x9_18 + x10_18 + x11_18 ==  locCR_19 - locCR_18)
s.add( - x0_19 - x6_19 ==  locNO_20 - locNO_19)
s.add( - x1_19 - x7_19 ==  locYES_20 - locYES_19)
s.add( + x0_19 + x1_19 - x2_19 - x3_19 - x5_19 - x8_19 - x12_19 + x12_19 ==  locSE_20 - locSE_19)
s.add( + x2_19 - x4_19 - x9_19 - x13_19 + x13_19 ==  locFDSE_20 - locFDSE_19)
s.add( + x5_19 - x10_19 - x14_19 + x14_19 ==  locCMT_20 - locCMT_19)
s.add( + x3_19 + x4_19 - x11_19 - x15_19 + x15_19 ==  locABR_20 - locABR_19)
s.add( + x6_19 + x7_19 + x8_19 + x9_19 + x10_19 + x11_19 ==  locCR_20 - locCR_19)
s.add( - x0_20 - x6_20 ==  locNO_21 - locNO_20)
s.add( - x1_20 - x7_20 ==  locYES_21 - locYES_20)
s.add( + x0_20 + x1_20 - x2_20 - x3_20 - x5_20 - x8_20 - x12_20 + x12_20 ==  locSE_21 - locSE_20)
s.add( + x2_20 - x4_20 - x9_20 - x13_20 + x13_20 ==  locFDSE_21 - locFDSE_20)
s.add( + x5_20 - x10_20 - x14_20 + x14_20 ==  locCMT_21 - locCMT_20)
s.add( + x3_20 + x4_20 - x11_20 - x15_20 + x15_20 ==  locABR_21 - locABR_20)
s.add( + x6_20 + x7_20 + x8_20 + x9_20 + x10_20 + x11_20 ==  locCR_21 - locCR_20)
s.add( - x0_21 - x6_21 ==  locNO_22 - locNO_21)
s.add( - x1_21 - x7_21 ==  locYES_22 - locYES_21)
s.add( + x0_21 + x1_21 - x2_21 - x3_21 - x5_21 - x8_21 - x12_21 + x12_21 ==  locSE_22 - locSE_21)
s.add( + x2_21 - x4_21 - x9_21 - x13_21 + x13_21 ==  locFDSE_22 - locFDSE_21)
s.add( + x5_21 - x10_21 - x14_21 + x14_21 ==  locCMT_22 - locCMT_21)
s.add( + x3_21 + x4_21 - x11_21 - x15_21 + x15_21 ==  locABR_22 - locABR_21)
s.add( + x6_21 + x7_21 + x8_21 + x9_21 + x10_21 + x11_21 ==  locCR_22 - locCR_21)
s.add( - x0_22 - x6_22 ==  locNO_23 - locNO_22)
s.add( - x1_22 - x7_22 ==  locYES_23 - locYES_22)
s.add( + x0_22 + x1_22 - x2_22 - x3_22 - x5_22 - x8_22 - x12_22 + x12_22 ==  locSE_23 - locSE_22)
s.add( + x2_22 - x4_22 - x9_22 - x13_22 + x13_22 ==  locFDSE_23 - locFDSE_22)
s.add( + x5_22 - x10_22 - x14_22 + x14_22 ==  locCMT_23 - locCMT_22)
s.add( + x3_22 + x4_22 - x11_22 - x15_22 + x15_22 ==  locABR_23 - locABR_22)
s.add( + x6_22 + x7_22 + x8_22 + x9_22 + x10_22 + x11_22 ==  locCR_23 - locCR_22)
s.add( - x0_23 - x6_23 ==  locNO_24 - locNO_23)
s.add( - x1_23 - x7_23 ==  locYES_24 - locYES_23)
s.add( + x0_23 + x1_23 - x2_23 - x3_23 - x5_23 - x8_23 - x12_23 + x12_23 ==  locSE_24 - locSE_23)
s.add( + x2_23 - x4_23 - x9_23 - x13_23 + x13_23 ==  locFDSE_24 - locFDSE_23)
s.add( + x5_23 - x10_23 - x14_23 + x14_23 ==  locCMT_24 - locCMT_23)
s.add( + x3_23 + x4_23 - x11_23 - x15_23 + x15_23 ==  locABR_24 - locABR_23)
s.add( + x6_23 + x7_23 + x8_23 + x9_23 + x10_23 + x11_23 ==  locCR_24 - locCR_23)
s.add( - x0_24 - x6_24 ==  locNO_25 - locNO_24)
s.add( - x1_24 - x7_24 ==  locYES_25 - locYES_24)
s.add( + x0_24 + x1_24 - x2_24 - x3_24 - x5_24 - x8_24 - x12_24 + x12_24 ==  locSE_25 - locSE_24)
s.add( + x2_24 - x4_24 - x9_24 - x13_24 + x13_24 ==  locFDSE_25 - locFDSE_24)
s.add( + x5_24 - x10_24 - x14_24 + x14_24 ==  locCMT_25 - locCMT_24)
s.add( + x3_24 + x4_24 - x11_24 - x15_24 + x15_24 ==  locABR_25 - locABR_24)
s.add( + x6_24 + x7_24 + x8_24 + x9_24 + x10_24 + x11_24 ==  locCR_25 - locCR_24)
s.add( - x0_25 - x6_25 ==  locNO_26 - locNO_25)
s.add( - x1_25 - x7_25 ==  locYES_26 - locYES_25)
s.add( + x0_25 + x1_25 - x2_25 - x3_25 - x5_25 - x8_25 - x12_25 + x12_25 ==  locSE_26 - locSE_25)
s.add( + x2_25 - x4_25 - x9_25 - x13_25 + x13_25 ==  locFDSE_26 - locFDSE_25)
s.add( + x5_25 - x10_25 - x14_25 + x14_25 ==  locCMT_26 - locCMT_25)
s.add( + x3_25 + x4_25 - x11_25 - x15_25 + x15_25 ==  locABR_26 - locABR_25)
s.add( + x6_25 + x7_25 + x8_25 + x9_25 + x10_25 + x11_25 ==  locCR_26 - locCR_25)
s.add( - x0_26 - x6_26 ==  locNO_27 - locNO_26)
s.add( - x1_26 - x7_26 ==  locYES_27 - locYES_26)
s.add( + x0_26 + x1_26 - x2_26 - x3_26 - x5_26 - x8_26 - x12_26 + x12_26 ==  locSE_27 - locSE_26)
s.add( + x2_26 - x4_26 - x9_26 - x13_26 + x13_26 ==  locFDSE_27 - locFDSE_26)
s.add( + x5_26 - x10_26 - x14_26 + x14_26 ==  locCMT_27 - locCMT_26)
s.add( + x3_26 + x4_26 - x11_26 - x15_26 + x15_26 ==  locABR_27 - locABR_26)
s.add( + x6_26 + x7_26 + x8_26 + x9_26 + x10_26 + x11_26 ==  locCR_27 - locCR_26)

##################Step 3########################


#Flow equations for the shared variables

s.add(0 + x0_18 * 1 == nsntNoCF_19 - nsntNoCF_18)
s.add(0 + x1_18 * 1 == nsntYesCF_19 - nsntYesCF_18)
s.add(0 + x0_19 * 1 == nsntNoCF_20 - nsntNoCF_19)
s.add(0 + x1_19 * 1 == nsntYesCF_20 - nsntYesCF_19)
s.add(0 + x0_20 * 1 == nsntNoCF_21 - nsntNoCF_20)
s.add(0 + x1_20 * 1 == nsntYesCF_21 - nsntYesCF_20)
s.add(0 + x0_21 * 1 == nsntNoCF_22 - nsntNoCF_21)
s.add(0 + x1_21 * 1 == nsntYesCF_22 - nsntYesCF_21)
s.add(0 + x0_22 * 1 == nsntNoCF_23 - nsntNoCF_22)
s.add(0 + x1_22 * 1 == nsntYesCF_23 - nsntYesCF_22)
s.add(0 + x0_23 * 1 == nsntNoCF_24 - nsntNoCF_23)
s.add(0 + x1_23 * 1 == nsntYesCF_24 - nsntYesCF_23)
s.add(0 + x0_24 * 1 == nsntNoCF_25 - nsntNoCF_24)
s.add(0 + x1_24 * 1 == nsntYesCF_25 - nsntYesCF_24)
s.add(0 + x0_25 * 1 == nsntNoCF_26 - nsntNoCF_25)
s.add(0 + x1_25 * 1 == nsntYesCF_26 - nsntYesCF_25)
s.add(0 + x0_26 * 1 == nsntNoCF_27 - nsntNoCF_26)
s.add(0 + x1_26 * 1 == nsntYesCF_27 - nsntYesCF_26)

####################Step 4########################


#Rule is fired implies rule is enabled

s.add(Implies( (x0_18 > 0), ((True) ) ))
s.add(Implies( (x0_19 > 0), ((True) ) ))
s.add(Implies( (x0_20 > 0), ((True) ) ))
s.add(Implies( (x0_21 > 0), ((True) ) ))
s.add(Implies( (x0_22 > 0), ((True) ) ))
s.add(Implies( (x0_23 > 0), ((True) ) ))
s.add(Implies( (x0_24 > 0), ((True) ) ))
s.add(Implies( (x0_25 > 0), ((True) ) ))
s.add(Implies( (x0_26 > 0), ((True) ) ))
s.add(Implies( (x1_18 > 0), ((True) ) ))
s.add(Implies( (x1_19 > 0), ((True) ) ))
s.add(Implies( (x1_20 > 0), ((True) ) ))
s.add(Implies( (x1_21 > 0), ((True) ) ))
s.add(Implies( (x1_22 > 0), ((True) ) ))
s.add(Implies( (x1_23 > 0), ((True) ) ))
s.add(Implies( (x1_24 > 0), ((True) ) ))
s.add(Implies( (x1_25 > 0), ((True) ) ))
s.add(Implies( (x1_26 > 0), ((True) ) ))
s.add(Implies( (x2_18 > 0), ((True) ) ))
s.add(Implies( (x2_19 > 0), ((True) ) ))
s.add(Implies( (x2_20 > 0), ((True) ) ))
s.add(Implies( (x2_21 > 0), ((True) ) ))
s.add(Implies( (x2_22 > 0), ((True) ) ))
s.add(Implies( (x2_23 > 0), ((True) ) ))
s.add(Implies( (x2_24 > 0), ((True) ) ))
s.add(Implies( (x2_25 > 0), ((True) ) ))
s.add(Implies( (x2_26 > 0), ((True) ) ))
s.add(Implies( (x3_18 > 0), ((nsntNoCF_18 >= 1) ) ))
s.add(Implies( (x3_19 > 0), ((nsntNoCF_19 >= 1) ) ))
s.add(Implies( (x3_20 > 0), ((nsntNoCF_20 >= 1) ) ))
s.add(Implies( (x3_21 > 0), ((nsntNoCF_21 >= 1) ) ))
s.add(Implies( (x3_22 > 0), ((nsntNoCF_22 >= 1) ) ))
s.add(Implies( (x3_23 > 0), ((nsntNoCF_23 >= 1) ) ))
s.add(Implies( (x3_24 > 0), ((nsntNoCF_24 >= 1) ) ))
s.add(Implies( (x3_25 > 0), ((nsntNoCF_25 >= 1) ) ))
s.add(Implies( (x3_26 > 0), ((nsntNoCF_26 >= 1) ) ))
s.add(Implies( (x4_18 > 0), ((True) ) ))
s.add(Implies( (x4_19 > 0), ((True) ) ))
s.add(Implies( (x4_20 > 0), ((True) ) ))
s.add(Implies( (x4_21 > 0), ((True) ) ))
s.add(Implies( (x4_22 > 0), ((True) ) ))
s.add(Implies( (x4_23 > 0), ((True) ) ))
s.add(Implies( (x4_24 > 0), ((True) ) ))
s.add(Implies( (x4_25 > 0), ((True) ) ))
s.add(Implies( (x4_26 > 0), ((True) ) ))
s.add(Implies( (x5_18 > 0), (And(nsntNoCF_18 < 1 , nsntYesCF_18 >= N) ) ))
s.add(Implies( (x5_19 > 0), (And(nsntNoCF_19 < 1 , nsntYesCF_19 >= N) ) ))
s.add(Implies( (x5_20 > 0), (And(nsntNoCF_20 < 1 , nsntYesCF_20 >= N) ) ))
s.add(Implies( (x5_21 > 0), (And(nsntNoCF_21 < 1 , nsntYesCF_21 >= N) ) ))
s.add(Implies( (x5_22 > 0), (And(nsntNoCF_22 < 1 , nsntYesCF_22 >= N) ) ))
s.add(Implies( (x5_23 > 0), (And(nsntNoCF_23 < 1 , nsntYesCF_23 >= N) ) ))
s.add(Implies( (x5_24 > 0), (And(nsntNoCF_24 < 1 , nsntYesCF_24 >= N) ) ))
s.add(Implies( (x5_25 > 0), (And(nsntNoCF_25 < 1 , nsntYesCF_25 >= N) ) ))
s.add(Implies( (x5_26 > 0), (And(nsntNoCF_26 < 1 , nsntYesCF_26 >= N) ) ))
s.add(Implies( (x6_18 > 0), ((True) ) ))
s.add(Implies( (x6_19 > 0), ((True) ) ))
s.add(Implies( (x6_20 > 0), ((True) ) ))
s.add(Implies( (x6_21 > 0), ((True) ) ))
s.add(Implies( (x6_22 > 0), ((True) ) ))
s.add(Implies( (x6_23 > 0), ((True) ) ))
s.add(Implies( (x6_24 > 0), ((True) ) ))
s.add(Implies( (x6_25 > 0), ((True) ) ))
s.add(Implies( (x6_26 > 0), ((True) ) ))
s.add(Implies( (x7_18 > 0), ((True) ) ))
s.add(Implies( (x7_19 > 0), ((True) ) ))
s.add(Implies( (x7_20 > 0), ((True) ) ))
s.add(Implies( (x7_21 > 0), ((True) ) ))
s.add(Implies( (x7_22 > 0), ((True) ) ))
s.add(Implies( (x7_23 > 0), ((True) ) ))
s.add(Implies( (x7_24 > 0), ((True) ) ))
s.add(Implies( (x7_25 > 0), ((True) ) ))
s.add(Implies( (x7_26 > 0), ((True) ) ))
s.add(Implies( (x8_18 > 0), ((True) ) ))
s.add(Implies( (x8_19 > 0), ((True) ) ))
s.add(Implies( (x8_20 > 0), ((True) ) ))
s.add(Implies( (x8_21 > 0), ((True) ) ))
s.add(Implies( (x8_22 > 0), ((True) ) ))
s.add(Implies( (x8_23 > 0), ((True) ) ))
s.add(Implies( (x8_24 > 0), ((True) ) ))
s.add(Implies( (x8_25 > 0), ((True) ) ))
s.add(Implies( (x8_26 > 0), ((True) ) ))
s.add(Implies( (x9_18 > 0), ((True) ) ))
s.add(Implies( (x9_19 > 0), ((True) ) ))
s.add(Implies( (x9_20 > 0), ((True) ) ))
s.add(Implies( (x9_21 > 0), ((True) ) ))
s.add(Implies( (x9_22 > 0), ((True) ) ))
s.add(Implies( (x9_23 > 0), ((True) ) ))
s.add(Implies( (x9_24 > 0), ((True) ) ))
s.add(Implies( (x9_25 > 0), ((True) ) ))
s.add(Implies( (x9_26 > 0), ((True) ) ))
s.add(Implies( (x10_18 > 0), ((True) ) ))
s.add(Implies( (x10_19 > 0), ((True) ) ))
s.add(Implies( (x10_20 > 0), ((True) ) ))
s.add(Implies( (x10_21 > 0), ((True) ) ))
s.add(Implies( (x10_22 > 0), ((True) ) ))
s.add(Implies( (x10_23 > 0), ((True) ) ))
s.add(Implies( (x10_24 > 0), ((True) ) ))
s.add(Implies( (x10_25 > 0), ((True) ) ))
s.add(Implies( (x10_26 > 0), ((True) ) ))
s.add(Implies( (x11_18 > 0), ((True) ) ))
s.add(Implies( (x11_19 > 0), ((True) ) ))
s.add(Implies( (x11_20 > 0), ((True) ) ))
s.add(Implies( (x11_21 > 0), ((True) ) ))
s.add(Implies( (x11_22 > 0), ((True) ) ))
s.add(Implies( (x11_23 > 0), ((True) ) ))
s.add(Implies( (x11_24 > 0), ((True) ) ))
s.add(Implies( (x11_25 > 0), ((True) ) ))
s.add(Implies( (x11_26 > 0), ((True) ) ))
s.add(Implies( (x12_18 > 0), ((True) ) ))
s.add(Implies( (x12_19 > 0), ((True) ) ))
s.add(Implies( (x12_20 > 0), ((True) ) ))
s.add(Implies( (x12_21 > 0), ((True) ) ))
s.add(Implies( (x12_22 > 0), ((True) ) ))
s.add(Implies( (x12_23 > 0), ((True) ) ))
s.add(Implies( (x12_24 > 0), ((True) ) ))
s.add(Implies( (x12_25 > 0), ((True) ) ))
s.add(Implies( (x12_26 > 0), ((True) ) ))
s.add(Implies( (x13_18 > 0), ((True) ) ))
s.add(Implies( (x13_19 > 0), ((True) ) ))
s.add(Implies( (x13_20 > 0), ((True) ) ))
s.add(Implies( (x13_21 > 0), ((True) ) ))
s.add(Implies( (x13_22 > 0), ((True) ) ))
s.add(Implies( (x13_23 > 0), ((True) ) ))
s.add(Implies( (x13_24 > 0), ((True) ) ))
s.add(Implies( (x13_25 > 0), ((True) ) ))
s.add(Implies( (x13_26 > 0), ((True) ) ))
s.add(Implies( (x14_18 > 0), ((True) ) ))
s.add(Implies( (x14_19 > 0), ((True) ) ))
s.add(Implies( (x14_20 > 0), ((True) ) ))
s.add(Implies( (x14_21 > 0), ((True) ) ))
s.add(Implies( (x14_22 > 0), ((True) ) ))
s.add(Implies( (x14_23 > 0), ((True) ) ))
s.add(Implies( (x14_24 > 0), ((True) ) ))
s.add(Implies( (x14_25 > 0), ((True) ) ))
s.add(Implies( (x14_26 > 0), ((True) ) ))
s.add(Implies( (x15_18 > 0), ((True) ) ))
s.add(Implies( (x15_19 > 0), ((True) ) ))
s.add(Implies( (x15_20 > 0), ((True) ) ))
s.add(Implies( (x15_21 > 0), ((True) ) ))
s.add(Implies( (x15_22 > 0), ((True) ) ))
s.add(Implies( (x15_23 > 0), ((True) ) ))
s.add(Implies( (x15_24 > 0), ((True) ) ))
s.add(Implies( (x15_25 > 0), ((True) ) ))
s.add(Implies( (x15_26 > 0), ((True) ) ))

######################Step 5#####################


#Constraints that the 2th configuration has to satisfy

s.add(True )

#####################Step 6########################


#Constraints that the path between the 2th and 3th configuration has to satisfy

s.add(And(And(locCR_18 == 0, x6_18 == 0, x7_18 == 0, x8_18 == 0, x9_18 == 0, x10_18 == 0, x11_18 == 0, ), Or(locNO_18 != 0, locYES_18 != 0, locSE_18 != 0, locFDSE_18 != 0)) )
s.add(And(And(locCR_19 == 0, x6_19 == 0, x7_19 == 0, x8_19 == 0, x9_19 == 0, x10_19 == 0, x11_19 == 0, ), Or(locNO_19 != 0, locYES_19 != 0, locSE_19 != 0, locFDSE_19 != 0)) )
s.add(And(And(locCR_20 == 0, x6_20 == 0, x7_20 == 0, x8_20 == 0, x9_20 == 0, x10_20 == 0, x11_20 == 0, ), Or(locNO_20 != 0, locYES_20 != 0, locSE_20 != 0, locFDSE_20 != 0)) )
s.add(And(And(locCR_21 == 0, x6_21 == 0, x7_21 == 0, x8_21 == 0, x9_21 == 0, x10_21 == 0, x11_21 == 0, ), Or(locNO_21 != 0, locYES_21 != 0, locSE_21 != 0, locFDSE_21 != 0)) )
s.add(And(And(locCR_22 == 0, x6_22 == 0, x7_22 == 0, x8_22 == 0, x9_22 == 0, x10_22 == 0, x11_22 == 0, ), Or(locNO_22 != 0, locYES_22 != 0, locSE_22 != 0, locFDSE_22 != 0)) )
s.add(And(And(locCR_23 == 0, x6_23 == 0, x7_23 == 0, x8_23 == 0, x9_23 == 0, x10_23 == 0, x11_23 == 0, ), Or(locNO_23 != 0, locYES_23 != 0, locSE_23 != 0, locFDSE_23 != 0)) )
s.add(And(And(locCR_24 == 0, x6_24 == 0, x7_24 == 0, x8_24 == 0, x9_24 == 0, x10_24 == 0, x11_24 == 0, ), Or(locNO_24 != 0, locYES_24 != 0, locSE_24 != 0, locFDSE_24 != 0)) )
s.add(And(And(locCR_25 == 0, x6_25 == 0, x7_25 == 0, x8_25 == 0, x9_25 == 0, x10_25 == 0, x11_25 == 0, ), Or(locNO_25 != 0, locYES_25 != 0, locSE_25 != 0, locFDSE_25 != 0)) )
s.add(And(And(locCR_26 == 0, x6_26 == 0, x7_26 == 0, x8_26 == 0, x9_26 == 0, x10_26 == 0, x11_26 == 0, ), Or(locNO_26 != 0, locYES_26 != 0, locSE_26 != 0, locFDSE_26 != 0)) )
s.add(And(locCR_27 == 0, Or(locNO_27 != 0, locYES_27 != 0, locSE_27 != 0, locFDSE_27 != 0)) )
s.add(And(And(locNO_18 == 0, ), And(locYES_18 == 0, ), And(locFDSE_18 == 0, x2_18 == 0, x13_18 == 0, ), Or(nsntNoCF_18 < 1, And(locSE_18 == 0, x0_18 == 0, x1_18 == 0, x12_18 == 0, )), Or(nsntYesCF_18 < N, nsntNoCF_18 >= 1, And(locSE_18 == 0, x0_18 == 0, x1_18 == 0, x12_18 == 0, ))) )
s.add(And(And(locNO_19 == 0, ), And(locYES_19 == 0, ), And(locFDSE_19 == 0, x2_19 == 0, x13_19 == 0, ), Or(nsntNoCF_19 < 1, And(locSE_19 == 0, x0_19 == 0, x1_19 == 0, x12_19 == 0, )), Or(nsntYesCF_19 < N, nsntNoCF_19 >= 1, And(locSE_19 == 0, x0_19 == 0, x1_19 == 0, x12_19 == 0, ))) )
s.add(And(And(locNO_20 == 0, ), And(locYES_20 == 0, ), And(locFDSE_20 == 0, x2_20 == 0, x13_20 == 0, ), Or(nsntNoCF_20 < 1, And(locSE_20 == 0, x0_20 == 0, x1_20 == 0, x12_20 == 0, )), Or(nsntYesCF_20 < N, nsntNoCF_20 >= 1, And(locSE_20 == 0, x0_20 == 0, x1_20 == 0, x12_20 == 0, ))) )
s.add(And(And(locNO_21 == 0, ), And(locYES_21 == 0, ), And(locFDSE_21 == 0, x2_21 == 0, x13_21 == 0, ), Or(nsntNoCF_21 < 1, And(locSE_21 == 0, x0_21 == 0, x1_21 == 0, x12_21 == 0, )), Or(nsntYesCF_21 < N, nsntNoCF_21 >= 1, And(locSE_21 == 0, x0_21 == 0, x1_21 == 0, x12_21 == 0, ))) )
s.add(And(And(locNO_22 == 0, ), And(locYES_22 == 0, ), And(locFDSE_22 == 0, x2_22 == 0, x13_22 == 0, ), Or(nsntNoCF_22 < 1, And(locSE_22 == 0, x0_22 == 0, x1_22 == 0, x12_22 == 0, )), Or(nsntYesCF_22 < N, nsntNoCF_22 >= 1, And(locSE_22 == 0, x0_22 == 0, x1_22 == 0, x12_22 == 0, ))) )
s.add(And(And(locNO_23 == 0, ), And(locYES_23 == 0, ), And(locFDSE_23 == 0, x2_23 == 0, x13_23 == 0, ), Or(nsntNoCF_23 < 1, And(locSE_23 == 0, x0_23 == 0, x1_23 == 0, x12_23 == 0, )), Or(nsntYesCF_23 < N, nsntNoCF_23 >= 1, And(locSE_23 == 0, x0_23 == 0, x1_23 == 0, x12_23 == 0, ))) )
s.add(And(And(locNO_24 == 0, ), And(locYES_24 == 0, ), And(locFDSE_24 == 0, x2_24 == 0, x13_24 == 0, ), Or(nsntNoCF_24 < 1, And(locSE_24 == 0, x0_24 == 0, x1_24 == 0, x12_24 == 0, )), Or(nsntYesCF_24 < N, nsntNoCF_24 >= 1, And(locSE_24 == 0, x0_24 == 0, x1_24 == 0, x12_24 == 0, ))) )
s.add(And(And(locNO_25 == 0, ), And(locYES_25 == 0, ), And(locFDSE_25 == 0, x2_25 == 0, x13_25 == 0, ), Or(nsntNoCF_25 < 1, And(locSE_25 == 0, x0_25 == 0, x1_25 == 0, x12_25 == 0, )), Or(nsntYesCF_25 < N, nsntNoCF_25 >= 1, And(locSE_25 == 0, x0_25 == 0, x1_25 == 0, x12_25 == 0, ))) )
s.add(And(And(locNO_26 == 0, ), And(locYES_26 == 0, ), And(locFDSE_26 == 0, x2_26 == 0, x13_26 == 0, ), Or(nsntNoCF_26 < 1, And(locSE_26 == 0, x0_26 == 0, x1_26 == 0, x12_26 == 0, )), Or(nsntYesCF_26 < N, nsntNoCF_26 >= 1, And(locSE_26 == 0, x0_26 == 0, x1_26 == 0, x12_26 == 0, ))) )
s.add(And(locNO_27 == 0, locYES_27 == 0, locFDSE_27 == 0, Or(nsntNoCF_27 < 1, locSE_27 == 0), Or(nsntYesCF_27 < N, nsntNoCF_27 >= 1, locSE_27 == 0)) )
s.add(True )
s.add(True )
s.add(True )
s.add(True )
s.add(True )
s.add(True )
s.add(True )
s.add(True )
s.add(True )
s.add(True )
s.add(True )
s.add(True )
s.add(True )
s.add(True )
s.add(True )
s.add(True )
s.add(True )
s.add(True )
s.add(True )
s.add(True )

#####################Step 7#########################


#In the cycle part, we only allow the edges in a cycle to be fired

s.add(x0_18 == 0)
s.add(x0_19 == 0)
s.add(x0_20 == 0)
s.add(x0_21 == 0)
s.add(x0_22 == 0)
s.add(x0_23 == 0)
s.add(x0_24 == 0)
s.add(x0_25 == 0)
s.add(x0_26 == 0)

s.add(x1_18 == 0)
s.add(x1_19 == 0)
s.add(x1_20 == 0)
s.add(x1_21 == 0)
s.add(x1_22 == 0)
s.add(x1_23 == 0)
s.add(x1_24 == 0)
s.add(x1_25 == 0)
s.add(x1_26 == 0)

s.add(x2_18 == 0)
s.add(x2_19 == 0)
s.add(x2_20 == 0)
s.add(x2_21 == 0)
s.add(x2_22 == 0)
s.add(x2_23 == 0)
s.add(x2_24 == 0)
s.add(x2_25 == 0)
s.add(x2_26 == 0)

s.add(x3_18 == 0)
s.add(x3_19 == 0)
s.add(x3_20 == 0)
s.add(x3_21 == 0)
s.add(x3_22 == 0)
s.add(x3_23 == 0)
s.add(x3_24 == 0)
s.add(x3_25 == 0)
s.add(x3_26 == 0)

s.add(x4_18 == 0)
s.add(x4_19 == 0)
s.add(x4_20 == 0)
s.add(x4_21 == 0)
s.add(x4_22 == 0)
s.add(x4_23 == 0)
s.add(x4_24 == 0)
s.add(x4_25 == 0)
s.add(x4_26 == 0)

s.add(x5_18 == 0)
s.add(x5_19 == 0)
s.add(x5_20 == 0)
s.add(x5_21 == 0)
s.add(x5_22 == 0)
s.add(x5_23 == 0)
s.add(x5_24 == 0)
s.add(x5_25 == 0)
s.add(x5_26 == 0)

s.add(x6_18 == 0)
s.add(x6_19 == 0)
s.add(x6_20 == 0)
s.add(x6_21 == 0)
s.add(x6_22 == 0)
s.add(x6_23 == 0)
s.add(x6_24 == 0)
s.add(x6_25 == 0)
s.add(x6_26 == 0)

s.add(x7_18 == 0)
s.add(x7_19 == 0)
s.add(x7_20 == 0)
s.add(x7_21 == 0)
s.add(x7_22 == 0)
s.add(x7_23 == 0)
s.add(x7_24 == 0)
s.add(x7_25 == 0)
s.add(x7_26 == 0)

s.add(x8_18 == 0)
s.add(x8_19 == 0)
s.add(x8_20 == 0)
s.add(x8_21 == 0)
s.add(x8_22 == 0)
s.add(x8_23 == 0)
s.add(x8_24 == 0)
s.add(x8_25 == 0)
s.add(x8_26 == 0)

s.add(x9_18 == 0)
s.add(x9_19 == 0)
s.add(x9_20 == 0)
s.add(x9_21 == 0)
s.add(x9_22 == 0)
s.add(x9_23 == 0)
s.add(x9_24 == 0)
s.add(x9_25 == 0)
s.add(x9_26 == 0)

s.add(x10_18 == 0)
s.add(x10_19 == 0)
s.add(x10_20 == 0)
s.add(x10_21 == 0)
s.add(x10_22 == 0)
s.add(x10_23 == 0)
s.add(x10_24 == 0)
s.add(x10_25 == 0)
s.add(x10_26 == 0)

s.add(x11_18 == 0)
s.add(x11_19 == 0)
s.add(x11_20 == 0)
s.add(x11_21 == 0)
s.add(x11_22 == 0)
s.add(x11_23 == 0)
s.add(x11_24 == 0)
s.add(x11_25 == 0)
s.add(x11_26 == 0)


#Further if an edge in the cycle is fired, then there should be a process somewhere in that cycle

s.add(Implies( (x15_18 > 0), (locABR_18 > 0)))
s.add(Implies( (x13_18 > 0), (locFDSE_18 > 0)))
s.add(Implies( (x14_18 > 0), (locCMT_18 > 0)))
s.add(Implies( (x12_18 > 0), (locSE_18 > 0)))
s.add(Implies( (x15_19 > 0), (locABR_19 > 0)))
s.add(Implies( (x13_19 > 0), (locFDSE_19 > 0)))
s.add(Implies( (x14_19 > 0), (locCMT_19 > 0)))
s.add(Implies( (x12_19 > 0), (locSE_19 > 0)))
s.add(Implies( (x15_20 > 0), (locABR_20 > 0)))
s.add(Implies( (x13_20 > 0), (locFDSE_20 > 0)))
s.add(Implies( (x14_20 > 0), (locCMT_20 > 0)))
s.add(Implies( (x12_20 > 0), (locSE_20 > 0)))
s.add(Implies( (x15_21 > 0), (locABR_21 > 0)))
s.add(Implies( (x13_21 > 0), (locFDSE_21 > 0)))
s.add(Implies( (x14_21 > 0), (locCMT_21 > 0)))
s.add(Implies( (x12_21 > 0), (locSE_21 > 0)))
s.add(Implies( (x15_22 > 0), (locABR_22 > 0)))
s.add(Implies( (x13_22 > 0), (locFDSE_22 > 0)))
s.add(Implies( (x14_22 > 0), (locCMT_22 > 0)))
s.add(Implies( (x12_22 > 0), (locSE_22 > 0)))
s.add(Implies( (x15_23 > 0), (locABR_23 > 0)))
s.add(Implies( (x13_23 > 0), (locFDSE_23 > 0)))
s.add(Implies( (x14_23 > 0), (locCMT_23 > 0)))
s.add(Implies( (x12_23 > 0), (locSE_23 > 0)))
s.add(Implies( (x15_24 > 0), (locABR_24 > 0)))
s.add(Implies( (x13_24 > 0), (locFDSE_24 > 0)))
s.add(Implies( (x14_24 > 0), (locCMT_24 > 0)))
s.add(Implies( (x12_24 > 0), (locSE_24 > 0)))
s.add(Implies( (x15_25 > 0), (locABR_25 > 0)))
s.add(Implies( (x13_25 > 0), (locFDSE_25 > 0)))
s.add(Implies( (x14_25 > 0), (locCMT_25 > 0)))
s.add(Implies( (x12_25 > 0), (locSE_25 > 0)))
s.add(Implies( (x15_26 > 0), (locABR_26 > 0)))
s.add(Implies( (x13_26 > 0), (locFDSE_26 > 0)))
s.add(Implies( (x14_26 > 0), (locCMT_26 > 0)))
s.add(Implies( (x12_26 > 0), (locSE_26 > 0)))

##################Closing the loop###############

s.add( locNO_18 == locNO_27 )
s.add( locYES_18 == locYES_27 )
s.add( locSE_18 == locSE_27 )
s.add( locFDSE_18 == locFDSE_27 )
s.add( locCMT_18 == locCMT_27 )
s.add( locABR_18 == locABR_27 )
s.add( locCR_18 == locCR_27 )
s.add( nsntNoCF_18 == nsntNoCF_27 )
s.add( nsntYesCF_18 == nsntYesCF_27 )

#################Ensuring that at least one rule has been fired

s.add(Or(Or(x12_18 > 0, x13_18 > 0, x14_18 > 0, x15_18 > 0), Or(x12_19 > 0, x13_19 > 0, x14_19 > 0, x15_19 > 0), Or(x12_20 > 0, x13_20 > 0, x14_20 > 0, x15_20 > 0), Or(x12_21 > 0, x13_21 > 0, x14_21 > 0, x15_21 > 0), Or(x12_22 > 0, x13_22 > 0, x14_22 > 0, x15_22 > 0), Or(x12_23 > 0, x13_23 > 0, x14_23 > 0, x15_23 > 0), Or(x12_24 > 0, x13_24 > 0, x14_24 > 0, x15_24 > 0), Or(x12_25 > 0, x13_25 > 0, x14_25 > 0, x15_25 > 0), Or(x12_26 > 0, x13_26 > 0, x14_26 > 0, x15_26 > 0)))

if s.check() == sat:

	print("Specification not satisfied")

	raise StopIteration("stop here")

s.reset()

#Declaring parameter variables

N = Int('N')
s.add(N >= 0)

#Adding the resilience condition

s.add(N > 1)

print("Specification satisfied")