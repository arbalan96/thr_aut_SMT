from time import *
start = time()
from z3 import *
s = Solver()

#Declaring parameter variables

N = Int('N')
T = Int('T')
F = Int('F')
s.add(N >= 0)
s.add(T >= 0)
s.add(F >= 0)

#Adding the resilience condition

s.add(N > (3 * T))
s.add(N > 3)
s.add(F >= 0)
s.add(T >= 1)
s.add(F <= T)

####################################################################################

#Creating constraints for a run between the 0th and 1th configurations

################Step 1#################


#Creating many copies of location variables

loc0_0_0 = Int('loc0_0_0')
loc0_0_1 = Int('loc0_0_1')
loc0_0_2 = Int('loc0_0_2')
loc0_0_3 = Int('loc0_0_3')
loc0_0_4 = Int('loc0_0_4')
loc0_0_5 = Int('loc0_0_5')
loc0_0_6 = Int('loc0_0_6')
loc0_0_7 = Int('loc0_0_7')
loc0_0_8 = Int('loc0_0_8')
loc0_0_9 = Int('loc0_0_9')
s.add(loc0_0_0 >= 0)
s.add(loc0_0_1 >= 0)
s.add(loc0_0_2 >= 0)
s.add(loc0_0_3 >= 0)
s.add(loc0_0_4 >= 0)
s.add(loc0_0_5 >= 0)
s.add(loc0_0_6 >= 0)
s.add(loc0_0_7 >= 0)
s.add(loc0_0_8 >= 0)
s.add(loc0_0_9 >= 0)

loc3_3_0 = Int('loc3_3_0')
loc3_3_1 = Int('loc3_3_1')
loc3_3_2 = Int('loc3_3_2')
loc3_3_3 = Int('loc3_3_3')
loc3_3_4 = Int('loc3_3_4')
loc3_3_5 = Int('loc3_3_5')
loc3_3_6 = Int('loc3_3_6')
loc3_3_7 = Int('loc3_3_7')
loc3_3_8 = Int('loc3_3_8')
loc3_3_9 = Int('loc3_3_9')
s.add(loc3_3_0 >= 0)
s.add(loc3_3_1 >= 0)
s.add(loc3_3_2 >= 0)
s.add(loc3_3_3 >= 0)
s.add(loc3_3_4 >= 0)
s.add(loc3_3_5 >= 0)
s.add(loc3_3_6 >= 0)
s.add(loc3_3_7 >= 0)
s.add(loc3_3_8 >= 0)
s.add(loc3_3_9 >= 0)

loc1_0_0 = Int('loc1_0_0')
loc1_0_1 = Int('loc1_0_1')
loc1_0_2 = Int('loc1_0_2')
loc1_0_3 = Int('loc1_0_3')
loc1_0_4 = Int('loc1_0_4')
loc1_0_5 = Int('loc1_0_5')
loc1_0_6 = Int('loc1_0_6')
loc1_0_7 = Int('loc1_0_7')
loc1_0_8 = Int('loc1_0_8')
loc1_0_9 = Int('loc1_0_9')
s.add(loc1_0_0 >= 0)
s.add(loc1_0_1 >= 0)
s.add(loc1_0_2 >= 0)
s.add(loc1_0_3 >= 0)
s.add(loc1_0_4 >= 0)
s.add(loc1_0_5 >= 0)
s.add(loc1_0_6 >= 0)
s.add(loc1_0_7 >= 0)
s.add(loc1_0_8 >= 0)
s.add(loc1_0_9 >= 0)

loc2_2_0 = Int('loc2_2_0')
loc2_2_1 = Int('loc2_2_1')
loc2_2_2 = Int('loc2_2_2')
loc2_2_3 = Int('loc2_2_3')
loc2_2_4 = Int('loc2_2_4')
loc2_2_5 = Int('loc2_2_5')
loc2_2_6 = Int('loc2_2_6')
loc2_2_7 = Int('loc2_2_7')
loc2_2_8 = Int('loc2_2_8')
loc2_2_9 = Int('loc2_2_9')
s.add(loc2_2_0 >= 0)
s.add(loc2_2_1 >= 0)
s.add(loc2_2_2 >= 0)
s.add(loc2_2_3 >= 0)
s.add(loc2_2_4 >= 0)
s.add(loc2_2_5 >= 0)
s.add(loc2_2_6 >= 0)
s.add(loc2_2_7 >= 0)
s.add(loc2_2_8 >= 0)
s.add(loc2_2_9 >= 0)

loc0_1_0 = Int('loc0_1_0')
loc0_1_1 = Int('loc0_1_1')
loc0_1_2 = Int('loc0_1_2')
loc0_1_3 = Int('loc0_1_3')
loc0_1_4 = Int('loc0_1_4')
loc0_1_5 = Int('loc0_1_5')
loc0_1_6 = Int('loc0_1_6')
loc0_1_7 = Int('loc0_1_7')
loc0_1_8 = Int('loc0_1_8')
loc0_1_9 = Int('loc0_1_9')
s.add(loc0_1_0 >= 0)
s.add(loc0_1_1 >= 0)
s.add(loc0_1_2 >= 0)
s.add(loc0_1_3 >= 0)
s.add(loc0_1_4 >= 0)
s.add(loc0_1_5 >= 0)
s.add(loc0_1_6 >= 0)
s.add(loc0_1_7 >= 0)
s.add(loc0_1_8 >= 0)
s.add(loc0_1_9 >= 0)

loc1_2_0 = Int('loc1_2_0')
loc1_2_1 = Int('loc1_2_1')
loc1_2_2 = Int('loc1_2_2')
loc1_2_3 = Int('loc1_2_3')
loc1_2_4 = Int('loc1_2_4')
loc1_2_5 = Int('loc1_2_5')
loc1_2_6 = Int('loc1_2_6')
loc1_2_7 = Int('loc1_2_7')
loc1_2_8 = Int('loc1_2_8')
loc1_2_9 = Int('loc1_2_9')
s.add(loc1_2_0 >= 0)
s.add(loc1_2_1 >= 0)
s.add(loc1_2_2 >= 0)
s.add(loc1_2_3 >= 0)
s.add(loc1_2_4 >= 0)
s.add(loc1_2_5 >= 0)
s.add(loc1_2_6 >= 0)
s.add(loc1_2_7 >= 0)
s.add(loc1_2_8 >= 0)
s.add(loc1_2_9 >= 0)

loc0_2_0 = Int('loc0_2_0')
loc0_2_1 = Int('loc0_2_1')
loc0_2_2 = Int('loc0_2_2')
loc0_2_3 = Int('loc0_2_3')
loc0_2_4 = Int('loc0_2_4')
loc0_2_5 = Int('loc0_2_5')
loc0_2_6 = Int('loc0_2_6')
loc0_2_7 = Int('loc0_2_7')
loc0_2_8 = Int('loc0_2_8')
loc0_2_9 = Int('loc0_2_9')
s.add(loc0_2_0 >= 0)
s.add(loc0_2_1 >= 0)
s.add(loc0_2_2 >= 0)
s.add(loc0_2_3 >= 0)
s.add(loc0_2_4 >= 0)
s.add(loc0_2_5 >= 0)
s.add(loc0_2_6 >= 0)
s.add(loc0_2_7 >= 0)
s.add(loc0_2_8 >= 0)
s.add(loc0_2_9 >= 0)


#Adding the constraint for the number of processes

s.add(loc0_0_0 + loc3_3_0 + loc1_0_0 + loc2_2_0 + loc0_1_0 + loc1_2_0 + loc0_2_0 == (N - F))
s.add(loc0_0_1 + loc3_3_1 + loc1_0_1 + loc2_2_1 + loc0_1_1 + loc1_2_1 + loc0_2_1 == (N - F))
s.add(loc0_0_2 + loc3_3_2 + loc1_0_2 + loc2_2_2 + loc0_1_2 + loc1_2_2 + loc0_2_2 == (N - F))
s.add(loc0_0_3 + loc3_3_3 + loc1_0_3 + loc2_2_3 + loc0_1_3 + loc1_2_3 + loc0_2_3 == (N - F))
s.add(loc0_0_4 + loc3_3_4 + loc1_0_4 + loc2_2_4 + loc0_1_4 + loc1_2_4 + loc0_2_4 == (N - F))
s.add(loc0_0_5 + loc3_3_5 + loc1_0_5 + loc2_2_5 + loc0_1_5 + loc1_2_5 + loc0_2_5 == (N - F))
s.add(loc0_0_6 + loc3_3_6 + loc1_0_6 + loc2_2_6 + loc0_1_6 + loc1_2_6 + loc0_2_6 == (N - F))
s.add(loc0_0_7 + loc3_3_7 + loc1_0_7 + loc2_2_7 + loc0_1_7 + loc1_2_7 + loc0_2_7 == (N - F))
s.add(loc0_0_8 + loc3_3_8 + loc1_0_8 + loc2_2_8 + loc0_1_8 + loc1_2_8 + loc0_2_8 == (N - F))
s.add(loc0_0_9 + loc3_3_9 + loc1_0_9 + loc2_2_9 + loc0_1_9 + loc1_2_9 + loc0_2_9 == (N - F))

#Creating many copies of shared variables

nsnt_0 = Int('nsnt_0')
nsnt_1 = Int('nsnt_1')
nsnt_2 = Int('nsnt_2')
nsnt_3 = Int('nsnt_3')
nsnt_4 = Int('nsnt_4')
nsnt_5 = Int('nsnt_5')
nsnt_6 = Int('nsnt_6')
nsnt_7 = Int('nsnt_7')
nsnt_8 = Int('nsnt_8')
nsnt_9 = Int('nsnt_9')
s.add(nsnt_0 >= 0)
s.add(nsnt_1 >= 0)
s.add(nsnt_2 >= 0)
s.add(nsnt_3 >= 0)
s.add(nsnt_4 >= 0)
s.add(nsnt_5 >= 0)
s.add(nsnt_6 >= 0)
s.add(nsnt_7 >= 0)
s.add(nsnt_8 >= 0)
s.add(nsnt_9 >= 0)


#Ensuring that the alternating indices have the same context

s.add((nsnt_0 + F >= 1 ) == (nsnt_1 + F >= 1 ))
s.add((nsnt_0 + F >= T + 1 ) == (nsnt_1 + F >= T + 1 ))
s.add((nsnt_0 + F >= N - T ) == (nsnt_1 + F >= N - T ))
s.add((nsnt_0 + F == 0 ) == (nsnt_1 + F == 0 ))
s.add((nsnt_2 + F >= 1 ) == (nsnt_3 + F >= 1 ))
s.add((nsnt_2 + F >= T + 1 ) == (nsnt_3 + F >= T + 1 ))
s.add((nsnt_2 + F >= N - T ) == (nsnt_3 + F >= N - T ))
s.add((nsnt_2 + F == 0 ) == (nsnt_3 + F == 0 ))
s.add((nsnt_4 + F >= 1 ) == (nsnt_5 + F >= 1 ))
s.add((nsnt_4 + F >= T + 1 ) == (nsnt_5 + F >= T + 1 ))
s.add((nsnt_4 + F >= N - T ) == (nsnt_5 + F >= N - T ))
s.add((nsnt_4 + F == 0 ) == (nsnt_5 + F == 0 ))
s.add((nsnt_6 + F >= 1 ) == (nsnt_7 + F >= 1 ))
s.add((nsnt_6 + F >= T + 1 ) == (nsnt_7 + F >= T + 1 ))
s.add((nsnt_6 + F >= N - T ) == (nsnt_7 + F >= N - T ))
s.add((nsnt_6 + F == 0 ) == (nsnt_7 + F == 0 ))
s.add((nsnt_8 + F >= 1 ) == (nsnt_9 + F >= 1 ))
s.add((nsnt_8 + F >= T + 1 ) == (nsnt_9 + F >= T + 1 ))
s.add((nsnt_8 + F >= N - T ) == (nsnt_9 + F >= N - T ))
s.add((nsnt_8 + F == 0 ) == (nsnt_9 + F == 0 ))

#Creating many copies of variables for rules

x0_0 = Int('x0_0')
x0_1 = Int('x0_1')
x0_2 = Int('x0_2')
x0_3 = Int('x0_3')
x0_4 = Int('x0_4')
x0_5 = Int('x0_5')
x0_6 = Int('x0_6')
x0_7 = Int('x0_7')
x0_8 = Int('x0_8')
s.add(x0_0 >= 0)
s.add(x0_1 >= 0)
s.add(x0_2 >= 0)
s.add(x0_3 >= 0)
s.add(x0_4 >= 0)
s.add(x0_5 >= 0)
s.add(x0_6 >= 0)
s.add(x0_7 >= 0)
s.add(x0_8 >= 0)

x1_0 = Int('x1_0')
x1_1 = Int('x1_1')
x1_2 = Int('x1_2')
x1_3 = Int('x1_3')
x1_4 = Int('x1_4')
x1_5 = Int('x1_5')
x1_6 = Int('x1_6')
x1_7 = Int('x1_7')
x1_8 = Int('x1_8')
s.add(x1_0 >= 0)
s.add(x1_1 >= 0)
s.add(x1_2 >= 0)
s.add(x1_3 >= 0)
s.add(x1_4 >= 0)
s.add(x1_5 >= 0)
s.add(x1_6 >= 0)
s.add(x1_7 >= 0)
s.add(x1_8 >= 0)

x2_0 = Int('x2_0')
x2_1 = Int('x2_1')
x2_2 = Int('x2_2')
x2_3 = Int('x2_3')
x2_4 = Int('x2_4')
x2_5 = Int('x2_5')
x2_6 = Int('x2_6')
x2_7 = Int('x2_7')
x2_8 = Int('x2_8')
s.add(x2_0 >= 0)
s.add(x2_1 >= 0)
s.add(x2_2 >= 0)
s.add(x2_3 >= 0)
s.add(x2_4 >= 0)
s.add(x2_5 >= 0)
s.add(x2_6 >= 0)
s.add(x2_7 >= 0)
s.add(x2_8 >= 0)

x3_0 = Int('x3_0')
x3_1 = Int('x3_1')
x3_2 = Int('x3_2')
x3_3 = Int('x3_3')
x3_4 = Int('x3_4')
x3_5 = Int('x3_5')
x3_6 = Int('x3_6')
x3_7 = Int('x3_7')
x3_8 = Int('x3_8')
s.add(x3_0 >= 0)
s.add(x3_1 >= 0)
s.add(x3_2 >= 0)
s.add(x3_3 >= 0)
s.add(x3_4 >= 0)
s.add(x3_5 >= 0)
s.add(x3_6 >= 0)
s.add(x3_7 >= 0)
s.add(x3_8 >= 0)

x4_0 = Int('x4_0')
x4_1 = Int('x4_1')
x4_2 = Int('x4_2')
x4_3 = Int('x4_3')
x4_4 = Int('x4_4')
x4_5 = Int('x4_5')
x4_6 = Int('x4_6')
x4_7 = Int('x4_7')
x4_8 = Int('x4_8')
s.add(x4_0 >= 0)
s.add(x4_1 >= 0)
s.add(x4_2 >= 0)
s.add(x4_3 >= 0)
s.add(x4_4 >= 0)
s.add(x4_5 >= 0)
s.add(x4_6 >= 0)
s.add(x4_7 >= 0)
s.add(x4_8 >= 0)

x5_0 = Int('x5_0')
x5_1 = Int('x5_1')
x5_2 = Int('x5_2')
x5_3 = Int('x5_3')
x5_4 = Int('x5_4')
x5_5 = Int('x5_5')
x5_6 = Int('x5_6')
x5_7 = Int('x5_7')
x5_8 = Int('x5_8')
s.add(x5_0 >= 0)
s.add(x5_1 >= 0)
s.add(x5_2 >= 0)
s.add(x5_3 >= 0)
s.add(x5_4 >= 0)
s.add(x5_5 >= 0)
s.add(x5_6 >= 0)
s.add(x5_7 >= 0)
s.add(x5_8 >= 0)

x6_0 = Int('x6_0')
x6_1 = Int('x6_1')
x6_2 = Int('x6_2')
x6_3 = Int('x6_3')
x6_4 = Int('x6_4')
x6_5 = Int('x6_5')
x6_6 = Int('x6_6')
x6_7 = Int('x6_7')
x6_8 = Int('x6_8')
s.add(x6_0 >= 0)
s.add(x6_1 >= 0)
s.add(x6_2 >= 0)
s.add(x6_3 >= 0)
s.add(x6_4 >= 0)
s.add(x6_5 >= 0)
s.add(x6_6 >= 0)
s.add(x6_7 >= 0)
s.add(x6_8 >= 0)

x7_0 = Int('x7_0')
x7_1 = Int('x7_1')
x7_2 = Int('x7_2')
x7_3 = Int('x7_3')
x7_4 = Int('x7_4')
x7_5 = Int('x7_5')
x7_6 = Int('x7_6')
x7_7 = Int('x7_7')
x7_8 = Int('x7_8')
s.add(x7_0 >= 0)
s.add(x7_1 >= 0)
s.add(x7_2 >= 0)
s.add(x7_3 >= 0)
s.add(x7_4 >= 0)
s.add(x7_5 >= 0)
s.add(x7_6 >= 0)
s.add(x7_7 >= 0)
s.add(x7_8 >= 0)

x8_0 = Int('x8_0')
x8_1 = Int('x8_1')
x8_2 = Int('x8_2')
x8_3 = Int('x8_3')
x8_4 = Int('x8_4')
x8_5 = Int('x8_5')
x8_6 = Int('x8_6')
x8_7 = Int('x8_7')
x8_8 = Int('x8_8')
s.add(x8_0 >= 0)
s.add(x8_1 >= 0)
s.add(x8_2 >= 0)
s.add(x8_3 >= 0)
s.add(x8_4 >= 0)
s.add(x8_5 >= 0)
s.add(x8_6 >= 0)
s.add(x8_7 >= 0)
s.add(x8_8 >= 0)

x9_0 = Int('x9_0')
x9_1 = Int('x9_1')
x9_2 = Int('x9_2')
x9_3 = Int('x9_3')
x9_4 = Int('x9_4')
x9_5 = Int('x9_5')
x9_6 = Int('x9_6')
x9_7 = Int('x9_7')
x9_8 = Int('x9_8')
s.add(x9_0 >= 0)
s.add(x9_1 >= 0)
s.add(x9_2 >= 0)
s.add(x9_3 >= 0)
s.add(x9_4 >= 0)
s.add(x9_5 >= 0)
s.add(x9_6 >= 0)
s.add(x9_7 >= 0)
s.add(x9_8 >= 0)

x10_0 = Int('x10_0')
x10_1 = Int('x10_1')
x10_2 = Int('x10_2')
x10_3 = Int('x10_3')
x10_4 = Int('x10_4')
x10_5 = Int('x10_5')
x10_6 = Int('x10_6')
x10_7 = Int('x10_7')
x10_8 = Int('x10_8')
s.add(x10_0 >= 0)
s.add(x10_1 >= 0)
s.add(x10_2 >= 0)
s.add(x10_3 >= 0)
s.add(x10_4 >= 0)
s.add(x10_5 >= 0)
s.add(x10_6 >= 0)
s.add(x10_7 >= 0)
s.add(x10_8 >= 0)

x11_0 = Int('x11_0')
x11_1 = Int('x11_1')
x11_2 = Int('x11_2')
x11_3 = Int('x11_3')
x11_4 = Int('x11_4')
x11_5 = Int('x11_5')
x11_6 = Int('x11_6')
x11_7 = Int('x11_7')
x11_8 = Int('x11_8')
s.add(x11_0 >= 0)
s.add(x11_1 >= 0)
s.add(x11_2 >= 0)
s.add(x11_3 >= 0)
s.add(x11_4 >= 0)
s.add(x11_5 >= 0)
s.add(x11_6 >= 0)
s.add(x11_7 >= 0)
s.add(x11_8 >= 0)

x12_0 = Int('x12_0')
x12_1 = Int('x12_1')
x12_2 = Int('x12_2')
x12_3 = Int('x12_3')
x12_4 = Int('x12_4')
x12_5 = Int('x12_5')
x12_6 = Int('x12_6')
x12_7 = Int('x12_7')
x12_8 = Int('x12_8')
s.add(x12_0 >= 0)
s.add(x12_1 >= 0)
s.add(x12_2 >= 0)
s.add(x12_3 >= 0)
s.add(x12_4 >= 0)
s.add(x12_5 >= 0)
s.add(x12_6 >= 0)
s.add(x12_7 >= 0)
s.add(x12_8 >= 0)

x13_0 = Int('x13_0')
x13_1 = Int('x13_1')
x13_2 = Int('x13_2')
x13_3 = Int('x13_3')
x13_4 = Int('x13_4')
x13_5 = Int('x13_5')
x13_6 = Int('x13_6')
x13_7 = Int('x13_7')
x13_8 = Int('x13_8')
s.add(x13_0 >= 0)
s.add(x13_1 >= 0)
s.add(x13_2 >= 0)
s.add(x13_3 >= 0)
s.add(x13_4 >= 0)
s.add(x13_5 >= 0)
s.add(x13_6 >= 0)
s.add(x13_7 >= 0)
s.add(x13_8 >= 0)

x14_0 = Int('x14_0')
x14_1 = Int('x14_1')
x14_2 = Int('x14_2')
x14_3 = Int('x14_3')
x14_4 = Int('x14_4')
x14_5 = Int('x14_5')
x14_6 = Int('x14_6')
x14_7 = Int('x14_7')
x14_8 = Int('x14_8')
s.add(x14_0 >= 0)
s.add(x14_1 >= 0)
s.add(x14_2 >= 0)
s.add(x14_3 >= 0)
s.add(x14_4 >= 0)
s.add(x14_5 >= 0)
s.add(x14_6 >= 0)
s.add(x14_7 >= 0)
s.add(x14_8 >= 0)

x15_0 = Int('x15_0')
x15_1 = Int('x15_1')
x15_2 = Int('x15_2')
x15_3 = Int('x15_3')
x15_4 = Int('x15_4')
x15_5 = Int('x15_5')
x15_6 = Int('x15_6')
x15_7 = Int('x15_7')
x15_8 = Int('x15_8')
s.add(x15_0 >= 0)
s.add(x15_1 >= 0)
s.add(x15_2 >= 0)
s.add(x15_3 >= 0)
s.add(x15_4 >= 0)
s.add(x15_5 >= 0)
s.add(x15_6 >= 0)
s.add(x15_7 >= 0)
s.add(x15_8 >= 0)

x16_0 = Int('x16_0')
x16_1 = Int('x16_1')
x16_2 = Int('x16_2')
x16_3 = Int('x16_3')
x16_4 = Int('x16_4')
x16_5 = Int('x16_5')
x16_6 = Int('x16_6')
x16_7 = Int('x16_7')
x16_8 = Int('x16_8')
s.add(x16_0 >= 0)
s.add(x16_1 >= 0)
s.add(x16_2 >= 0)
s.add(x16_3 >= 0)
s.add(x16_4 >= 0)
s.add(x16_5 >= 0)
s.add(x16_6 >= 0)
s.add(x16_7 >= 0)
s.add(x16_8 >= 0)

x17_0 = Int('x17_0')
x17_1 = Int('x17_1')
x17_2 = Int('x17_2')
x17_3 = Int('x17_3')
x17_4 = Int('x17_4')
x17_5 = Int('x17_5')
x17_6 = Int('x17_6')
x17_7 = Int('x17_7')
x17_8 = Int('x17_8')
s.add(x17_0 >= 0)
s.add(x17_1 >= 0)
s.add(x17_2 >= 0)
s.add(x17_3 >= 0)
s.add(x17_4 >= 0)
s.add(x17_5 >= 0)
s.add(x17_6 >= 0)
s.add(x17_7 >= 0)
s.add(x17_8 >= 0)

x18_0 = Int('x18_0')
x18_1 = Int('x18_1')
x18_2 = Int('x18_2')
x18_3 = Int('x18_3')
x18_4 = Int('x18_4')
x18_5 = Int('x18_5')
x18_6 = Int('x18_6')
x18_7 = Int('x18_7')
x18_8 = Int('x18_8')
s.add(x18_0 >= 0)
s.add(x18_1 >= 0)
s.add(x18_2 >= 0)
s.add(x18_3 >= 0)
s.add(x18_4 >= 0)
s.add(x18_5 >= 0)
s.add(x18_6 >= 0)
s.add(x18_7 >= 0)
s.add(x18_8 >= 0)

x19_0 = Int('x19_0')
x19_1 = Int('x19_1')
x19_2 = Int('x19_2')
x19_3 = Int('x19_3')
x19_4 = Int('x19_4')
x19_5 = Int('x19_5')
x19_6 = Int('x19_6')
x19_7 = Int('x19_7')
x19_8 = Int('x19_8')
s.add(x19_0 >= 0)
s.add(x19_1 >= 0)
s.add(x19_2 >= 0)
s.add(x19_3 >= 0)
s.add(x19_4 >= 0)
s.add(x19_5 >= 0)
s.add(x19_6 >= 0)
s.add(x19_7 >= 0)
s.add(x19_8 >= 0)

x20_0 = Int('x20_0')
x20_1 = Int('x20_1')
x20_2 = Int('x20_2')
x20_3 = Int('x20_3')
x20_4 = Int('x20_4')
x20_5 = Int('x20_5')
x20_6 = Int('x20_6')
x20_7 = Int('x20_7')
x20_8 = Int('x20_8')
s.add(x20_0 >= 0)
s.add(x20_1 >= 0)
s.add(x20_2 >= 0)
s.add(x20_3 >= 0)
s.add(x20_4 >= 0)
s.add(x20_5 >= 0)
s.add(x20_6 >= 0)
s.add(x20_7 >= 0)
s.add(x20_8 >= 0)


#Ensuring that at most one rule is fired between alternating configurations

s.add(Or((x0_1 == 0), (x0_1 == 1)))
s.add(Or((x1_1 == 0), (x1_1 == 1)))
s.add(Or((x2_1 == 0), (x2_1 == 1)))
s.add(Or((x3_1 == 0), (x3_1 == 1)))
s.add(Or((x4_1 == 0), (x4_1 == 1)))
s.add(Or((x5_1 == 0), (x5_1 == 1)))
s.add(Or((x6_1 == 0), (x6_1 == 1)))
s.add(Or((x7_1 == 0), (x7_1 == 1)))
s.add(Or((x8_1 == 0), (x8_1 == 1)))
s.add(Or((x9_1 == 0), (x9_1 == 1)))
s.add(Or((x10_1 == 0), (x10_1 == 1)))
s.add(Or((x11_1 == 0), (x11_1 == 1)))
s.add(Or((x12_1 == 0), (x12_1 == 1)))
s.add(Or((x13_1 == 0), (x13_1 == 1)))
s.add(Or((x14_1 == 0), (x14_1 == 1)))
s.add(Or((x15_1 == 0), (x15_1 == 1)))
s.add(Or((x16_1 == 0), (x16_1 == 1)))
s.add(Or((x17_1 == 0), (x17_1 == 1)))
s.add(Or((x18_1 == 0), (x18_1 == 1)))
s.add(Or((x19_1 == 0), (x19_1 == 1)))
s.add(Or((x20_1 == 0), (x20_1 == 1)))
s.add(x0_1 + x1_1 + x2_1 + x3_1 + x4_1 + x5_1 + x6_1 + x7_1 + x8_1 + x9_1 + x10_1 + x11_1 + x12_1 + x13_1 + x14_1 + x15_1 + x16_1 + x17_1 + x18_1 + x19_1 + x20_1 <= 1)

s.add(Or((x0_3 == 0), (x0_3 == 1)))
s.add(Or((x1_3 == 0), (x1_3 == 1)))
s.add(Or((x2_3 == 0), (x2_3 == 1)))
s.add(Or((x3_3 == 0), (x3_3 == 1)))
s.add(Or((x4_3 == 0), (x4_3 == 1)))
s.add(Or((x5_3 == 0), (x5_3 == 1)))
s.add(Or((x6_3 == 0), (x6_3 == 1)))
s.add(Or((x7_3 == 0), (x7_3 == 1)))
s.add(Or((x8_3 == 0), (x8_3 == 1)))
s.add(Or((x9_3 == 0), (x9_3 == 1)))
s.add(Or((x10_3 == 0), (x10_3 == 1)))
s.add(Or((x11_3 == 0), (x11_3 == 1)))
s.add(Or((x12_3 == 0), (x12_3 == 1)))
s.add(Or((x13_3 == 0), (x13_3 == 1)))
s.add(Or((x14_3 == 0), (x14_3 == 1)))
s.add(Or((x15_3 == 0), (x15_3 == 1)))
s.add(Or((x16_3 == 0), (x16_3 == 1)))
s.add(Or((x17_3 == 0), (x17_3 == 1)))
s.add(Or((x18_3 == 0), (x18_3 == 1)))
s.add(Or((x19_3 == 0), (x19_3 == 1)))
s.add(Or((x20_3 == 0), (x20_3 == 1)))
s.add(x0_3 + x1_3 + x2_3 + x3_3 + x4_3 + x5_3 + x6_3 + x7_3 + x8_3 + x9_3 + x10_3 + x11_3 + x12_3 + x13_3 + x14_3 + x15_3 + x16_3 + x17_3 + x18_3 + x19_3 + x20_3 <= 1)

s.add(Or((x0_5 == 0), (x0_5 == 1)))
s.add(Or((x1_5 == 0), (x1_5 == 1)))
s.add(Or((x2_5 == 0), (x2_5 == 1)))
s.add(Or((x3_5 == 0), (x3_5 == 1)))
s.add(Or((x4_5 == 0), (x4_5 == 1)))
s.add(Or((x5_5 == 0), (x5_5 == 1)))
s.add(Or((x6_5 == 0), (x6_5 == 1)))
s.add(Or((x7_5 == 0), (x7_5 == 1)))
s.add(Or((x8_5 == 0), (x8_5 == 1)))
s.add(Or((x9_5 == 0), (x9_5 == 1)))
s.add(Or((x10_5 == 0), (x10_5 == 1)))
s.add(Or((x11_5 == 0), (x11_5 == 1)))
s.add(Or((x12_5 == 0), (x12_5 == 1)))
s.add(Or((x13_5 == 0), (x13_5 == 1)))
s.add(Or((x14_5 == 0), (x14_5 == 1)))
s.add(Or((x15_5 == 0), (x15_5 == 1)))
s.add(Or((x16_5 == 0), (x16_5 == 1)))
s.add(Or((x17_5 == 0), (x17_5 == 1)))
s.add(Or((x18_5 == 0), (x18_5 == 1)))
s.add(Or((x19_5 == 0), (x19_5 == 1)))
s.add(Or((x20_5 == 0), (x20_5 == 1)))
s.add(x0_5 + x1_5 + x2_5 + x3_5 + x4_5 + x5_5 + x6_5 + x7_5 + x8_5 + x9_5 + x10_5 + x11_5 + x12_5 + x13_5 + x14_5 + x15_5 + x16_5 + x17_5 + x18_5 + x19_5 + x20_5 <= 1)

s.add(Or((x0_7 == 0), (x0_7 == 1)))
s.add(Or((x1_7 == 0), (x1_7 == 1)))
s.add(Or((x2_7 == 0), (x2_7 == 1)))
s.add(Or((x3_7 == 0), (x3_7 == 1)))
s.add(Or((x4_7 == 0), (x4_7 == 1)))
s.add(Or((x5_7 == 0), (x5_7 == 1)))
s.add(Or((x6_7 == 0), (x6_7 == 1)))
s.add(Or((x7_7 == 0), (x7_7 == 1)))
s.add(Or((x8_7 == 0), (x8_7 == 1)))
s.add(Or((x9_7 == 0), (x9_7 == 1)))
s.add(Or((x10_7 == 0), (x10_7 == 1)))
s.add(Or((x11_7 == 0), (x11_7 == 1)))
s.add(Or((x12_7 == 0), (x12_7 == 1)))
s.add(Or((x13_7 == 0), (x13_7 == 1)))
s.add(Or((x14_7 == 0), (x14_7 == 1)))
s.add(Or((x15_7 == 0), (x15_7 == 1)))
s.add(Or((x16_7 == 0), (x16_7 == 1)))
s.add(Or((x17_7 == 0), (x17_7 == 1)))
s.add(Or((x18_7 == 0), (x18_7 == 1)))
s.add(Or((x19_7 == 0), (x19_7 == 1)))
s.add(Or((x20_7 == 0), (x20_7 == 1)))
s.add(x0_7 + x1_7 + x2_7 + x3_7 + x4_7 + x5_7 + x6_7 + x7_7 + x8_7 + x9_7 + x10_7 + x11_7 + x12_7 + x13_7 + x14_7 + x15_7 + x16_7 + x17_7 + x18_7 + x19_7 + x20_7 <= 1)


###################Step 2####################


#Flow equations for the locations

s.add( - x13_0 - x14_0 + x14_0 - x15_0 - x16_0 ==  loc0_0_1 - loc0_0_0)
s.add( + x3_0 + x6_0 + x8_0 + x12_0 + x16_0 + x19_0 - x20_0 + x20_0 ==  loc3_3_1 - loc3_3_0)
s.add( + x15_0 - x17_0 - x18_0 + x18_0 - x19_0 ==  loc1_0_1 - loc1_0_0)
s.add( + x2_0 + x5_0 - x7_0 + x7_0 - x8_0 + x11_0 + x13_0 + x17_0 ==  loc2_2_1 - loc2_2_0)
s.add( - x9_0 - x10_0 - x11_0 - x12_0 ==  loc0_1_1 - loc0_1_0)
s.add( + x1_0 - x4_0 + x4_0 - x5_0 - x6_0 + x10_0 ==  loc1_2_1 - loc1_2_0)
s.add( - x0_0 + x0_0 - x1_0 - x2_0 - x3_0 + x9_0 ==  loc0_2_1 - loc0_2_0)
s.add( - x13_1 - x14_1 + x14_1 - x15_1 - x16_1 ==  loc0_0_2 - loc0_0_1)
s.add( + x3_1 + x6_1 + x8_1 + x12_1 + x16_1 + x19_1 - x20_1 + x20_1 ==  loc3_3_2 - loc3_3_1)
s.add( + x15_1 - x17_1 - x18_1 + x18_1 - x19_1 ==  loc1_0_2 - loc1_0_1)
s.add( + x2_1 + x5_1 - x7_1 + x7_1 - x8_1 + x11_1 + x13_1 + x17_1 ==  loc2_2_2 - loc2_2_1)
s.add( - x9_1 - x10_1 - x11_1 - x12_1 ==  loc0_1_2 - loc0_1_1)
s.add( + x1_1 - x4_1 + x4_1 - x5_1 - x6_1 + x10_1 ==  loc1_2_2 - loc1_2_1)
s.add( - x0_1 + x0_1 - x1_1 - x2_1 - x3_1 + x9_1 ==  loc0_2_2 - loc0_2_1)
s.add( - x13_2 - x14_2 + x14_2 - x15_2 - x16_2 ==  loc0_0_3 - loc0_0_2)
s.add( + x3_2 + x6_2 + x8_2 + x12_2 + x16_2 + x19_2 - x20_2 + x20_2 ==  loc3_3_3 - loc3_3_2)
s.add( + x15_2 - x17_2 - x18_2 + x18_2 - x19_2 ==  loc1_0_3 - loc1_0_2)
s.add( + x2_2 + x5_2 - x7_2 + x7_2 - x8_2 + x11_2 + x13_2 + x17_2 ==  loc2_2_3 - loc2_2_2)
s.add( - x9_2 - x10_2 - x11_2 - x12_2 ==  loc0_1_3 - loc0_1_2)
s.add( + x1_2 - x4_2 + x4_2 - x5_2 - x6_2 + x10_2 ==  loc1_2_3 - loc1_2_2)
s.add( - x0_2 + x0_2 - x1_2 - x2_2 - x3_2 + x9_2 ==  loc0_2_3 - loc0_2_2)
s.add( - x13_3 - x14_3 + x14_3 - x15_3 - x16_3 ==  loc0_0_4 - loc0_0_3)
s.add( + x3_3 + x6_3 + x8_3 + x12_3 + x16_3 + x19_3 - x20_3 + x20_3 ==  loc3_3_4 - loc3_3_3)
s.add( + x15_3 - x17_3 - x18_3 + x18_3 - x19_3 ==  loc1_0_4 - loc1_0_3)
s.add( + x2_3 + x5_3 - x7_3 + x7_3 - x8_3 + x11_3 + x13_3 + x17_3 ==  loc2_2_4 - loc2_2_3)
s.add( - x9_3 - x10_3 - x11_3 - x12_3 ==  loc0_1_4 - loc0_1_3)
s.add( + x1_3 - x4_3 + x4_3 - x5_3 - x6_3 + x10_3 ==  loc1_2_4 - loc1_2_3)
s.add( - x0_3 + x0_3 - x1_3 - x2_3 - x3_3 + x9_3 ==  loc0_2_4 - loc0_2_3)
s.add( - x13_4 - x14_4 + x14_4 - x15_4 - x16_4 ==  loc0_0_5 - loc0_0_4)
s.add( + x3_4 + x6_4 + x8_4 + x12_4 + x16_4 + x19_4 - x20_4 + x20_4 ==  loc3_3_5 - loc3_3_4)
s.add( + x15_4 - x17_4 - x18_4 + x18_4 - x19_4 ==  loc1_0_5 - loc1_0_4)
s.add( + x2_4 + x5_4 - x7_4 + x7_4 - x8_4 + x11_4 + x13_4 + x17_4 ==  loc2_2_5 - loc2_2_4)
s.add( - x9_4 - x10_4 - x11_4 - x12_4 ==  loc0_1_5 - loc0_1_4)
s.add( + x1_4 - x4_4 + x4_4 - x5_4 - x6_4 + x10_4 ==  loc1_2_5 - loc1_2_4)
s.add( - x0_4 + x0_4 - x1_4 - x2_4 - x3_4 + x9_4 ==  loc0_2_5 - loc0_2_4)
s.add( - x13_5 - x14_5 + x14_5 - x15_5 - x16_5 ==  loc0_0_6 - loc0_0_5)
s.add( + x3_5 + x6_5 + x8_5 + x12_5 + x16_5 + x19_5 - x20_5 + x20_5 ==  loc3_3_6 - loc3_3_5)
s.add( + x15_5 - x17_5 - x18_5 + x18_5 - x19_5 ==  loc1_0_6 - loc1_0_5)
s.add( + x2_5 + x5_5 - x7_5 + x7_5 - x8_5 + x11_5 + x13_5 + x17_5 ==  loc2_2_6 - loc2_2_5)
s.add( - x9_5 - x10_5 - x11_5 - x12_5 ==  loc0_1_6 - loc0_1_5)
s.add( + x1_5 - x4_5 + x4_5 - x5_5 - x6_5 + x10_5 ==  loc1_2_6 - loc1_2_5)
s.add( - x0_5 + x0_5 - x1_5 - x2_5 - x3_5 + x9_5 ==  loc0_2_6 - loc0_2_5)
s.add( - x13_6 - x14_6 + x14_6 - x15_6 - x16_6 ==  loc0_0_7 - loc0_0_6)
s.add( + x3_6 + x6_6 + x8_6 + x12_6 + x16_6 + x19_6 - x20_6 + x20_6 ==  loc3_3_7 - loc3_3_6)
s.add( + x15_6 - x17_6 - x18_6 + x18_6 - x19_6 ==  loc1_0_7 - loc1_0_6)
s.add( + x2_6 + x5_6 - x7_6 + x7_6 - x8_6 + x11_6 + x13_6 + x17_6 ==  loc2_2_7 - loc2_2_6)
s.add( - x9_6 - x10_6 - x11_6 - x12_6 ==  loc0_1_7 - loc0_1_6)
s.add( + x1_6 - x4_6 + x4_6 - x5_6 - x6_6 + x10_6 ==  loc1_2_7 - loc1_2_6)
s.add( - x0_6 + x0_6 - x1_6 - x2_6 - x3_6 + x9_6 ==  loc0_2_7 - loc0_2_6)
s.add( - x13_7 - x14_7 + x14_7 - x15_7 - x16_7 ==  loc0_0_8 - loc0_0_7)
s.add( + x3_7 + x6_7 + x8_7 + x12_7 + x16_7 + x19_7 - x20_7 + x20_7 ==  loc3_3_8 - loc3_3_7)
s.add( + x15_7 - x17_7 - x18_7 + x18_7 - x19_7 ==  loc1_0_8 - loc1_0_7)
s.add( + x2_7 + x5_7 - x7_7 + x7_7 - x8_7 + x11_7 + x13_7 + x17_7 ==  loc2_2_8 - loc2_2_7)
s.add( - x9_7 - x10_7 - x11_7 - x12_7 ==  loc0_1_8 - loc0_1_7)
s.add( + x1_7 - x4_7 + x4_7 - x5_7 - x6_7 + x10_7 ==  loc1_2_8 - loc1_2_7)
s.add( - x0_7 + x0_7 - x1_7 - x2_7 - x3_7 + x9_7 ==  loc0_2_8 - loc0_2_7)
s.add( - x13_8 - x14_8 + x14_8 - x15_8 - x16_8 ==  loc0_0_9 - loc0_0_8)
s.add( + x3_8 + x6_8 + x8_8 + x12_8 + x16_8 + x19_8 - x20_8 + x20_8 ==  loc3_3_9 - loc3_3_8)
s.add( + x15_8 - x17_8 - x18_8 + x18_8 - x19_8 ==  loc1_0_9 - loc1_0_8)
s.add( + x2_8 + x5_8 - x7_8 + x7_8 - x8_8 + x11_8 + x13_8 + x17_8 ==  loc2_2_9 - loc2_2_8)
s.add( - x9_8 - x10_8 - x11_8 - x12_8 ==  loc0_1_9 - loc0_1_8)
s.add( + x1_8 - x4_8 + x4_8 - x5_8 - x6_8 + x10_8 ==  loc1_2_9 - loc1_2_8)
s.add( - x0_8 + x0_8 - x1_8 - x2_8 - x3_8 + x9_8 ==  loc0_2_9 - loc0_2_8)

##################Step 3########################


#Flow equations for the shared variables

s.add(0 + x9_0 * 1 + x10_0 * 1 + x11_0 * 1 + x12_0 * 1 + x13_0 * 1 + x16_0 * 1 + x17_0 * 1 + x19_0 * 1 == nsnt_1 - nsnt_0)
s.add(0 + x9_1 * 1 + x10_1 * 1 + x11_1 * 1 + x12_1 * 1 + x13_1 * 1 + x16_1 * 1 + x17_1 * 1 + x19_1 * 1 == nsnt_2 - nsnt_1)
s.add(0 + x9_2 * 1 + x10_2 * 1 + x11_2 * 1 + x12_2 * 1 + x13_2 * 1 + x16_2 * 1 + x17_2 * 1 + x19_2 * 1 == nsnt_3 - nsnt_2)
s.add(0 + x9_3 * 1 + x10_3 * 1 + x11_3 * 1 + x12_3 * 1 + x13_3 * 1 + x16_3 * 1 + x17_3 * 1 + x19_3 * 1 == nsnt_4 - nsnt_3)
s.add(0 + x9_4 * 1 + x10_4 * 1 + x11_4 * 1 + x12_4 * 1 + x13_4 * 1 + x16_4 * 1 + x17_4 * 1 + x19_4 * 1 == nsnt_5 - nsnt_4)
s.add(0 + x9_5 * 1 + x10_5 * 1 + x11_5 * 1 + x12_5 * 1 + x13_5 * 1 + x16_5 * 1 + x17_5 * 1 + x19_5 * 1 == nsnt_6 - nsnt_5)
s.add(0 + x9_6 * 1 + x10_6 * 1 + x11_6 * 1 + x12_6 * 1 + x13_6 * 1 + x16_6 * 1 + x17_6 * 1 + x19_6 * 1 == nsnt_7 - nsnt_6)
s.add(0 + x9_7 * 1 + x10_7 * 1 + x11_7 * 1 + x12_7 * 1 + x13_7 * 1 + x16_7 * 1 + x17_7 * 1 + x19_7 * 1 == nsnt_8 - nsnt_7)
s.add(0 + x9_8 * 1 + x10_8 * 1 + x11_8 * 1 + x12_8 * 1 + x13_8 * 1 + x16_8 * 1 + x17_8 * 1 + x19_8 * 1 == nsnt_9 - nsnt_8)

####################Step 4########################


#Rule is fired implies rule is enabled

s.add(Implies( (x0_0 > 0), ((Or((nsnt_0 + F) >= 1 , (nsnt_0 + F) == 0)) ) ))
s.add(Implies( (x0_1 > 0), ((Or((nsnt_1 + F) >= 1 , (nsnt_1 + F) == 0)) ) ))
s.add(Implies( (x0_2 > 0), ((Or((nsnt_2 + F) >= 1 , (nsnt_2 + F) == 0)) ) ))
s.add(Implies( (x0_3 > 0), ((Or((nsnt_3 + F) >= 1 , (nsnt_3 + F) == 0)) ) ))
s.add(Implies( (x0_4 > 0), ((Or((nsnt_4 + F) >= 1 , (nsnt_4 + F) == 0)) ) ))
s.add(Implies( (x0_5 > 0), ((Or((nsnt_5 + F) >= 1 , (nsnt_5 + F) == 0)) ) ))
s.add(Implies( (x0_6 > 0), ((Or((nsnt_6 + F) >= 1 , (nsnt_6 + F) == 0)) ) ))
s.add(Implies( (x0_7 > 0), ((Or((nsnt_7 + F) >= 1 , (nsnt_7 + F) == 0)) ) ))
s.add(Implies( (x0_8 > 0), ((Or((nsnt_8 + F) >= 1 , (nsnt_8 + F) == 0)) ) ))
s.add(Implies( (x1_0 > 0), (((nsnt_0 + F) >= 1) ) ))
s.add(Implies( (x1_1 > 0), (((nsnt_1 + F) >= 1) ) ))
s.add(Implies( (x1_2 > 0), (((nsnt_2 + F) >= 1) ) ))
s.add(Implies( (x1_3 > 0), (((nsnt_3 + F) >= 1) ) ))
s.add(Implies( (x1_4 > 0), (((nsnt_4 + F) >= 1) ) ))
s.add(Implies( (x1_5 > 0), (((nsnt_5 + F) >= 1) ) ))
s.add(Implies( (x1_6 > 0), (((nsnt_6 + F) >= 1) ) ))
s.add(Implies( (x1_7 > 0), (((nsnt_7 + F) >= 1) ) ))
s.add(Implies( (x1_8 > 0), (((nsnt_8 + F) >= 1) ) ))
s.add(Implies( (x2_0 > 0), (((nsnt_0 + F) >= (T + 1)) ) ))
s.add(Implies( (x2_1 > 0), (((nsnt_1 + F) >= (T + 1)) ) ))
s.add(Implies( (x2_2 > 0), (((nsnt_2 + F) >= (T + 1)) ) ))
s.add(Implies( (x2_3 > 0), (((nsnt_3 + F) >= (T + 1)) ) ))
s.add(Implies( (x2_4 > 0), (((nsnt_4 + F) >= (T + 1)) ) ))
s.add(Implies( (x2_5 > 0), (((nsnt_5 + F) >= (T + 1)) ) ))
s.add(Implies( (x2_6 > 0), (((nsnt_6 + F) >= (T + 1)) ) ))
s.add(Implies( (x2_7 > 0), (((nsnt_7 + F) >= (T + 1)) ) ))
s.add(Implies( (x2_8 > 0), (((nsnt_8 + F) >= (T + 1)) ) ))
s.add(Implies( (x3_0 > 0), (((nsnt_0 + F) >= (N - T)) ) ))
s.add(Implies( (x3_1 > 0), (((nsnt_1 + F) >= (N - T)) ) ))
s.add(Implies( (x3_2 > 0), (((nsnt_2 + F) >= (N - T)) ) ))
s.add(Implies( (x3_3 > 0), (((nsnt_3 + F) >= (N - T)) ) ))
s.add(Implies( (x3_4 > 0), (((nsnt_4 + F) >= (N - T)) ) ))
s.add(Implies( (x3_5 > 0), (((nsnt_5 + F) >= (N - T)) ) ))
s.add(Implies( (x3_6 > 0), (((nsnt_6 + F) >= (N - T)) ) ))
s.add(Implies( (x3_7 > 0), (((nsnt_7 + F) >= (N - T)) ) ))
s.add(Implies( (x3_8 > 0), (((nsnt_8 + F) >= (N - T)) ) ))
s.add(Implies( (x4_0 > 0), (((nsnt_0 + F) >= 1) ) ))
s.add(Implies( (x4_1 > 0), (((nsnt_1 + F) >= 1) ) ))
s.add(Implies( (x4_2 > 0), (((nsnt_2 + F) >= 1) ) ))
s.add(Implies( (x4_3 > 0), (((nsnt_3 + F) >= 1) ) ))
s.add(Implies( (x4_4 > 0), (((nsnt_4 + F) >= 1) ) ))
s.add(Implies( (x4_5 > 0), (((nsnt_5 + F) >= 1) ) ))
s.add(Implies( (x4_6 > 0), (((nsnt_6 + F) >= 1) ) ))
s.add(Implies( (x4_7 > 0), (((nsnt_7 + F) >= 1) ) ))
s.add(Implies( (x4_8 > 0), (((nsnt_8 + F) >= 1) ) ))
s.add(Implies( (x5_0 > 0), (((nsnt_0 + F) >= (T + 1)) ) ))
s.add(Implies( (x5_1 > 0), (((nsnt_1 + F) >= (T + 1)) ) ))
s.add(Implies( (x5_2 > 0), (((nsnt_2 + F) >= (T + 1)) ) ))
s.add(Implies( (x5_3 > 0), (((nsnt_3 + F) >= (T + 1)) ) ))
s.add(Implies( (x5_4 > 0), (((nsnt_4 + F) >= (T + 1)) ) ))
s.add(Implies( (x5_5 > 0), (((nsnt_5 + F) >= (T + 1)) ) ))
s.add(Implies( (x5_6 > 0), (((nsnt_6 + F) >= (T + 1)) ) ))
s.add(Implies( (x5_7 > 0), (((nsnt_7 + F) >= (T + 1)) ) ))
s.add(Implies( (x5_8 > 0), (((nsnt_8 + F) >= (T + 1)) ) ))
s.add(Implies( (x6_0 > 0), (((nsnt_0 + F) >= (N - T)) ) ))
s.add(Implies( (x6_1 > 0), (((nsnt_1 + F) >= (N - T)) ) ))
s.add(Implies( (x6_2 > 0), (((nsnt_2 + F) >= (N - T)) ) ))
s.add(Implies( (x6_3 > 0), (((nsnt_3 + F) >= (N - T)) ) ))
s.add(Implies( (x6_4 > 0), (((nsnt_4 + F) >= (N - T)) ) ))
s.add(Implies( (x6_5 > 0), (((nsnt_5 + F) >= (N - T)) ) ))
s.add(Implies( (x6_6 > 0), (((nsnt_6 + F) >= (N - T)) ) ))
s.add(Implies( (x6_7 > 0), (((nsnt_7 + F) >= (N - T)) ) ))
s.add(Implies( (x6_8 > 0), (((nsnt_8 + F) >= (N - T)) ) ))
s.add(Implies( (x7_0 > 0), (((nsnt_0 + F) >= (T + 1)) ) ))
s.add(Implies( (x7_1 > 0), (((nsnt_1 + F) >= (T + 1)) ) ))
s.add(Implies( (x7_2 > 0), (((nsnt_2 + F) >= (T + 1)) ) ))
s.add(Implies( (x7_3 > 0), (((nsnt_3 + F) >= (T + 1)) ) ))
s.add(Implies( (x7_4 > 0), (((nsnt_4 + F) >= (T + 1)) ) ))
s.add(Implies( (x7_5 > 0), (((nsnt_5 + F) >= (T + 1)) ) ))
s.add(Implies( (x7_6 > 0), (((nsnt_6 + F) >= (T + 1)) ) ))
s.add(Implies( (x7_7 > 0), (((nsnt_7 + F) >= (T + 1)) ) ))
s.add(Implies( (x7_8 > 0), (((nsnt_8 + F) >= (T + 1)) ) ))
s.add(Implies( (x8_0 > 0), (((nsnt_0 + F) >= (N - T)) ) ))
s.add(Implies( (x8_1 > 0), (((nsnt_1 + F) >= (N - T)) ) ))
s.add(Implies( (x8_2 > 0), (((nsnt_2 + F) >= (N - T)) ) ))
s.add(Implies( (x8_3 > 0), (((nsnt_3 + F) >= (N - T)) ) ))
s.add(Implies( (x8_4 > 0), (((nsnt_4 + F) >= (N - T)) ) ))
s.add(Implies( (x8_5 > 0), (((nsnt_5 + F) >= (N - T)) ) ))
s.add(Implies( (x8_6 > 0), (((nsnt_6 + F) >= (N - T)) ) ))
s.add(Implies( (x8_7 > 0), (((nsnt_7 + F) >= (N - T)) ) ))
s.add(Implies( (x8_8 > 0), (((nsnt_8 + F) >= (N - T)) ) ))
s.add(Implies( (x9_0 > 0), ((Or((nsnt_0 + F) >= 1 , (nsnt_0 + F) == 0)) ) ))
s.add(Implies( (x9_1 > 0), ((Or((nsnt_1 + F) >= 1 , (nsnt_1 + F) == 0)) ) ))
s.add(Implies( (x9_2 > 0), ((Or((nsnt_2 + F) >= 1 , (nsnt_2 + F) == 0)) ) ))
s.add(Implies( (x9_3 > 0), ((Or((nsnt_3 + F) >= 1 , (nsnt_3 + F) == 0)) ) ))
s.add(Implies( (x9_4 > 0), ((Or((nsnt_4 + F) >= 1 , (nsnt_4 + F) == 0)) ) ))
s.add(Implies( (x9_5 > 0), ((Or((nsnt_5 + F) >= 1 , (nsnt_5 + F) == 0)) ) ))
s.add(Implies( (x9_6 > 0), ((Or((nsnt_6 + F) >= 1 , (nsnt_6 + F) == 0)) ) ))
s.add(Implies( (x9_7 > 0), ((Or((nsnt_7 + F) >= 1 , (nsnt_7 + F) == 0)) ) ))
s.add(Implies( (x9_8 > 0), ((Or((nsnt_8 + F) >= 1 , (nsnt_8 + F) == 0)) ) ))
s.add(Implies( (x10_0 > 0), (((nsnt_0 + F) >= 1) ) ))
s.add(Implies( (x10_1 > 0), (((nsnt_1 + F) >= 1) ) ))
s.add(Implies( (x10_2 > 0), (((nsnt_2 + F) >= 1) ) ))
s.add(Implies( (x10_3 > 0), (((nsnt_3 + F) >= 1) ) ))
s.add(Implies( (x10_4 > 0), (((nsnt_4 + F) >= 1) ) ))
s.add(Implies( (x10_5 > 0), (((nsnt_5 + F) >= 1) ) ))
s.add(Implies( (x10_6 > 0), (((nsnt_6 + F) >= 1) ) ))
s.add(Implies( (x10_7 > 0), (((nsnt_7 + F) >= 1) ) ))
s.add(Implies( (x10_8 > 0), (((nsnt_8 + F) >= 1) ) ))
s.add(Implies( (x11_0 > 0), (((nsnt_0 + F) >= (T + 1)) ) ))
s.add(Implies( (x11_1 > 0), (((nsnt_1 + F) >= (T + 1)) ) ))
s.add(Implies( (x11_2 > 0), (((nsnt_2 + F) >= (T + 1)) ) ))
s.add(Implies( (x11_3 > 0), (((nsnt_3 + F) >= (T + 1)) ) ))
s.add(Implies( (x11_4 > 0), (((nsnt_4 + F) >= (T + 1)) ) ))
s.add(Implies( (x11_5 > 0), (((nsnt_5 + F) >= (T + 1)) ) ))
s.add(Implies( (x11_6 > 0), (((nsnt_6 + F) >= (T + 1)) ) ))
s.add(Implies( (x11_7 > 0), (((nsnt_7 + F) >= (T + 1)) ) ))
s.add(Implies( (x11_8 > 0), (((nsnt_8 + F) >= (T + 1)) ) ))
s.add(Implies( (x12_0 > 0), (((nsnt_0 + F) >= (N - T)) ) ))
s.add(Implies( (x12_1 > 0), (((nsnt_1 + F) >= (N - T)) ) ))
s.add(Implies( (x12_2 > 0), (((nsnt_2 + F) >= (N - T)) ) ))
s.add(Implies( (x12_3 > 0), (((nsnt_3 + F) >= (N - T)) ) ))
s.add(Implies( (x12_4 > 0), (((nsnt_4 + F) >= (N - T)) ) ))
s.add(Implies( (x12_5 > 0), (((nsnt_5 + F) >= (N - T)) ) ))
s.add(Implies( (x12_6 > 0), (((nsnt_6 + F) >= (N - T)) ) ))
s.add(Implies( (x12_7 > 0), (((nsnt_7 + F) >= (N - T)) ) ))
s.add(Implies( (x12_8 > 0), (((nsnt_8 + F) >= (N - T)) ) ))
s.add(Implies( (x13_0 > 0), (((nsnt_0 + F) >= (T + 1)) ) ))
s.add(Implies( (x13_1 > 0), (((nsnt_1 + F) >= (T + 1)) ) ))
s.add(Implies( (x13_2 > 0), (((nsnt_2 + F) >= (T + 1)) ) ))
s.add(Implies( (x13_3 > 0), (((nsnt_3 + F) >= (T + 1)) ) ))
s.add(Implies( (x13_4 > 0), (((nsnt_4 + F) >= (T + 1)) ) ))
s.add(Implies( (x13_5 > 0), (((nsnt_5 + F) >= (T + 1)) ) ))
s.add(Implies( (x13_6 > 0), (((nsnt_6 + F) >= (T + 1)) ) ))
s.add(Implies( (x13_7 > 0), (((nsnt_7 + F) >= (T + 1)) ) ))
s.add(Implies( (x13_8 > 0), (((nsnt_8 + F) >= (T + 1)) ) ))
s.add(Implies( (x14_0 > 0), ((Or((nsnt_0 + F) >= 1 , (nsnt_0 + F) == 0)) ) ))
s.add(Implies( (x14_1 > 0), ((Or((nsnt_1 + F) >= 1 , (nsnt_1 + F) == 0)) ) ))
s.add(Implies( (x14_2 > 0), ((Or((nsnt_2 + F) >= 1 , (nsnt_2 + F) == 0)) ) ))
s.add(Implies( (x14_3 > 0), ((Or((nsnt_3 + F) >= 1 , (nsnt_3 + F) == 0)) ) ))
s.add(Implies( (x14_4 > 0), ((Or((nsnt_4 + F) >= 1 , (nsnt_4 + F) == 0)) ) ))
s.add(Implies( (x14_5 > 0), ((Or((nsnt_5 + F) >= 1 , (nsnt_5 + F) == 0)) ) ))
s.add(Implies( (x14_6 > 0), ((Or((nsnt_6 + F) >= 1 , (nsnt_6 + F) == 0)) ) ))
s.add(Implies( (x14_7 > 0), ((Or((nsnt_7 + F) >= 1 , (nsnt_7 + F) == 0)) ) ))
s.add(Implies( (x14_8 > 0), ((Or((nsnt_8 + F) >= 1 , (nsnt_8 + F) == 0)) ) ))
s.add(Implies( (x15_0 > 0), (((nsnt_0 + F) >= 1) ) ))
s.add(Implies( (x15_1 > 0), (((nsnt_1 + F) >= 1) ) ))
s.add(Implies( (x15_2 > 0), (((nsnt_2 + F) >= 1) ) ))
s.add(Implies( (x15_3 > 0), (((nsnt_3 + F) >= 1) ) ))
s.add(Implies( (x15_4 > 0), (((nsnt_4 + F) >= 1) ) ))
s.add(Implies( (x15_5 > 0), (((nsnt_5 + F) >= 1) ) ))
s.add(Implies( (x15_6 > 0), (((nsnt_6 + F) >= 1) ) ))
s.add(Implies( (x15_7 > 0), (((nsnt_7 + F) >= 1) ) ))
s.add(Implies( (x15_8 > 0), (((nsnt_8 + F) >= 1) ) ))
s.add(Implies( (x16_0 > 0), (((nsnt_0 + F) >= (N - T)) ) ))
s.add(Implies( (x16_1 > 0), (((nsnt_1 + F) >= (N - T)) ) ))
s.add(Implies( (x16_2 > 0), (((nsnt_2 + F) >= (N - T)) ) ))
s.add(Implies( (x16_3 > 0), (((nsnt_3 + F) >= (N - T)) ) ))
s.add(Implies( (x16_4 > 0), (((nsnt_4 + F) >= (N - T)) ) ))
s.add(Implies( (x16_5 > 0), (((nsnt_5 + F) >= (N - T)) ) ))
s.add(Implies( (x16_6 > 0), (((nsnt_6 + F) >= (N - T)) ) ))
s.add(Implies( (x16_7 > 0), (((nsnt_7 + F) >= (N - T)) ) ))
s.add(Implies( (x16_8 > 0), (((nsnt_8 + F) >= (N - T)) ) ))
s.add(Implies( (x17_0 > 0), (((nsnt_0 + F) >= (T + 1)) ) ))
s.add(Implies( (x17_1 > 0), (((nsnt_1 + F) >= (T + 1)) ) ))
s.add(Implies( (x17_2 > 0), (((nsnt_2 + F) >= (T + 1)) ) ))
s.add(Implies( (x17_3 > 0), (((nsnt_3 + F) >= (T + 1)) ) ))
s.add(Implies( (x17_4 > 0), (((nsnt_4 + F) >= (T + 1)) ) ))
s.add(Implies( (x17_5 > 0), (((nsnt_5 + F) >= (T + 1)) ) ))
s.add(Implies( (x17_6 > 0), (((nsnt_6 + F) >= (T + 1)) ) ))
s.add(Implies( (x17_7 > 0), (((nsnt_7 + F) >= (T + 1)) ) ))
s.add(Implies( (x17_8 > 0), (((nsnt_8 + F) >= (T + 1)) ) ))
s.add(Implies( (x18_0 > 0), (((nsnt_0 + F) >= 1) ) ))
s.add(Implies( (x18_1 > 0), (((nsnt_1 + F) >= 1) ) ))
s.add(Implies( (x18_2 > 0), (((nsnt_2 + F) >= 1) ) ))
s.add(Implies( (x18_3 > 0), (((nsnt_3 + F) >= 1) ) ))
s.add(Implies( (x18_4 > 0), (((nsnt_4 + F) >= 1) ) ))
s.add(Implies( (x18_5 > 0), (((nsnt_5 + F) >= 1) ) ))
s.add(Implies( (x18_6 > 0), (((nsnt_6 + F) >= 1) ) ))
s.add(Implies( (x18_7 > 0), (((nsnt_7 + F) >= 1) ) ))
s.add(Implies( (x18_8 > 0), (((nsnt_8 + F) >= 1) ) ))
s.add(Implies( (x19_0 > 0), (((nsnt_0 + F) >= (N - T)) ) ))
s.add(Implies( (x19_1 > 0), (((nsnt_1 + F) >= (N - T)) ) ))
s.add(Implies( (x19_2 > 0), (((nsnt_2 + F) >= (N - T)) ) ))
s.add(Implies( (x19_3 > 0), (((nsnt_3 + F) >= (N - T)) ) ))
s.add(Implies( (x19_4 > 0), (((nsnt_4 + F) >= (N - T)) ) ))
s.add(Implies( (x19_5 > 0), (((nsnt_5 + F) >= (N - T)) ) ))
s.add(Implies( (x19_6 > 0), (((nsnt_6 + F) >= (N - T)) ) ))
s.add(Implies( (x19_7 > 0), (((nsnt_7 + F) >= (N - T)) ) ))
s.add(Implies( (x19_8 > 0), (((nsnt_8 + F) >= (N - T)) ) ))
s.add(Implies( (x20_0 > 0), (((nsnt_0 + F) >= (N - T)) ) ))
s.add(Implies( (x20_1 > 0), (((nsnt_1 + F) >= (N - T)) ) ))
s.add(Implies( (x20_2 > 0), (((nsnt_2 + F) >= (N - T)) ) ))
s.add(Implies( (x20_3 > 0), (((nsnt_3 + F) >= (N - T)) ) ))
s.add(Implies( (x20_4 > 0), (((nsnt_4 + F) >= (N - T)) ) ))
s.add(Implies( (x20_5 > 0), (((nsnt_5 + F) >= (N - T)) ) ))
s.add(Implies( (x20_6 > 0), (((nsnt_6 + F) >= (N - T)) ) ))
s.add(Implies( (x20_7 > 0), (((nsnt_7 + F) >= (N - T)) ) ))
s.add(Implies( (x20_8 > 0), (((nsnt_8 + F) >= (N - T)) ) ))

######################Step 5#####################


#Constraints that the 0th configuration has to satisfy

s.add(And(loc0_2_0 == 0, loc1_2_0 == 0, loc0_1_0 == 0, loc2_2_0 == 0, loc3_3_0 == 0) )

#######################Step 5 1/2################


#Ensure that the constraints on the initial configuration are satisfied

s.add((loc0_1_0 + loc0_0_0) == (N - F))
s.add(loc3_3_0 == 0)
s.add(loc1_0_0 == 0)
s.add(loc2_2_0 == 0)
s.add(loc1_2_0 == 0)
s.add(loc0_2_0 == 0)
s.add(nsnt_0 == 0)

#####################Step 6########################


#Constraints that the path between the 0th and 1th configuration has to satisfy

s.add(True )
s.add(True )
s.add(True )
s.add(True )
s.add(True )
s.add(True )
s.add(True )
s.add(True )
s.add(True )
s.add(True )

#####################Step 7#########################


#In the inital part, we do not allow all the edges in a cycle to be fired as this is clearly wasteful, assuming the automaton is canonical


#Further, if an edge is a self-loop, we do not fire that as well

s.add(x0_0 == 0)
s.add(x0_1 == 0)
s.add(x0_2 == 0)
s.add(x0_3 == 0)
s.add(x0_4 == 0)
s.add(x0_5 == 0)
s.add(x0_6 == 0)
s.add(x0_7 == 0)
s.add(x0_8 == 0)
s.add(x4_0 == 0)
s.add(x4_1 == 0)
s.add(x4_2 == 0)
s.add(x4_3 == 0)
s.add(x4_4 == 0)
s.add(x4_5 == 0)
s.add(x4_6 == 0)
s.add(x4_7 == 0)
s.add(x4_8 == 0)
s.add(x7_0 == 0)
s.add(x7_1 == 0)
s.add(x7_2 == 0)
s.add(x7_3 == 0)
s.add(x7_4 == 0)
s.add(x7_5 == 0)
s.add(x7_6 == 0)
s.add(x7_7 == 0)
s.add(x7_8 == 0)
s.add(x14_0 == 0)
s.add(x14_1 == 0)
s.add(x14_2 == 0)
s.add(x14_3 == 0)
s.add(x14_4 == 0)
s.add(x14_5 == 0)
s.add(x14_6 == 0)
s.add(x14_7 == 0)
s.add(x14_8 == 0)
s.add(x18_0 == 0)
s.add(x18_1 == 0)
s.add(x18_2 == 0)
s.add(x18_3 == 0)
s.add(x18_4 == 0)
s.add(x18_5 == 0)
s.add(x18_6 == 0)
s.add(x18_7 == 0)
s.add(x18_8 == 0)
s.add(x20_0 == 0)
s.add(x20_1 == 0)
s.add(x20_2 == 0)
s.add(x20_3 == 0)
s.add(x20_4 == 0)
s.add(x20_5 == 0)
s.add(x20_6 == 0)
s.add(x20_7 == 0)
s.add(x20_8 == 0)
s.add(loc3_3_9 != 0 )

print(s.check())

s.reset()
